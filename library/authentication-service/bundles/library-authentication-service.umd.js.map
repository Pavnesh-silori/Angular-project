{"version":3,"file":"library-authentication-service.umd.js","sources":["../../../projects/library/authentication-service/src/lib/authentication-service.service.ts","../../../projects/library/authentication-service/src/lib/authentication-service.component.ts","../../../projects/library/authentication-service/src/lib/authentication-service.module.ts","../../../projects/library/authentication-service/src/lib/tsc/service/authentication.service.ts","../../../projects/library/authentication-service/src/lib/tsc/guard/auth.guard.ts","../../../projects/library/authentication-service/src/public-api.ts","../../../projects/library/authentication-service/src/library-authentication-service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationServiceService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-authentication-service',\n  template: `\n    <p>\n      authentication-service works!\n    </p>\n  `,\n  styles: [\n  ]\n})\nexport class AuthenticationServiceComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { \n    NgModule, \n    ModuleWithProviders \n} from '@angular/core';\n\nimport { AuthenticationServiceComponent } from './authentication-service.component';\n\n@NgModule({\n    declarations: [\n        AuthenticationServiceComponent\n    ],\n    imports: [\n    ],\n    exports: [\n        AuthenticationServiceComponent\n    ]\n})\n\nexport class AuthenticationServiceModule {\n    static forRoot(environment: any): ModuleWithProviders<AuthenticationServiceModule> {\n        return {\n            ngModule: AuthenticationServiceModule,\n            providers: [\n                { provide: 'environment', useValue: environment }\n            ]\n        };\n    }\n}\n","import { Inject, Injectable } from \"@angular/core\";\nimport { StorageService } from \"@library/storage-service\";\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class AuthenticationService {\n\n    ACCOUNT_KEY_ID = \"ACCOUNT\";\n\n    constructor(\n        @Inject('environment') private environment: any,\n        private storageService: StorageService,\n    ) { }\n\n    isLoggedIn() {\n        // return this.getStorage('token');\n\n        let userID: string = '';\n        // let netZeroA: string = '';\n        // let primaryOrgID: string = '';\n        // let defaultApp: string = '';\n        // let currentApp: string = '';\n        // let currentOrgID: string = '';\n        let token: string = '';\n        // let resourcePermissions: string = '';\n        // let currentOrgType: string = '';\n\n        userID = this.storageService.getStorage('userID');\n        // netZeroA = this.getStorage('netZeroA');\n        // primaryOrgID = this.getStorage('primaryOrgID');\n        // defaultApp = this.getStorage('defaultApp');\n        // currentApp = this.getStorage('currentApp');\n        // currentOrgID = this.getStorage('currentOrgID');\n        token = this.storageService.getStorage('token');\n        // resourcePermissions = this.getStorage('resourcePermissions');\n        // currentOrgType = this.getStorage('currentOrgType');\n\n        // console.log('userID', userID);\n        // console.log('netZeroA', netZeroA);\n        // console.log('primaryOrgID', primaryOrgID);\n        // console.log('defaultApp', defaultApp);\n        // console.log('currentApp', currentApp);\n        // console.log('currentOrgID', currentOrgID);\n        // console.log('token', token);\n        // console.log('resourcePermissions', resourcePermissions);\n        // console.log('currentOrgType', currentOrgType);\n\n        // let userIDLength = userID.length;\n        // let netZeroALength = netZeroA.length;\n        // let primaryOrgIDLength = primaryOrgID.length;\n        // let defaultAppLength = defaultApp.length;\n        // let currentAppLength = currentApp.length;\n        // let currentOrgIDLength = currentOrgID.length;\n        // let tokenLength = token.length;\n        // let permissionsLength = resourcePermissions.length;\n        // let currentOrgTypeLength = currentOrgType.length;\n\n        if (\n            userID == 'undefined' ||\n            // netZeroA == 'undefined' ||\n            // primaryOrgID == 'undefined' ||\n            // defaultApp == 'undefined' ||\n            // currentApp == 'undefined' ||\n            // currentOrgID == 'undefined' ||\n            token == 'undefined' ||\n            // resourcePermissions == 'undefined' ||\n            // currentOrgType == 'undefined' ||\n            userID == 'null' ||\n            // netZeroA == 'null' ||\n            // primaryOrgID == 'null' ||\n            // defaultApp == 'null' ||\n            // currentApp == 'null' ||\n            // currentOrgID == 'null' ||\n            token == 'null' ||\n            // resourcePermissions == 'null' ||\n            // currentOrgType == 'null' ||\n            userID == null ||\n            // netZeroA == null ||\n            // primaryOrgID == null ||\n            // defaultApp == null ||\n            // currentApp == null ||\n            // currentOrgID == null ||\n            token == null ||\n            // resourcePermissions == null ||\n            // currentOrgType == null ||\n            userID == '' ||\n            // netZeroA == '' ||\n            // primaryOrgID == '' ||\n            // defaultApp == '' ||\n            // currentApp == '' ||\n            // currentOrgID == '' ||\n            token == ''\n            // resourcePermissions == '' ||\n            // currentOrgType == ''\n            // userIDLength == 0 ||\n            // netZeroALength == 0 ||\n            // primaryOrgIDLength == 0 ||\n            // defaultAppLength == 0 ||\n            // currentAppLength == 0 ||\n            // currentOrgIDLength == 0 ||\n            // tokenLength == 0 ||\n            // permissionsLength == 0 ||\n            // currentOrgTypeLength == 0 \n        ) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    logout(redirectUrl, pageUrl, action, applicationKeyID = '') {\n        localStorage.clear();\n        sessionStorage.clear();\n\n        if (applicationKeyID != this.ACCOUNT_KEY_ID && action == 'interceptor') {\n            window.location.href = `${this.environment.ACCOUNT_URL}login?redirectUrl=${redirectUrl}&pageUrl=${pageUrl}`;\n        } else {            \n            window.location.href = `${this.environment.ACCOUNT_URL}login?redirectUrl=${redirectUrl}&pageUrl=${pageUrl}&action=${action}`;\n        }\n    }\n\n}","import { Injectable } from '@angular/core';\n\nimport {\n    CanActivate,\n    ActivatedRouteSnapshot,\n    RouterStateSnapshot\n} from '@angular/router';\n\nimport { Observable } from 'rxjs';\n\nimport { AuthenticationService } from '../service/authentication.service';\n\n@Injectable({\n    providedIn: 'root'\n})\n\nexport class AuthGuard implements CanActivate {\n    constructor(\n        private authenticationService: AuthenticationService\n    ) { }\n\n    canActivate(\n        route: ActivatedRouteSnapshot,\n        state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n\n        if (this.authenticationService.isLoggedIn()) {\n            return true;\n        } else {\n            let appURL: string;\n\n            // this.activatedRoute.data.subscribe(data => {\n            //     console.log('data -', data);\n            //     appURL = data.appURL;\n            // });\n\n            appURL = route.data.appURL;\n\n            this.authenticationService.logout(appURL + 'login', state.url, '');\n            return false;\n        }\n    }\n\n}\n","/*\n * Public API Surface of authentication-service\n */\n\nexport * from './lib/authentication-service.service';\nexport * from './lib/authentication-service.component';\nexport * from './lib/authentication-service.module';\n\nexport * from './lib/tsc/service/authentication.service';\nexport * from './lib/tsc/guard/auth.guard';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0","Injectable","Component","NgModule","i1","Inject","i1.AuthenticationService"],"mappings":"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"}