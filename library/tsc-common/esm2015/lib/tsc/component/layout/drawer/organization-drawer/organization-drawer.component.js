import { __awaiter } from "tslib";
import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { COMMON_CONSTANT } from '../../../../constant/common.constant';
import { Facility } from '@library/facility-service';
import { Organization, OrgStatus, OrgSiteAccess, OrgType, OrgSiteAccessType } from '@library/organization-service';
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@library/storage-service";
import * as i3 from "@library/organization-service";
import * as i4 from "@library/facility-service";
import * as i5 from "ngx-perfect-scrollbar";
import * as i6 from "../../../search/search-bar-two/search-bar-two.component";
import * as i7 from "@angular/material/card";
import * as i8 from "@angular/common";
export class OrganizationDrawerComponent {
    constructor(activatedRoute, storageService, organizationService, facilityService) {
        this.activatedRoute = activatedRoute;
        this.storageService = storageService;
        this.organizationService = organizationService;
        this.facilityService = facilityService;
        this.toggleOrgDrawerGlobal = new EventEmitter(true);
        this.COMMON_CONSTANT = COMMON_CONSTANT;
        this.showOrgAndFacility = false;
        this.OrgStatus = OrgStatus;
        this.OrgType = OrgType;
        this.OrgSiteAccessType = OrgSiteAccessType;
        this.organizationM = new Organization();
        this.facilityM = new Facility();
        this.orgSiteAccessM = new OrgSiteAccess();
        this.filteredOrgAccessM = [];
    }
    ngOnInit() {
        this.toggleOrgDrawerGlobal.emit(false);
        this.userID = this.storageService.getStorage('userID');
        this.rootOrgID = this.storageService.getStorage(['rootOrgID']);
        this.currentOrgID = this.storageService.getStorage('currentOrgID');
        if (this.rootOrgID == this.currentOrgID) {
            this.getFacilityByID();
        }
        else {
            this.getOrgByID();
            this.getFacilityByID();
            this.showOrgAndFacility = true;
        }
        this.getOrgSiteWithUserAccess();
    }
    getOrgByID() {
        return __awaiter(this, void 0, void 0, function* () {
            this.organizationM = (yield this.organizationService.getOrganizationByID(this.rootOrgID));
        });
    }
    getFacilityByID() {
        return __awaiter(this, void 0, void 0, function* () {
            this.facilityM = (yield this.facilityService.getFacilityByID(this.rootOrgID, this.currentOrgID));
        });
    }
    getOrgSiteWithUserAccess() {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            this.orgSiteAccessM = (yield this.organizationService.getOrgSiteWithUserAccess(this.userID));
            this.filteredOrgAccessM = [...(_a = this.orgSiteAccessM) === null || _a === void 0 ? void 0 : _a.records];
        });
    }
    toggleOrgDrawerFun() {
        this.toggleOrgDrawer = !this.toggleOrgDrawer;
        this.toggleOrgDrawerGlobal.emit(this.toggleOrgDrawer);
    }
    searchFn(value) {
        var _a, _b;
        const searchTerm = value.trim().toLowerCase();
        if (searchTerm.length > 0) {
            this.filteredOrgAccessM = (_a = this.orgSiteAccessM) === null || _a === void 0 ? void 0 : _a.records.filter(org => org.name.trim().toLowerCase().includes(searchTerm));
        }
        else {
            this.searchBar.searchClear();
            this.filteredOrgAccessM = [...(_b = this.orgSiteAccessM) === null || _b === void 0 ? void 0 : _b.records];
        }
    }
    orgSwitch(orgID) {
        let currentRoute = this.activatedRoute;
        let orgSwitchRedirect = null;
        while (currentRoute.firstChild) {
            currentRoute = currentRoute.firstChild;
            if (currentRoute.snapshot.data && currentRoute.snapshot.data.orgSwitchRedirect) {
                orgSwitchRedirect = currentRoute.snapshot.data.orgSwitchRedirect;
            }
        }
        this.organizationService.orgSwitch(orgID, orgSwitchRedirect);
    }
}
OrganizationDrawerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: OrganizationDrawerComponent, deps: [{ token: i1.ActivatedRoute }, { token: i2.StorageService }, { token: i3.OrganizationService }, { token: i4.FacilityService }], target: i0.ɵɵFactoryTarget.Component });
OrganizationDrawerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: OrganizationDrawerComponent, selector: "lib-organization-drawer", inputs: { toggleOrgDrawer: "toggleOrgDrawer", drawerAccessType: "drawerAccessType" }, outputs: { toggleOrgDrawerGlobal: "toggleOrgDrawerGlobal" }, viewQueries: [{ propertyName: "searchBar", first: true, predicate: ["searchBar"], descendants: true }], ngImport: i0, template: "<div class=\"drawer-wrapper\">\n    <div class=\"drawer-nav-btn\">\n        <button type=\"button\" class=\"hamburger hamburger--elastic\" [ngClass]=\"{'is-active' : toggleOrgDrawer}\"\n            (click)=\"toggleOrgDrawerFun()\">\n            <span class=\"hamburger-box\"><span class=\"hamburger-inner\"></span></span>\n        </button>\n    </div>\n    <div class=\"drawer-content-wrapper\">\n        <section class=\"scrollbar-container\">\n            <perfect-scrollbar [autoPropagation]=\"true\">\n                <div class=\"container mt-5\">\n                    <div class=\"row mt-3\" *ngIf=\"showOrgAndFacility\">\n                        <ng-container *ngTemplateOutlet=\"orgFacilityTemplate; \n                            context: {\n                                matCardClass: 'org-border-left',\n                                name: organizationM.name,\n                                idLabel: 'Org ID',\n                                id: organizationM.id,\n                                state: organizationM.stateName,\n                                country: organizationM.countryName,\n                                status: organizationM.status,\n                                image: organizationM.logoUrl,\n                                orgFacilityLabel: 'Organization',\n                                orgFacilityLabelClass: 'bg-primary',\n                                type: OrgType.ORGANIZATION\n                            }\">\n                        </ng-container>\n                    </div>\n                    <div class=\"row mt-3\">\n                        <ng-container *ngTemplateOutlet=\"orgFacilityTemplate; \n                            context: {\n                                matCardClass: 'current-org-border-left',\n                                name: facilityM.name,\n                                idLabel: rootOrgID == currentOrgID ? 'Org ID' : 'Facility ID',\n                                id: facilityM.id,\n                                state: facilityM.stateName,\n                                country: facilityM.countryName,\n                                status: facilityM.status,\n                                image: facilityM.logoUrl,\n                                orgFacilityLabel: rootOrgID == currentOrgID ? 'Current organization' : 'Current facility',\n                                orgFacilityLabelClass: 'bg-success',\n                                type: rootOrgID == currentOrgID ? OrgType.ORGANIZATION : OrgType.SITE\n                            }\">\n                        </ng-container>\n                    </div>\n                    <div class=\"row mt-4\">\n                        <div class=\"col-sm-6\">\n                            <span class=\"card-title sectionTitle\">\n                                <ng-container *ngIf=\"drawerAccessType == OrgSiteAccessType.SITE; else showOrg;\">\n                                    All Facilities\n                                </ng-container>\n                                <ng-template #showOrg>\n                                    All Organizations\n                                </ng-template>\n                            </span>\n                            <span class=\"badge rounded-pill bg-light text-dark ms-3\">{{ orgSiteAccessM ?\n                                orgSiteAccessM.totalCount : COMMON_CONSTANT.HYPHEN }}</span>\n                        </div>\n                        <div class=\"col-sm-6\">\n                            <lib-search-bar-two class=\"float-end me-3\" #searchBar searchBy=\"name\"\n                                (emitSearch)=\"searchFn($event)\">\n                            </lib-search-bar-two>\n                        </div>\n                    </div>\n                    <div class=\"row mt-3\">\n                        <div class=\"col-sm-12 mb-3\" *ngFor=\"let org of filteredOrgAccessM; let i=index\"\n                            (click)=\"currentOrgID != org.id && orgSwitch(org.id)\"\n                            [ngClass]=\"{'cursorPointer': currentOrgID != org.id}\">\n                            <mat-card class=\"card cardOverwrite\"\n                                [ngClass]=\"{'current-org': currentOrgID == org.id, 'border': currentOrgID != org.id}\">\n                                <div class=\"row\">\n                                    <div class=\"col-sm-8 d-flex flex-column justify-content-center\">\n                                        <span class=\"fw-bold\">{{ org.name ? org.name :\n                                            COMMON_CONSTANT.HYPHEN }}</span>\n                                        <div class=\"row text-secondary\">\n                                            <div class=\"col-sm-4\" *ngIf=\"org.type == OrgType.ORGANIZATION\">Org ID:\n                                            </div>\n                                            <div class=\"col-sm-4\" *ngIf=\"org.type == OrgType.SITE\">Facility ID:</div>\n                                            <div class=\"col-sm-8 fw-bold\">{{ org.id }}</div>\n                                        </div>\n                                        <div *ngIf=\"org.type == OrgType.SITE\">\n                                            <div class=\"row text-secondary\">\n                                                <div class=\"col-sm-4\">Org Name:</div>\n                                                <div class=\"col-sm-8 fw-bold\">{{ org.orgName }}</div>\n                                            </div>\n                                            <div class=\"row text-secondary\">\n                                                <div class=\"col-sm-4\">Org ID:</div>\n                                                <div class=\"col-sm-8 fw-bold\">{{ org.orgID }}</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-sm-4 d-flex flex-column align-items-center justify-content-center\">\n                                        <ng-container *ngIf=\"org.logoUrl && org.logoUrl != null; else showDefaultIcon;\">\n                                            <img class=\"listOrgView\" [src]=\"org.logoUrl\" alt=\"org-logo\" />\n                                        </ng-container>\n                                        <ng-template #showDefaultIcon>\n                                            <ng-container *ngIf=\"org.type == OrgType.ORGANIZATION\">\n                                                <span class=\"material-symbols-outlined fs-1\">\n                                                    corporate_fare\n                                                </span>\n                                            </ng-container>\n                                            <ng-container *ngIf=\"org.type == OrgType.SITE\">\n                                                <span class=\"material-symbols-outlined fs-1\">\n                                                    factory\n                                                </span>\n                                            </ng-container>\n                                        </ng-template>\n                                        <span [ngSwitch]=\"org.type\">\n                                            <span class=\"badge rounded-pill mt-2\"\n                                                [ngClass]=\"{'bg-success': currentOrgID == org.id, 'bg-secondary': currentOrgID != org.id}\"\n                                                *ngSwitchCase=\"'ORG'\">Organization</span>\n                                            <span class=\"badge rounded-pill mt-2\"\n                                                [ngClass]=\"{'bg-success': currentOrgID == org.id, 'bg-secondary': currentOrgID != org.id}\"\n                                                *ngSwitchCase=\"'SITE'\">Facility</span>\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"org.subscriptionStatus == OrgStatus.INACTIVE_STATUS\">\n                                    <div class=\"col-sm-12\">\n                                        <span class=\"text-danger me-3 fw-bold float-end expiredFontSize\">\n                                            Subscription expired\n                                        </span>\n                                    </div>\n                                </div>\n                            </mat-card>\n                        </div>\n                    </div>\n                </div>\n            </perfect-scrollbar>\n        </section>\n    </div>\n</div>\n\n<div class=\"drawer-overlay\" (click)=\"toggleOrgDrawerFun()\"></div>\n\n<ng-template #orgFacilityTemplate let-name=\"name\" let-state=\"state\" let-country=\"country\" let-status=\"status\"\n    let-type=\"type\" let-idLabel=\"idLabel\" let-id=\"id\" let-matCardClass=\"matCardClass\" let-image=\"image\"\n    let-orgFacilityLabel=\"orgFacilityLabel\" let-orgFacilityLabelClass=\"orgFacilityLabelClass\">\n    <div class=\"col-sm-12\">\n        <mat-card class=\"cardOverwrite cardBackgroundColor\" [class]=\"matCardClass\">\n            <div class=\"row\">\n                <div class=\"col-sm-8\">\n                    <div class=\"d-flex flex-column\">\n                        <span class=\"fw-bold\">\n                            {{ name ? name : COMMON_CONSTANT.HYPHEN }}\n                        </span>\n                        <div class=\"row text-secondary\">\n                            <div class=\"col-sm-4\">\n                                {{ idLabel }}\n                            </div>\n                            <div class=\"col-sm-8 fw-bold\">\n                                {{ id }}\n                            </div>\n                        </div>\n                        <div class=\"row text-secondary\">\n                            <div class=\"col-sm-4\">Address:</div>\n                            <div class=\"col-sm-8 fw-bold\">{{ state }}, {{ country }}</div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-sm-4 text-secondary\">Status:</div>\n                            <div class=\"col-sm-8 fw-bold\"\n                                [ngClass]=\"{'text-success': status == OrgStatus.ACTIVE_STATUS, 'text-danger': status == OrgStatus.INACTIVE_STATUS}\">\n                                {{ status | titlecase }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-sm-4 d-flex flex-column align-items-center justify-content-center\">\n                    <ng-container *ngIf=\"image && image != null; else showIcon;\">\n                        <img class=\"orgViewLogo\" [src]=\"image\" alt=\"org-logo\" />\n                    </ng-container>\n                    <ng-template #showIcon>\n                        <ng-container *ngIf=\"type == OrgType.ORGANIZATION\">\n                            <span class=\"material-symbols-outlined fs-1\">\n                                corporate_fare\n                            </span>\n                        </ng-container>\n                        <ng-container *ngIf=\"type == OrgType.SITE\">\n                            <span class=\"material-symbols-outlined fs-1\">\n                                factory\n                            </span>\n                        </ng-container>\n                    </ng-template>\n                    <span class=\"badge rounded-pill mt-2\" [class]=\"orgFacilityLabelClass\">{{ orgFacilityLabel }}</span>\n                </div>\n            </div>\n        </mat-card>\n    </div>\n</ng-template>", styles: [".mat-card{padding:12px}.current-org-border-left{border-left:5px solid #3ac47d}.org-border-left{border-left:5px solid #007bff}.cardBackgroundColor{background:whitesmoke}.badge{text-transform:none}.orgViewLogo{height:45px}.listOrgView{height:30px}.current-org{border-left:5px solid #3ac47d;background:whitesmoke}.expiredFontSize{font-size:12px}\n"], components: [{ type: i5.PerfectScrollbarComponent, selector: "perfect-scrollbar", inputs: ["disabled", "usePSClass", "autoPropagation", "scrollIndicators", "config"], outputs: ["psScrollY", "psScrollX", "psScrollUp", "psScrollDown", "psScrollLeft", "psScrollRight", "psYReachEnd", "psYReachStart", "psXReachEnd", "psXReachStart"], exportAs: ["ngxPerfectScrollbar"] }, { type: i6.SearchBarTwoComponent, selector: "lib-search-bar-two", inputs: ["type", "searchBy", "clear"], outputs: ["emitSearch"] }, { type: i7.MatCard, selector: "mat-card", exportAs: ["matCard"] }], directives: [{ type: i8.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i8.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i8.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i8.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i8.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }], pipes: { "titlecase": i8.TitleCasePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: OrganizationDrawerComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-organization-drawer',
                    templateUrl: './organization-drawer.component.html',
                    styleUrls: ['./organization-drawer.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.ActivatedRoute }, { type: i2.StorageService }, { type: i3.OrganizationService }, { type: i4.FacilityService }]; }, propDecorators: { toggleOrgDrawer: [{
                type: Input
            }], drawerAccessType: [{
                type: Input
            }], toggleOrgDrawerGlobal: [{
                type: Output
            }], searchBar: [{
                type: ViewChild,
                args: ['searchBar']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JnYW5pemF0aW9uLWRyYXdlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L3RzYy1jb21tb24vc3JjL2xpYi90c2MvY29tcG9uZW50L2xheW91dC9kcmF3ZXIvb3JnYW5pemF0aW9uLWRyYXdlci9vcmdhbml6YXRpb24tZHJhd2VyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvdHNjLWNvbW1vbi9zcmMvbGliL3RzYy9jb21wb25lbnQvbGF5b3V0L2RyYXdlci9vcmdhbml6YXRpb24tZHJhd2VyL29yZ2FuaXphdGlvbi1kcmF3ZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDSCxTQUFTLEVBQ1QsWUFBWSxFQUNaLEtBQUssRUFDTCxNQUFNLEVBQ04sU0FBUyxFQUNaLE1BQU0sZUFBZSxDQUFDO0FBSXZCLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUl2RSxPQUFPLEVBQUUsUUFBUSxFQUE4QixNQUFNLDJCQUEyQixDQUFDO0FBQ2pGLE9BQU8sRUFBa0IsWUFBWSxFQUFpQixTQUFTLEVBQXVCLGFBQWEsRUFBRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7Ozs7OztBQVN2SyxNQUFNLE9BQU8sMkJBQTJCO0lBOEJwQyxZQUNZLGNBQThCLEVBQzlCLGNBQThCLEVBQzlCLG1CQUF3QyxFQUN4QyxlQUFnQztRQUhoQyxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDOUIsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFDeEMsb0JBQWUsR0FBZixlQUFlLENBQWlCO1FBM0JsQywwQkFBcUIsR0FBMEIsSUFBSSxZQUFZLENBQUMsSUFBSSxD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LE1BQUEsSUFBSSxDQUFDLGNBQWMsMENBQUUsT0FBTyxDQUFDLENBQUM7U0FDL0Q7SUFDTCxDQUFDO0lBRUQsU0FBUyxDQUFDLEtBQUs7UUFDWCxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQ3ZDLElBQUksaUJBQWlCLEdBQVEsSUFBSSxDQUFDO1FBRWxDLE9BQU8sWUFBWSxDQUFDLFVBQVUsRUFBRTtZQUM1QixZQUFZLEdBQUcsWUFBWSxDQUFDLFVBQVUsQ0FBQztZQUV2QyxJQUFJLFlBQVksQ0FBQyxRQUFRLENBQUMsSUFBSSxJQUFJLFlBQVksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFO2dCQUM1RSxpQkFBaUIsR0FBRyxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQzthQUNwRTtTQUNKO1FBRUQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUNqRSxDQUFDOzt5SEFuR1EsMkJBQTJCOzZHQUEzQiwyQkFBMkIsMFRDeEJ4Qyw0blhBNExjOzRGRHBLRCwyQkFBMkI7a0JBTHZDLFNBQVM7bUJBQUM7b0JBQ1AsUUFBUSxFQUFFLHlCQUF5QjtvQkFDbkMsV0FBVyxFQUFFLHNDQUFzQztvQkFDbkQsU0FBUyxFQUFFLENBQUMsc0NBQXNDLENBQUM7aUJBQ3REO2tNQUdHLGVBQWU7c0JBRGQsS0FBSztnQkFJTixnQkFBZ0I7c0JBRGYsS0FBSztnQkFHSSxxQkFBcUI7c0JBQTlCLE1BQU07Z0JBcUJpQixTQUFTO3NCQUFoQyxTQUFTO3VCQUFDLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgSW5wdXQsIE9uSW5pdCxcbiAgICBPdXRwdXQsXG4gICAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBBY3RpdmF0ZWRSb3V0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbmltcG9ydCB7IENPTU1PTl9DT05TVEFOVCB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbnN0YW50L2NvbW1vbi5jb25zdGFudCc7XG5cbmltcG9ydCB7IFNlYXJjaEJhclR3b0NvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uL3NlYXJjaC9zZWFyY2gtYmFyLXR3by9zZWFyY2gtYmFyLXR3by5jb21wb25lbnQnO1xuXG5pbXBvcnQgeyBGYWNpbGl0eSwgRmFjaWxpdHlNLCBGYWNpbGl0eVNlcnZpY2UgfSBmcm9tICdAbGlicmFyeS9mYWNpbGl0eS1zZXJ2aWNlJztcbmltcG9ydCB7IE9yZ1NpdGVBY2Nlc3NNLCBPcmdhbml6YXRpb24sIE9yZ2FuaXphdGlvbk0sIE9yZ1N0YXR1cywgT3JnYW5pemF0aW9uU2VydmljZSwgT3JnU2l0ZUFjY2VzcywgT3JnVHlwZSwgT3JnU2l0ZUFjY2Vzc1R5cGUgfSBmcm9tICdAbGlicmFyeS9vcmdhbml6YXRpb24tc2VydmljZSc7XG5cbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnQGxpYnJhcnkvc3RvcmFnZS1zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdsaWItb3JnYW5pemF0aW9uLWRyYXdlcicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL29yZ2FuaXphdGlvbi1kcmF3ZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL29yZ2FuaXphdGlvbi1kcmF3ZXIuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBPcmdhbml6YXRpb25EcmF3ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIEBJbnB1dCgpXG4gICAgdG9nZ2xlT3JnRHJhd2VyOiBhbnk7XG5cbiAgICBASW5wdXQoKVxuICAgIGRyYXdlckFjY2Vzc1R5cGU6IGFueTtcblxuICAgIEBPdXRwdXQoKSB0b2dnbGVPcmdEcmF3ZXJHbG9iYWw6IEV2ZW50RW1pdHRlcjxib29sZWFuPiA9IG5ldyBFdmVudEVtaXR0ZXIodHJ1ZSk7XG5cbiAgICBDT01NT05fQ09OU1RBTlQgPSBDT01NT05fQ09OU1RBTlQ7XG5cbiAgICB1c2VySUQ6IGFueTtcbiAgICByb290T3JnSUQ6IGFueTtcbiAgICBjdXJyZW50T3JnSUQ6IGFueTtcbiAgICBvcmdTd2l0Y2hSZWRpcmVjdDogc3RyaW5nO1xuXG4gICAgc2hvd09yZ0FuZEZhY2lsaXR5OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBPcmdTdGF0dXMgPSBPcmdTdGF0dXM7XG4gICAgT3JnVHlwZSA9IE9yZ1R5cGU7XG4gICAgT3JnU2l0ZUFjY2Vzc1R5cGUgPSBPcmdTaXRlQWNjZXNzVHlwZTtcblxuICAgIG9yZ2FuaXphdGlvbk0gPSBuZXcgT3JnYW5pemF0aW9uKCk7XG4gICAgZmFjaWxpdHlNID0gbmV3IEZhY2lsaXR5KCk7XG5cbiAgICBvcmdTaXRlQWNjZXNzTSA9IG5ldyBPcmdTaXRlQWNjZXNzKCk7XG4gICAgZmlsdGVyZWRPcmdBY2Nlc3NNOiBPcmdTaXRlQWNjZXNzW10gPSBbXTtcblxuICAgIEBWaWV3Q2hpbGQoJ3NlYXJjaEJhcicpIHNlYXJjaEJhcjogU2VhcmNoQmFyVHdvQ29tcG9uZW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYWN0aXZhdGVkUm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgICAgICBwcml2YXRlIHN0b3JhZ2VTZXJ2aWNlOiBTdG9yYWdlU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBvcmdhbml6YXRpb25TZXJ2aWNlOiBPcmdhbml6YXRpb25TZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGZhY2lsaXR5U2VydmljZTogRmFjaWxpdHlTZXJ2aWNlXG4gICAgKSB7IH1cblxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnRvZ2dsZU9yZ0RyYXdlckdsb2JhbC5lbWl0KGZhbHNlKTtcblxuICAgICAgICB0aGlzLnVzZXJJRCA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgndXNlcklEJyk7XG4gICAgICAgIHRoaXMucm9vdE9yZ0lEID0gdGhpcy5zdG9yYWdlU2VydmljZS5nZXRTdG9yYWdlKFsncm9vdE9yZ0lEJ10pO1xuICAgICAgICB0aGlzLmN1cnJlbnRPcmdJRCA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgnY3VycmVudE9yZ0lEJyk7XG5cbiAgICAgICAgaWYgKHRoaXMucm9vdE9yZ0lEID09IHRoaXMuY3VycmVudE9yZ0lEKSB7XG4gICAgICAgICAgICB0aGlzLmdldEZhY2lsaXR5QnlJRCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nZXRPcmdCeUlEKCk7XG4gICAgICAgICAgICB0aGlzLmdldEZhY2lsaXR5QnlJRCgpO1xuICAgICAgICAgICAgdGhpcy5zaG93T3JnQW5kRmFjaWxpdHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0T3JnU2l0ZVdpdGhVc2VyQWNjZXNzKCk7XG5cbiAgICB9XG5cbiAgICBhc3luYyBnZXRPcmdCeUlEKCkge1xuICAgICAgICB0aGlzLm9yZ2FuaXphdGlvbk0gPSA8T3JnYW5pemF0aW9uTT5hd2FpdCB0aGlzLm9yZ2FuaXphdGlvblNlcnZpY2UuZ2V0T3JnYW5pemF0aW9uQnlJRCh0aGlzLnJvb3RPcmdJRCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0RmFjaWxpdHlCeUlEKCkge1xuICAgICAgICB0aGlzLmZhY2lsaXR5TSA9IDxGYWNpbGl0eU0+YXdhaXQgdGhpcy5mYWNpbGl0eVNlcnZpY2UuZ2V0RmFjaWxpdHlCeUlEKHRoaXMucm9vdE9yZ0lELCB0aGlzLmN1cnJlbnRPcmdJRCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0T3JnU2l0ZVdpdGhVc2VyQWNjZXNzKCkge1xuICAgICAgICB0aGlzLm9yZ1NpdGVBY2Nlc3NNID0gPE9yZ1NpdGVBY2Nlc3NNPmF3YWl0IHRoaXMub3JnYW5pemF0aW9uU2VydmljZS5nZXRPcmdTaXRlV2l0aFVzZXJBY2Nlc3ModGhpcy51c2VySUQpO1xuICAgICAgICB0aGlzLmZpbHRlcmVkT3JnQWNjZXNzTSA9IFsuLi50aGlzLm9yZ1NpdGVBY2Nlc3NNPy5yZWNvcmRzXTtcbiAgICB9XG5cbiAgICB0b2dnbGVPcmdEcmF3ZXJGdW4oKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3JnRHJhd2VyID0gIXRoaXMudG9nZ2xlT3JnRHJhd2VyO1xuICAgICAgICB0aGlzLnRvZ2dsZU9yZ0RyYXdlckdsb2JhbC5lbWl0KHRoaXMudG9nZ2xlT3JnRHJhd2VyKTtcbiAgICB9XG5cbiAgICBzZWFyY2hGbih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaFRlcm0gPSB2YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBpZiAoc2VhcmNoVGVybS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcmVkT3JnQWNjZXNzTSA9IHRoaXMub3JnU2l0ZUFjY2Vzc00/LnJlY29yZHMuZmlsdGVyKG9yZyA9PlxuICAgICAgICAgICAgICAgIG9yZy5uYW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hCYXIuc2VhcmNoQ2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRPcmdBY2Nlc3NNID0gWy4uLnRoaXMub3JnU2l0ZUFjY2Vzc00/LnJlY29yZHNdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3JnU3dpdGNoKG9yZ0lEKSB7XG4gICAgICAgIGxldCBjdXJyZW50Um91dGUgPSB0aGlzLmFjdGl2YXRlZFJvdXRlO1xuICAgICAgICBsZXQgb3JnU3dpdGNoUmVkaXJlY3Q6IGFueSA9IG51bGw7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnRSb3V0ZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBjdXJyZW50Um91dGUgPSBjdXJyZW50Um91dGUuZmlyc3RDaGlsZDtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRSb3V0ZS5zbmFwc2hvdC5kYXRhICYmIGN1cnJlbnRSb3V0ZS5zbmFwc2hvdC5kYXRhLm9yZ1N3aXRjaFJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgb3JnU3dpdGNoUmVkaXJlY3QgPSBjdXJyZW50Um91dGUuc25hcHNob3QuZGF0YS5vcmdTd2l0Y2hSZWRpcmVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3JnYW5pemF0aW9uU2VydmljZS5vcmdTd2l0Y2gob3JnSUQsIG9yZ1N3aXRjaFJlZGlyZWN0KTtcbiAgICB9XG5cbn1cbiIsIjxkaXYgY2xhc3M9XCJkcmF3ZXItd3JhcHBlclwiPlxuICAgIDxkaXYgY2xhc3M9XCJkcmF3ZXItbmF2LWJ0blwiPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImhhbWJ1cmdlciBoYW1idXJnZXItLWVsYXN0aWNcIiBbbmdDbGFzc109XCJ7J2lzLWFjdGl2ZScgOiB0b2dnbGVPcmdEcmF3ZXJ9XCJcbiAgICAgICAgICAgIChjbGljayk9XCJ0b2dnbGVPcmdEcmF3ZXJGdW4oKVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJoYW1idXJnZXItYm94XCI+PHNwYW4gY2xhc3M9XCJoYW1idXJnZXItaW5uZXJcIj48L3NwYW4+PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJhd2VyLWNvbnRlbnQtd3JhcHBlclwiPlxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInNjcm9sbGJhci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxwZXJmZWN0LXNjcm9sbGJhciBbYXV0b1Byb3BhZ2F0aW9uXT1cInRydWVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyIG10LTVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBtdC0zXCIgKm5nSWY9XCJzaG93T3JnQW5kRmFjaWxpdHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJvcmdGYWNpbGl0eVRlbXBsYXRlOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdENhcmRDbGFzczogJ29yZy1ib3JkZXItbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG9yZ2FuaXphdGlvbk0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRMYWJlbDogJ09yZyBJRCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBvcmdhbml6YXRpb25NLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogb3JnYW5pemF0aW9uTS5zdGF0ZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6IG9yZ2FuaXphdGlvbk0uY291bnRyeU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogb3JnYW5pemF0aW9uTS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBvcmdhbml6YXRpb25NLmxvZ29VcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0ZhY2lsaXR5TGFiZWw6ICdPcmdhbml6YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdGYWNpbGl0eUxhYmVsQ2xhc3M6ICdiZy1wcmltYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogT3JnVHlwZS5PUkdBTklaQVRJT05cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXQtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cIm9yZ0ZhY2lsaXR5VGVtcGxhdGU7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Q2FyZENsYXNzOiAnY3VycmVudC1vcmctYm9yZGVyLWxlZnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmYWNpbGl0eU0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRMYWJlbDogcm9vdE9yZ0lEID09IGN1cnJlbnRPcmdJRCA/ICdPcmcgSUQnIDogJ0ZhY2lsaXR5IElEJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGZhY2lsaXR5TS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhY2lsaXR5TS5zdGF0ZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6IGZhY2lsaXR5TS5jb3VudHJ5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBmYWNpbGl0eU0uc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogZmFjaWxpdHlNLmxvZ29VcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0ZhY2lsaXR5TGFiZWw6IHJvb3RPcmdJRCA9PSBjdXJyZW50T3JnSUQgPyAnQ3VycmVudCBvcmdhbml6YXRpb24nIDogJ0N1cnJlbnQgZmFjaWxpdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdGYWNpbGl0eUxhYmVsQ2xhc3M6ICdiZy1zdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogcm9vdE9yZ0lEID09IGN1cnJlbnRPcmdJRCA/IE9yZ1R5cGUuT1JHQU5JWkFUSU9OIDogT3JnVHlwZS5TSVRFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IG10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZC10aXRsZSBzZWN0aW9uVGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImRyYXdlckFjY2Vzc1R5cGUgPT0gT3JnU2l0ZUFjY2Vzc1R5cGUuU0lURTsgZWxzZSBzaG93T3JnO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWxsIEZhY2lsaXRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjc2hvd09yZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFsbCBPcmdhbml6YXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2Ugcm91bmRlZC1waWxsIGJnLWxpZ2h0IHRleHQtZGFyayBtcy0zXCI+e3sgb3JnU2l0ZUFjY2Vzc00gP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmdTaXRlQWNjZXNzTS50b3RhbENvdW50IDogQ09NTU9OX0NPTlNUQU5ULkhZUEhFTiB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpYi1zZWFyY2gtYmFyLXR3byBjbGFzcz1cImZsb2F0LWVuZCBtZS0zXCIgI3NlYXJjaEJhciBzZWFyY2hCeT1cIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZW1pdFNlYXJjaCk9XCJzZWFyY2hGbigkZXZlbnQpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saWItc2VhcmNoLWJhci10d28+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXQtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMiBtYi0zXCIgKm5nRm9yPVwibGV0IG9yZyBvZiBmaWx0ZXJlZE9yZ0FjY2Vzc007IGxldCBpPWluZGV4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiY3VycmVudE9yZ0lEICE9IG9yZy5pZCAmJiBvcmdTd2l0Y2gob3JnLmlkKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydjdXJzb3JQb2ludGVyJzogY3VycmVudE9yZ0lEICE9IG9yZy5pZH1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJjYXJkIGNhcmRPdmVyd3JpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J2N1cnJlbnQtb3JnJzogY3VycmVudE9yZ0lEID09IG9yZy5pZCwgJ2JvcmRlcic6IGN1cnJlbnRPcmdJRCAhPSBvcmcuaWR9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOCBkLWZsZXggZmxleC1jb2x1bW4ganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZnctYm9sZFwiPnt7IG9yZy5uYW1lID8gb3JnLm5hbWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT01NT05fQ09OU1RBTlQuSFlQSEVOIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgdGV4dC1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCIgKm5nSWY9XCJvcmcudHlwZSA9PSBPcmdUeXBlLk9SR0FOSVpBVElPTlwiPk9yZyBJRDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNFwiICpuZ0lmPVwib3JnLnR5cGUgPT0gT3JnVHlwZS5TSVRFXCI+RmFjaWxpdHkgSUQ6PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOCBmdy1ib2xkXCI+e3sgb3JnLmlkIH19PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIm9yZy50eXBlID09IE9yZ1R5cGUuU0lURVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHRleHQtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5PcmcgTmFtZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOCBmdy1ib2xkXCI+e3sgb3JnLm9yZ05hbWUgfX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgdGV4dC1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPk9yZyBJRDo8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tOCBmdy1ib2xkXCI+e3sgb3JnLm9yZ0lEIH19PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTQgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm9yZy5sb2dvVXJsICYmIG9yZy5sb2dvVXJsICE9IG51bGw7IGVsc2Ugc2hvd0RlZmF1bHRJY29uO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwibGlzdE9yZ1ZpZXdcIiBbc3JjXT1cIm9yZy5sb2dvVXJsXCIgYWx0PVwib3JnLWxvZ29cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjc2hvd0RlZmF1bHRJY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwib3JnLnR5cGUgPT0gT3JnVHlwZS5PUkdBTklaQVRJT05cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBmcy0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycG9yYXRlX2ZhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJvcmcudHlwZSA9PSBPcmdUeXBlLlNJVEVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBmcy0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFjdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFtuZ1N3aXRjaF09XCJvcmcudHlwZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJhZGdlIHJvdW5kZWQtcGlsbCBtdC0yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsnYmctc3VjY2Vzcyc6IGN1cnJlbnRPcmdJRCA9PSBvcmcuaWQsICdiZy1zZWNvbmRhcnknOiBjdXJyZW50T3JnSUQgIT0gb3JnLmlkfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqbmdTd2l0Y2hDYXNlPVwiJ09SRydcIj5Pcmdhbml6YXRpb248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2Ugcm91bmRlZC1waWxsIG10LTJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nQ2xhc3NdPVwieydiZy1zdWNjZXNzJzogY3VycmVudE9yZ0lEID09IG9yZy5pZCwgJ2JnLXNlY29uZGFyeSc6IGN1cnJlbnRPcmdJRCAhPSBvcmcuaWR9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpuZ1N3aXRjaENhc2U9XCInU0lURSdcIj5GYWNpbGl0eTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIiAqbmdJZj1cIm9yZy5zdWJzY3JpcHRpb25TdGF0dXMgPT0gT3JnU3RhdHVzLklOQUNUSVZFX1NUQVRVU1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXIgbWUtMyBmdy1ib2xkIGZsb2F0LWVuZCBleHBpcmVkRm9udFNpemVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3Vic2NyaXB0aW9uIGV4cGlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tYXQtY2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvcGVyZmVjdC1zY3JvbGxiYXI+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICA8L2Rpdj5cbjwvZGl2PlxuXG48ZGl2IGNsYXNzPVwiZHJhd2VyLW92ZXJsYXlcIiAoY2xpY2spPVwidG9nZ2xlT3JnRHJhd2VyRnVuKClcIj48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICNvcmdGYWNpbGl0eVRlbXBsYXRlIGxldC1uYW1lPVwibmFtZVwiIGxldC1zdGF0ZT1cInN0YXRlXCIgbGV0LWNvdW50cnk9XCJjb3VudHJ5XCIgbGV0LXN0YXR1cz1cInN0YXR1c1wiXG4gICAgbGV0LXR5cGU9XCJ0eXBlXCIgbGV0LWlkTGFiZWw9XCJpZExhYmVsXCIgbGV0LWlkPVwiaWRcIiBsZXQtbWF0Q2FyZENsYXNzPVwibWF0Q2FyZENsYXNzXCIgbGV0LWltYWdlPVwiaW1hZ2VcIlxuICAgIGxldC1vcmdGYWNpbGl0eUxhYmVsPVwib3JnRmFjaWxpdHlMYWJlbFwiIGxldC1vcmdGYWNpbGl0eUxhYmVsQ2xhc3M9XCJvcmdGYWNpbGl0eUxhYmVsQ2xhc3NcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyXCI+XG4gICAgICAgIDxtYXQtY2FyZCBjbGFzcz1cImNhcmRPdmVyd3JpdGUgY2FyZEJhY2tncm91bmRDb2xvclwiIFtjbGFzc109XCJtYXRDYXJkQ2xhc3NcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLThcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBmbGV4LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmdy1ib2xkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgbmFtZSA/IG5hbWUgOiBDT01NT05fQ09OU1RBTlQuSFlQSEVOIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHRleHQtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IGlkTGFiZWwgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTggZnctYm9sZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBpZCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHRleHQtc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+QWRkcmVzczo8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTggZnctYm9sZFwiPnt7IHN0YXRlIH19LCB7eyBjb3VudHJ5IH19PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTQgdGV4dC1zZWNvbmRhcnlcIj5TdGF0dXM6PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS04IGZ3LWJvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7J3RleHQtc3VjY2Vzcyc6IHN0YXR1cyA9PSBPcmdTdGF0dXMuQUNUSVZFX1NUQVRVUywgJ3RleHQtZGFuZ2VyJzogc3RhdHVzID09IE9yZ1N0YXR1cy5JTkFDVElWRV9TVEFUVVN9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IHN0YXR1cyB8IHRpdGxlY2FzZSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNCBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImltYWdlICYmIGltYWdlICE9IG51bGw7IGVsc2Ugc2hvd0ljb247XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwib3JnVmlld0xvZ29cIiBbc3JjXT1cImltYWdlXCIgYWx0PVwib3JnLWxvZ29cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNzaG93SWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0eXBlID09IE9yZ1R5cGUuT1JHQU5JWkFUSU9OXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGZzLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycG9yYXRlX2ZhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0eXBlID09IE9yZ1R5cGUuU0lURVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBmcy0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY3RvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJiYWRnZSByb3VuZGVkLXBpbGwgbXQtMlwiIFtjbGFzc109XCJvcmdGYWNpbGl0eUxhYmVsQ2xhc3NcIj57eyBvcmdGYWNpbGl0eUxhYmVsIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbWF0LWNhcmQ+XG4gICAgPC9kaXY+XG48L25nLXRlbXBsYXRlPiJdfQ==