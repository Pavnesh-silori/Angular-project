import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { FormControl } from '@angular/forms';
import * as moment from 'moment';
import { DaterangepickerDirective } from 'ngx-daterangepicker-material';
import { FrequencyEnum } from '../../enum/frequency.enum';
import { FREQUENCY_CONSTANT } from '../../constant/frequency.constant';
import * as i0 from "@angular/core";
import * as i1 from "../../service/date.service";
import * as i2 from "@angular/material/button-toggle";
import * as i3 from "@angular/material/form-field";
import * as i4 from "@angular/material/datepicker";
import * as i5 from "@angular/forms";
import * as i6 from "@angular/common";
import * as i7 from "../../directive/date-month-year-format.directive";
import * as i8 from "@angular/material/input";
import * as i9 from "ngx-daterangepicker-material";
export class DateFilterComponent {
    constructor(dateService) {
        this.dateService = dateService;
        this.frequencyOptions = [];
        this.defaultSelectedFrequency = null;
        this.emitFilter = new EventEmitter();
        this.FrequencyEnum = FrequencyEnum;
        this.today = new Date();
        this.daterange = new FormControl();
        this.frequencyFC = new FormControl();
        this.durationFC = new FormControl();
        this.startDateFC = new FormControl();
        this.endDateFC = new FormControl();
    }
    ngOnInit() {
        this.frequencyFC.patchValue(this.defaultSelectedFrequency || FrequencyEnum.MONTHLY);
        this.frequencyOptions = this.frequencyOptions.length ? this.frequencyOptions : FREQUENCY_CONSTANT;
        this.frequencyChange();
    }
    frequencyChange() {
        let duration;
        let startDate;
        let endDate;
        switch (this.frequencyFC.value) {
            case FrequencyEnum.DAILY:
                duration = moment(this.today).format("YYYY-MM-DD");
                startDate = moment().startOf('day').utc().format();
                endDate = moment().endOf('day').utc().format();
                break;
            case FrequencyEnum.MONTHLY:
                duration = moment(this.today).utc().format("YYYY-MM");
                startDate = moment().startOf('month').utc().format();
                endDate = moment().endOf('month').utc().format();
                break;
            case FrequencyEnum.YEARLY:
                duration = moment(this.today).utc().format("YYYY");
                startDate = moment().startOf('year').utc().format();
                endDate = moment().endOf('year').utc().format();
                break;
            case FrequencyEnum.CUSTOM:
                console.log("frequency: ", this.frequencyFC.value);
                break;
            default:
                console.log('undefined case encountered!');
        }
        this.durationFC.patchValue(duration);
        if (this.frequencyFC.value != FrequencyEnum.CUSTOM) {
            this.daterange.patchValue('');
            this.startDateFC.patchValue(startDate);
            this.endDateFC.patchValue(endDate);
            this.emitFilter.emit();
        }
    }
    openDatepicker() {
        if (this.frequencyFC.value == FrequencyEnum.CUSTOM) {
            this.pickerDirective.open();
        }
    }
    openDatepickerOnClick(datepicker) {
        this.dateService.openDatepickerOnClick(datepicker);
    }
    takeFocusAway(durationField) {
        this.durationField = document.getElementById(durationField);
        this.durationField.classList.remove('mat-focused', 'mat-form-field-should-float');
    }
    dailyDateSelectedHandler(chosenDate) {
        let duration = this.dateService.dailySelectedHandler(chosenDate);
        this.durationFC.patchValue(duration);
        this.startDateFC.patchValue(moment(chosenDate).startOf('day').utc().format());
        this.endDateFC.patchValue(moment(chosenDate).endOf('day').utc().format());
        this.emitFilter.emit();
    }
    monthlyDateSelectedHandler(normalizedMonthAndYear, datepicker) {
        let duration = this.dateService.monthSelectedHandler(normalizedMonthAndYear, datepicker);
        this.durationFC.patchValue(duration);
        this.startDateFC.patchValue(moment(normalizedMonthAndYear).startOf('month').utc().format());
        this.endDateFC.patchValue(moment(normalizedMonthAndYear).endOf('month').utc().format());
        this.emitFilter.emit();
    }
    yearlyDateSelectedHandler(normalizedYear, datepicker) {
        let duration = this.dateService.yearSelectedHandler(normalizedYear, datepicker);
        this.durationFC.patchValue(duration);
        this.startDateFC.patchValue(moment(normalizedYear).startOf('year').utc().format());
        this.endDateFC.patchValue(moment(normalizedYear).endOf('year').utc().format());
        this.emitFilter.emit();
    }
    customDateRange(selectedValue) {
        if (this.frequencyFC.value == FrequencyEnum.CUSTOM) {
            this.startDateFC.patchValue(moment(selectedValue.startDate).utc().format());
            this.endDateFC.patchValue(moment(selectedValue.endDate).utc().format());
            this.durationFC.patchValue(this.endDateFC);
            this.emitFilter.emit();
        }
    }
}
DateFilterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: DateFilterComponent, deps: [{ token: i1.DateService }], target: i0.ɵɵFactoryTarget.Component });
DateFilterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: DateFilterComponent, selector: "lib-date-filter", inputs: { frequencyOptions: "frequencyOptions", defaultSelectedFrequency: "defaultSelectedFrequency" }, outputs: { emitFilter: "emitFilter" }, viewQueries: [{ propertyName: "pickerDirective", first: true, predicate: DaterangepickerDirective, descendants: true }], ngImport: i0, template: "<mat-button-toggle-group class=\"matBtnFilter\" [formControl]=\"frequencyFC\" (change)=\"frequencyChange()\">\n    <mat-button-toggle *ngFor=\"let frequency of frequencyOptions\" value=\"{{ frequency.keyID }}\">\n        {{ frequency.name }}\n    </mat-button-toggle>\n</mat-button-toggle-group>\n\n<mat-form-field class=\"ms-3\" id=\"dailyField\" appDateMonthYearFormat\n    [ngClass]=\"{'d-none': frequencyFC.value != FrequencyEnum.DAILY}\" (click)=\"openDatepickerOnClick(daily)\"\n    (keydown.arrowdown)=\"openDatepickerOnClick(daily)\" (keydown.enter)=\"openDatepickerOnClick(daily)\">\n    <input matInput class=\"noFocus\" [matDatepicker]=\"daily\" [formControl]=\"durationFC\" [max]=\"today\"\n        (dateInput)=\"dailyDateSelectedHandler($event.value)\" readonly />\n    <mat-datepicker-toggle matSuffix class=\"fs-5\" [for]=\"daily\"></mat-datepicker-toggle>\n    <mat-datepicker #daily (closed)=\"takeFocusAway('dailyField')\"></mat-datepicker>\n</mat-form-field>\n\n<mat-form-field class=\"ms-3\" id=\"monthlyField\" appMonthYearFormat\n    [ngClass]=\"{'d-none': frequencyFC.value != FrequencyEnum.MONTHLY}\" (click)=\"openDatepickerOnClick(monthly)\"\n    (keydown.arrowdown)=\"openDatepickerOnClick(monthly)\" (keydown.enter)=\"openDatepickerOnClick(monthly)\">\n    <input matInput class=\"noFocus\" [matDatepicker]=\"monthly\" [formControl]=\"durationFC\" [max]=\"today\" readonly />\n    <mat-datepicker-toggle matSuffix class=\"fs-5\" [for]=\"monthly\"></mat-datepicker-toggle>\n    <mat-datepicker panelClass=\"monthPicker\" #monthly startView=\"year\"\n        (monthSelected)=\"monthlyDateSelectedHandler($event, monthly)\" (closed)=\"takeFocusAway('monthlyField')\">\n    </mat-datepicker>\n</mat-form-field>\n\n<mat-form-field class=\"ms-3\" id=\"yearlyField\" appYearFormat [ngClass]=\"{'d-none': frequencyFC.value != FrequencyEnum.YEARLY}\"\n    (click)=\"openDatepickerOnClick(yearly)\" (keydown.arrowdown)=\"openDatepickerOnClick(yearly)\"\n    (keydown.enter)=\"openDatepickerOnClick(yearly)\">\n    <input matInput class=\"noFocus\" [matDatepicker]=\"yearly\" [formControl]=\"durationFC\" [max]=\"today\" readonly />\n    <mat-datepicker-toggle matSuffix class=\"fs-5\" [for]=\"yearly\"></mat-datepicker-toggle>\n    <mat-datepicker panelClass=\"yearPicker\" #yearly startView=\"multi-year\"\n        (yearSelected)=\"yearlyDateSelectedHandler($event, yearly)\" (closed)=\"takeFocusAway('yearlyField')\">\n    </mat-datepicker>\n</mat-form-field>\n\n<mat-form-field class=\"ms-3\" [ngClass]=\"{'d-none': frequencyFC.value != FrequencyEnum.CUSTOM}\">\n    <mat-label class=\"formLabel\"> Select date </mat-label>\n    <input type=\"text\" matInput ngxDaterangepickerMd\n        [locale]=\"{direction: 'ltr', applyLabel: 'Apply', format: 'DD-MMM-YYYY', customRangeLabel: 'Custom Range'}\"\n        [drops]=\"'down'\" [opens]=\"'right'\" [alwaysShowCalendars]=\"true\" [keepCalendarOpeningWithRange]=\"true\"\n        [showDropdowns]=\"true\" [showCancel]=\"true\" autocomplete=\"off\" name=\"daterange\" [formControl]=\"daterange\"\n        (ngModelChange)=\"customDateRange(daterange.value)\" [readonly]=\"true\" />\n</mat-form-field>\n", styles: [".matBtnFilter mat-button-toggle.mat-button-toggle-checked{background-color:#e6e6e6!important}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:30px!important}.mat-button-toggle-group-appearance-standard{border-radius:20px!important}\n"], components: [{ type: i2.MatButtonToggle, selector: "mat-button-toggle", inputs: ["disableRipple", "aria-labelledby", "tabIndex", "appearance", "checked", "disabled", "id", "name", "aria-label", "value"], outputs: ["change"], exportAs: ["matButtonToggle"] }, { type: i3.MatFormField, selector: "mat-form-field", inputs: ["color", "floatLabel", "appearance", "hideRequiredMarker", "hintLabel"], exportAs: ["matFormField"] }, { type: i4.MatDatepickerToggle, selector: "mat-datepicker-toggle", inputs: ["tabIndex", "disabled", "for", "aria-label", "disableRipple"], exportAs: ["matDatepickerToggle"] }, { type: i4.MatDatepicker, selector: "mat-datepicker", exportAs: ["matDatepicker"] }], directives: [{ type: i2.MatButtonToggleGroup, selector: "mat-button-toggle-group", inputs: ["appearance", "name", "vertical", "value", "multiple", "disabled"], outputs: ["valueChange", "change"], exportAs: ["matButtonToggleGroup"] }, { type: i5.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i5.FormControlDirective, selector: "[formControl]", inputs: ["disabled", "formControl", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i7.DateMonthYearFormatDirective, selector: "[appDateMonthYearFormat]" }, { type: i6.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i8.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["id", "disabled", "required", "type", "value", "readonly", "placeholder", "errorStateMatcher", "aria-describedby"], exportAs: ["matInput"] }, { type: i4.MatDatepickerInput, selector: "input[matDatepicker]", inputs: ["matDatepicker", "min", "max", "matDatepickerFilter"], exportAs: ["matDatepickerInput"] }, { type: i5.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i3.MatSuffix, selector: "[matSuffix]" }, { type: i7.MonthYearFormatDirective, selector: "[appMonthYearFormat]" }, { type: i7.YearFormatDirective, selector: "[appYearFormat]" }, { type: i3.MatLabel, selector: "mat-label" }, { type: i9.DaterangepickerDirective, selector: "input[ngxDaterangepickerMd]", inputs: ["dateLimit", "showCancel", "lockStartDate", "timePicker", "timePicker24Hour", "timePickerIncrement", "timePickerSeconds", "closeOnAutoApply", "_endKey", "drops", "opens", "locale", "startKey", "endKey", "minDate", "maxDate", "autoApply", "alwaysShowCalendars", "showCustomRangeLabel", "linkedCalendars", "singleDatePicker", "showWeekNumbers", "showISOWeekNumbers", "showDropdowns", "isInvalidDate", "isCustomDate", "isTooltipDate", "showClearButton", "customRangeDirection", "ranges", "lastMonthDayClass", "emptyWeekRowClass", "emptyWeekColumnClass", "firstDayOfNextMonthClass", "lastDayOfPreviousMonthClass", "keepCalendarOpeningWithRange", "showRangeLabelOnInput"], outputs: ["change", "rangeClicked", "datesUpdated", "startDateChanged", "endDateChanged"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: DateFilterComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-date-filter',
                    templateUrl: './date-filter.component.html',
                    styleUrls: ['./date-filter.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.DateService }]; }, propDecorators: { frequencyOptions: [{
                type: Input
            }], defaultSelectedFrequency: [{
                type: Input
            }], emitFilter: [{
                type: Output
            }], pickerDirective: [{
                type: ViewChild,
                args: [DaterangepickerDirective, { static: false }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1maWx0ZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbGlicmFyeS9kYXRlL3NyYy9saWIvdHNjL2NvbXBvbmVudC9kYXRlLWZpbHRlci9kYXRlLWZpbHRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L2RhdGUvc3JjL2xpYi90c2MvY29tcG9uZW50L2RhdGUtZmlsdGVyL2RhdGUtZmlsdGVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTFGLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUc3QyxPQUFPLEtBQUssTUFBTSxNQUFNLFFBQVEsQ0FBQztBQUVqQyxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUd4RSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDMUQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7Ozs7Ozs7Ozs7O0FBU3ZFLE1BQU0sT0FBTyxtQkFBbUI7SUFzQjVCLFlBQ1csV0FBd0I7UUFBeEIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFyQjFCLHFCQUFnQixHQUFVLEVBQUUsQ0FBQztRQUM3Qiw2QkFBd0IsR0FBVyxJQUFJLENBQUM7UUFFdkMsZUFBVSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFFMUMsa0JBQWEsR0FBRyxhQUFhLENBQUM7UUFFOUIsVUFBSyxHQUFTLElBQUksSUFBSSxFQUFFLENBQUM7UUFFekIsY0FBUyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7UUFFOUIsZ0JBQVcsR0FBRyxJQUFJLFdBQVcsRUFB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SUFFRCxlQUFlLENBQUMsYUFBa0I7UUFDOUIsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssSUFBSSxhQUFhLENBQUMsTUFBTSxFQUFFO1lBQ2hELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUM1RSxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7WUFDeEUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7U0FDMUI7SUFDTCxDQUFDOztpSEFySFEsbUJBQW1CO3FHQUFuQixtQkFBbUIsdVBBb0JqQix3QkFBd0IsZ0RDeEN2QyxrbUdBMkNBOzRGRHZCYSxtQkFBbUI7a0JBTi9CLFNBQVM7bUJBQUM7b0JBQ1AsUUFBUSxFQUFFLGlCQUFpQjtvQkFDM0IsV0FBVyxFQUFFLDhCQUE4QjtvQkFDM0MsU0FBUyxFQUFFLENBQUMsOEJBQThCLENBQUM7aUJBQzlDO2tHQUlZLGdCQUFnQjtzQkFBeEIsS0FBSztnQkFDRyx3QkFBd0I7c0JBQWhDLEtBQUs7Z0JBRUksVUFBVTtzQkFBbkIsTUFBTTtnQkFlaUQsZUFBZTtzQkFBdEUsU0FBUzt1QkFBQyx3QkFBd0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRm9ybUNvbnRyb2wgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7IE1vbWVudCB9IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuaW1wb3J0IHsgRGF0ZXJhbmdlcGlja2VyRGlyZWN0aXZlIH0gZnJvbSAnbmd4LWRhdGVyYW5nZXBpY2tlci1tYXRlcmlhbCc7XG5pbXBvcnQgeyBNYXREYXRlcGlja2VyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGF0ZXBpY2tlcic7XG5cbmltcG9ydCB7IEZyZXF1ZW5jeUVudW0gfSBmcm9tICcuLi8uLi9lbnVtL2ZyZXF1ZW5jeS5lbnVtJztcbmltcG9ydCB7IEZSRVFVRU5DWV9DT05TVEFOVCB9IGZyb20gJy4uLy4uL2NvbnN0YW50L2ZyZXF1ZW5jeS5jb25zdGFudCc7XG5cbmltcG9ydCB7IERhdGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZS9kYXRlLnNlcnZpY2UnO1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdsaWItZGF0ZS1maWx0ZXInLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9kYXRlLWZpbHRlci5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZGF0ZS1maWx0ZXIuY29tcG9uZW50LnNjc3MnXVxufSlcblxuZXhwb3J0IGNsYXNzIERhdGVGaWx0ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgQElucHV0KCkgZnJlcXVlbmN5T3B0aW9uczogYW55W10gPSBbXTtcbiAgICBASW5wdXQoKSBkZWZhdWx0U2VsZWN0ZWRGcmVxdWVuY3k6IHN0cmluZyA9IG51bGw7XG5cbiAgICBAT3V0cHV0KCkgZW1pdEZpbHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEZyZXF1ZW5jeUVudW0gPSBGcmVxdWVuY3lFbnVtO1xuXG4gICAgdG9kYXk6IERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgZGF0ZXJhbmdlID0gbmV3IEZvcm1Db250cm9sKCk7XG5cbiAgICBmcmVxdWVuY3lGQyA9IG5ldyBGb3JtQ29udHJvbCgpO1xuICAgIGR1cmF0aW9uRkMgPSBuZXcgRm9ybUNvbnRyb2woKTtcbiAgICBzdGFydERhdGVGQyA9IG5ldyBGb3JtQ29udHJvbCgpO1xuICAgIGVuZERhdGVGQyA9IG5ldyBGb3JtQ29udHJvbCgpO1xuXG4gICAgZHVyYXRpb25GaWVsZDogYW55O1xuXG4gICAgQFZpZXdDaGlsZChEYXRlcmFuZ2VwaWNrZXJEaXJlY3RpdmUsIHsgc3RhdGljOiBmYWxzZSB9KSBwaWNrZXJEaXJlY3RpdmU6IERhdGVyYW5nZXBpY2tlckRpcmVjdGl2ZTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgZGF0ZVNlcnZpY2U6IERhdGVTZXJ2aWNlLFxuICAgICkgeyB9XG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5mcmVxdWVuY3lGQy5wYXRjaFZhbHVlKHRoaXMuZGVmYXVsdFNlbGVjdGVkRnJlcXVlbmN5IHx8IEZyZXF1ZW5jeUVudW0uTU9OVEhMWSk7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5T3B0aW9ucyA9IHRoaXMuZnJlcXVlbmN5T3B0aW9ucy5sZW5ndGggPyB0aGlzLmZyZXF1ZW5jeU9wdGlvbnMgOiBGUkVRVUVOQ1lfQ09OU1RBTlQ7XG4gICAgICAgIHRoaXMuZnJlcXVlbmN5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgZnJlcXVlbmN5Q2hhbmdlKCkge1xuICAgICAgICBsZXQgZHVyYXRpb247XG4gICAgICAgIGxldCBzdGFydERhdGU7XG4gICAgICAgIGxldCBlbmREYXRlO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5mcmVxdWVuY3lGQy52YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBGcmVxdWVuY3lFbnVtLkRBSUxZOlxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbW9tZW50KHRoaXMudG9kYXkpLmZvcm1hdChcIllZWVktTU0tRERcIik7XG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gbW9tZW50KCkuc3RhcnRPZignZGF5JykudXRjKCkuZm9ybWF0KCk7XG4gICAgICAgICAgICAgICAgZW5kRGF0ZSA9IG1vbWVudCgpLmVuZE9mKCdkYXknKS51dGMoKS5mb3JtYXQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRnJlcXVlbmN5RW51bS5NT05USExZOlxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbW9tZW50KHRoaXMudG9kYXkpLnV0YygpLmZvcm1hdChcIllZWVktTU1cIik7XG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gbW9tZW50KCkuc3RhcnRPZignbW9udGgnKS51dGMoKS5mb3JtYXQoKTtcbiAgICAgICAgICAgICAgICBlbmREYXRlID0gbW9tZW50KCkuZW5kT2YoJ21vbnRoJykudXRjKCkuZm9ybWF0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZyZXF1ZW5jeUVudW0uWUVBUkxZOlxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gbW9tZW50KHRoaXMudG9kYXkpLnV0YygpLmZvcm1hdChcIllZWVlcIik7XG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gbW9tZW50KCkuc3RhcnRPZigneWVhcicpLnV0YygpLmZvcm1hdCgpO1xuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBtb21lbnQoKS5lbmRPZigneWVhcicpLnV0YygpLmZvcm1hdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGcmVxdWVuY3lFbnVtLkNVU1RPTTpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZyZXF1ZW5jeTogXCIsIHRoaXMuZnJlcXVlbmN5RkMudmFsdWUpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd1bmRlZmluZWQgY2FzZSBlbmNvdW50ZXJlZCEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHVyYXRpb25GQy5wYXRjaFZhbHVlKGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAodGhpcy5mcmVxdWVuY3lGQy52YWx1ZSAhPSBGcmVxdWVuY3lFbnVtLkNVU1RPTSkge1xuICAgICAgICAgICAgdGhpcy5kYXRlcmFuZ2UucGF0Y2hWYWx1ZSgnJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZUZDLnBhdGNoVmFsdWUoc3RhcnREYXRlKTtcbiAgICAgICAgICAgIHRoaXMuZW5kRGF0ZUZDLnBhdGNoVmFsdWUoZW5kRGF0ZSk7XG4gICAgICAgICAgICB0aGlzLmVtaXRGaWx0ZXIuZW1pdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3BlbkRhdGVwaWNrZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmZyZXF1ZW5jeUZDLnZhbHVlID09IEZyZXF1ZW5jeUVudW0uQ1VTVE9NKSB7XG4gICAgICAgICAgICB0aGlzLnBpY2tlckRpcmVjdGl2ZS5vcGVuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuRGF0ZXBpY2tlck9uQ2xpY2soZGF0ZXBpY2tlcjogTWF0RGF0ZXBpY2tlcjxNb21lbnQ+KSB7XG4gICAgICAgIHRoaXMuZGF0ZVNlcnZpY2Uub3BlbkRhdGVwaWNrZXJPbkNsaWNrKGRhdGVwaWNrZXIpO1xuICAgIH1cblxuICAgIHRha2VGb2N1c0F3YXkoZHVyYXRpb25GaWVsZCkge1xuICAgICAgICB0aGlzLmR1cmF0aW9uRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkdXJhdGlvbkZpZWxkKTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbkZpZWxkLmNsYXNzTGlzdC5yZW1vdmUoJ21hdC1mb2N1c2VkJywgJ21hdC1mb3JtLWZpZWxkLXNob3VsZC1mbG9hdCcpO1xuICAgIH1cblxuICAgIGRhaWx5RGF0ZVNlbGVjdGVkSGFuZGxlcihjaG9zZW5EYXRlOiBNb21lbnQpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uID0gdGhpcy5kYXRlU2VydmljZS5kYWlseVNlbGVjdGVkSGFuZGxlcihjaG9zZW5EYXRlKTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbkZDLnBhdGNoVmFsdWUoZHVyYXRpb24pO1xuICAgICAgICB0aGlzLnN0YXJ0RGF0ZUZDLnBhdGNoVmFsdWUobW9tZW50KGNob3NlbkRhdGUpLnN0YXJ0T2YoJ2RheScpLnV0YygpLmZvcm1hdCgpKTtcbiAgICAgICAgdGhpcy5lbmREYXRlRkMucGF0Y2hWYWx1ZShtb21lbnQoY2hvc2VuRGF0ZSkuZW5kT2YoJ2RheScpLnV0YygpLmZvcm1hdCgpKTtcbiAgICAgICAgdGhpcy5lbWl0RmlsdGVyLmVtaXQoKTtcbiAgICB9XG5cbiAgICBtb250aGx5RGF0ZVNlbGVjdGVkSGFuZGxlcihub3JtYWxpemVkTW9udGhBbmRZZWFyOiBNb21lbnQsIGRhdGVwaWNrZXI6IE1hdERhdGVwaWNrZXI8TW9tZW50Pikge1xuICAgICAgIGxldCBkdXJhdGlvbiA9IHRoaXMuZGF0ZVNlcnZpY2UubW9udGhTZWxlY3RlZEhhbmRsZXIobm9ybWFsaXplZE1vbnRoQW5kWWVhcixkYXRlcGlja2VyKTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbkZDLnBhdGNoVmFsdWUoZHVyYXRpb24pO1xuICAgICAgICB0aGlzLnN0YXJ0RGF0ZUZDLnBhdGNoVmFsdWUobW9tZW50KG5vcm1hbGl6ZWRNb250aEFuZFllYXIpLnN0YXJ0T2YoJ21vbnRoJykudXRjKCkuZm9ybWF0KCkpO1xuICAgICAgICB0aGlzLmVuZERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudChub3JtYWxpemVkTW9udGhBbmRZZWFyKS5lbmRPZignbW9udGgnKS51dGMoKS5mb3JtYXQoKSk7XG4gICAgICAgIHRoaXMuZW1pdEZpbHRlci5lbWl0KCk7XG4gICAgfVxuXG4gICAgeWVhcmx5RGF0ZVNlbGVjdGVkSGFuZGxlcihub3JtYWxpemVkWWVhcjogTW9tZW50LCBkYXRlcGlja2VyOiBNYXREYXRlcGlja2VyPE1vbWVudD4pIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uID0gdGhpcy5kYXRlU2VydmljZS55ZWFyU2VsZWN0ZWRIYW5kbGVyKG5vcm1hbGl6ZWRZZWFyLGRhdGVwaWNrZXIpO1xuICAgICAgICB0aGlzLmR1cmF0aW9uRkMucGF0Y2hWYWx1ZShkdXJhdGlvbik7XG4gICAgICAgIHRoaXMuc3RhcnREYXRlRkMucGF0Y2hWYWx1ZShtb21lbnQobm9ybWFsaXplZFllYXIpLnN0YXJ0T2YoJ3llYXInKS51dGMoKS5mb3JtYXQoKSk7XG4gICAgICAgIHRoaXMuZW5kRGF0ZUZDLnBhdGNoVmFsdWUobW9tZW50KG5vcm1hbGl6ZWRZZWFyKS5lbmRPZigneWVhcicpLnV0YygpLmZvcm1hdCgpKTtcblxuICAgICAgICB0aGlzLmVtaXRGaWx0ZXIuZW1pdCgpO1xuICAgIH1cblxuICAgIGN1c3RvbURhdGVSYW5nZShzZWxlY3RlZFZhbHVlOiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMuZnJlcXVlbmN5RkMudmFsdWUgPT0gRnJlcXVlbmN5RW51bS5DVVNUT00pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnREYXRlRkMucGF0Y2hWYWx1ZShtb21lbnQoc2VsZWN0ZWRWYWx1ZS5zdGFydERhdGUpLnV0YygpLmZvcm1hdCgpKTtcbiAgICAgICAgICAgIHRoaXMuZW5kRGF0ZUZDLnBhdGNoVmFsdWUobW9tZW50KHNlbGVjdGVkVmFsdWUuZW5kRGF0ZSkudXRjKCkuZm9ybWF0KCkpO1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkZDLnBhdGNoVmFsdWUodGhpcy5lbmREYXRlRkMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0RmlsdGVyLmVtaXQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIjxtYXQtYnV0dG9uLXRvZ2dsZS1ncm91cCBjbGFzcz1cIm1hdEJ0bkZpbHRlclwiIFtmb3JtQ29udHJvbF09XCJmcmVxdWVuY3lGQ1wiIChjaGFuZ2UpPVwiZnJlcXVlbmN5Q2hhbmdlKClcIj5cbiAgICA8bWF0LWJ1dHRvbi10b2dnbGUgKm5nRm9yPVwibGV0IGZyZXF1ZW5jeSBvZiBmcmVxdWVuY3lPcHRpb25zXCIgdmFsdWU9XCJ7eyBmcmVxdWVuY3kua2V5SUQgfX1cIj5cbiAgICAgICAge3sgZnJlcXVlbmN5Lm5hbWUgfX1cbiAgICA8L21hdC1idXR0b24tdG9nZ2xlPlxuPC9tYXQtYnV0dG9uLXRvZ2dsZS1ncm91cD5cblxuPG1hdC1mb3JtLWZpZWxkIGNsYXNzPVwibXMtM1wiIGlkPVwiZGFpbHlGaWVsZFwiIGFwcERhdGVNb250aFllYXJGb3JtYXRcbiAgICBbbmdDbGFzc109XCJ7J2Qtbm9uZSc6IGZyZXF1ZW5jeUZDLnZhbHVlICE9IEZyZXF1ZW5jeUVudW0uREFJTFl9XCIgKGNsaWNrKT1cIm9wZW5EYXRlcGlja2VyT25DbGljayhkYWlseSlcIlxuICAgIChrZXlkb3duLmFycm93ZG93bik9XCJvcGVuRGF0ZXBpY2tlck9uQ2xpY2soZGFpbHkpXCIgKGtleWRvd24uZW50ZXIpPVwib3BlbkRhdGVwaWNrZXJPbkNsaWNrKGRhaWx5KVwiPlxuICAgIDxpbnB1dCBtYXRJbnB1dCBjbGFzcz1cIm5vRm9jdXNcIiBbbWF0RGF0ZXBpY2tlcl09XCJkYWlseVwiIFtmb3JtQ29udHJvbF09XCJkdXJhdGlvbkZDXCIgW21heF09XCJ0b2RheVwiXG4gICAgICAgIChkYXRlSW5wdXQpPVwiZGFpbHlEYXRlU2VsZWN0ZWRIYW5kbGVyKCRldmVudC52YWx1ZSlcIiByZWFkb25seSAvPlxuICAgIDxtYXQtZGF0ZXBpY2tlci10b2dnbGUgbWF0U3VmZml4IGNsYXNzPVwiZnMtNVwiIFtmb3JdPVwiZGFpbHlcIj48L21hdC1kYXRlcGlja2VyLXRvZ2dsZT5cbiAgICA8bWF0LWRhdGVwaWNrZXIgI2RhaWx5IChjbG9zZWQpPVwidGFrZUZvY3VzQXdheSgnZGFpbHlGaWVsZCcpXCI+PC9tYXQtZGF0ZXBpY2tlcj5cbjwvbWF0LWZvcm0tZmllbGQ+XG5cbjxtYXQtZm9ybS1maWVsZCBjbGFzcz1cIm1zLTNcIiBpZD1cIm1vbnRobHlGaWVsZFwiIGFwcE1vbnRoWWVhckZvcm1hdFxuICAgIFtuZ0NsYXNzXT1cInsnZC1ub25lJzogZnJlcXVlbmN5RkMudmFsdWUgIT0gRnJlcXVlbmN5RW51bS5NT05USExZfVwiIChjbGljayk9XCJvcGVuRGF0ZXBpY2tlck9uQ2xpY2sobW9udGhseSlcIlxuICAgIChrZXlkb3duLmFycm93ZG93bik9XCJvcGVuRGF0ZXBpY2tlck9uQ2xpY2sobW9udGhseSlcIiAoa2V5ZG93bi5lbnRlcik9XCJvcGVuRGF0ZXBpY2tlck9uQ2xpY2sobW9udGhseSlcIj5cbiAgICA8aW5wdXQgbWF0SW5wdXQgY2xhc3M9XCJub0ZvY3VzXCIgW21hdERhdGVwaWNrZXJdPVwibW9udGhseVwiIFtmb3JtQ29udHJvbF09XCJkdXJhdGlvbkZDXCIgW21heF09XCJ0b2RheVwiIHJlYWRvbmx5IC8+XG4gICAgPG1hdC1kYXRlcGlja2VyLXRvZ2dsZSBtYXRTdWZmaXggY2xhc3M9XCJmcy01XCIgW2Zvcl09XCJtb250aGx5XCI+PC9tYXQtZGF0ZXBpY2tlci10b2dnbGU+XG4gICAgPG1hdC1kYXRlcGlja2VyIHBhbmVsQ2xhc3M9XCJtb250aFBpY2tlclwiICNtb250aGx5IHN0YXJ0Vmlldz1cInllYXJcIlxuICAgICAgICAobW9udGhTZWxlY3RlZCk9XCJtb250aGx5RGF0ZVNlbGVjdGVkSGFuZGxlcigkZXZlbnQsIG1vbnRobHkpXCIgKGNsb3NlZCk9XCJ0YWtlRm9jdXNBd2F5KCdtb250aGx5RmllbGQnKVwiPlxuICAgIDwvbWF0LWRhdGVwaWNrZXI+XG48L21hdC1mb3JtLWZpZWxkPlxuXG48bWF0LWZvcm0tZmllbGQgY2xhc3M9XCJtcy0zXCIgaWQ9XCJ5ZWFybHlGaWVsZFwiIGFwcFllYXJGb3JtYXQgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBmcmVxdWVuY3lGQy52YWx1ZSAhPSBGcmVxdWVuY3lFbnVtLllFQVJMWX1cIlxuICAgIChjbGljayk9XCJvcGVuRGF0ZXBpY2tlck9uQ2xpY2soeWVhcmx5KVwiIChrZXlkb3duLmFycm93ZG93bik9XCJvcGVuRGF0ZXBpY2tlck9uQ2xpY2soeWVhcmx5KVwiXG4gICAgKGtleWRvd24uZW50ZXIpPVwib3BlbkRhdGVwaWNrZXJPbkNsaWNrKHllYXJseSlcIj5cbiAgICA8aW5wdXQgbWF0SW5wdXQgY2xhc3M9XCJub0ZvY3VzXCIgW21hdERhdGVwaWNrZXJdPVwieWVhcmx5XCIgW2Zvcm1Db250cm9sXT1cImR1cmF0aW9uRkNcIiBbbWF4XT1cInRvZGF5XCIgcmVhZG9ubHkgLz5cbiAgICA8bWF0LWRhdGVwaWNrZXItdG9nZ2xlIG1hdFN1ZmZpeCBjbGFzcz1cImZzLTVcIiBbZm9yXT1cInllYXJseVwiPjwvbWF0LWRhdGVwaWNrZXItdG9nZ2xlPlxuICAgIDxtYXQtZGF0ZXBpY2tlciBwYW5lbENsYXNzPVwieWVhclBpY2tlclwiICN5ZWFybHkgc3RhcnRWaWV3PVwibXVsdGkteWVhclwiXG4gICAgICAgICh5ZWFyU2VsZWN0ZWQpPVwieWVhcmx5RGF0ZVNlbGVjdGVkSGFuZGxlcigkZXZlbnQsIHllYXJseSlcIiAoY2xvc2VkKT1cInRha2VGb2N1c0F3YXkoJ3llYXJseUZpZWxkJylcIj5cbiAgICA8L21hdC1kYXRlcGlja2VyPlxuPC9tYXQtZm9ybS1maWVsZD5cblxuPG1hdC1mb3JtLWZpZWxkIGNsYXNzPVwibXMtM1wiIFtuZ0NsYXNzXT1cInsnZC1ub25lJzogZnJlcXVlbmN5RkMudmFsdWUgIT0gRnJlcXVlbmN5RW51bS5DVVNUT019XCI+XG4gICAgPG1hdC1sYWJlbCBjbGFzcz1cImZvcm1MYWJlbFwiPiBTZWxlY3QgZGF0ZSA8L21hdC1sYWJlbD5cbiAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBtYXRJbnB1dCBuZ3hEYXRlcmFuZ2VwaWNrZXJNZFxuICAgICAgICBbbG9jYWxlXT1cIntkaXJlY3Rpb246ICdsdHInLCBhcHBseUxhYmVsOiAnQXBwbHknLCBmb3JtYXQ6ICdERC1NTU0tWVlZWScsIGN1c3RvbVJhbmdlTGFiZWw6ICdDdXN0b20gUmFuZ2UnfVwiXG4gICAgICAgIFtkcm9wc109XCInZG93bidcIiBbb3BlbnNdPVwiJ3JpZ2h0J1wiIFthbHdheXNTaG93Q2FsZW5kYXJzXT1cInRydWVcIiBba2VlcENhbGVuZGFyT3BlbmluZ1dpdGhSYW5nZV09XCJ0cnVlXCJcbiAgICAgICAgW3Nob3dEcm9wZG93bnNdPVwidHJ1ZVwiIFtzaG93Q2FuY2VsXT1cInRydWVcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBuYW1lPVwiZGF0ZXJhbmdlXCIgW2Zvcm1Db250cm9sXT1cImRhdGVyYW5nZVwiXG4gICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cImN1c3RvbURhdGVSYW5nZShkYXRlcmFuZ2UudmFsdWUpXCIgW3JlYWRvbmx5XT1cInRydWVcIiAvPlxuPC9tYXQtZm9ybS1maWVsZD5cbiJdfQ==