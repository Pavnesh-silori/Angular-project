import { Component, EventEmitter, Input, Output } from '@angular/core';
import { FormControl } from '@angular/forms';
import * as moment from 'moment-timezone';
import { DateInputTypeEnum, DateTypeEnum } from '../../enum/date.enum';
// tsc-library
import { MaterialFormFieldAppearance } from '@library/tsc-common';
import * as i0 from "@angular/core";
import * as i1 from "../../service/date.service";
import * as i2 from "@angular/material/form-field";
import * as i3 from "@angular/material/datepicker";
import * as i4 from "../../directive/date-month-year-format.directive";
import * as i5 from "@angular/common";
import * as i6 from "@angular/material/input";
import * as i7 from "@angular/forms";
import * as i8 from "ngx-daterangepicker-material";
// /tsc-library/
export class DateInputComponent {
    constructor(dateService) {
        this.dateService = dateService;
        this.dateInputTypeEnum = DateInputTypeEnum;
        this.dateTypeEnum = DateTypeEnum;
        this.materialFormFieldAppearance = MaterialFormFieldAppearance;
        this.emitFilter = new EventEmitter();
        this.dateType = this.dateTypeEnum.INCLUSIVE;
        this.formFieldAppearance = '';
        this.label = '';
        this.cDRformat = 'YYYY-MM-DD';
        this.timezone = 'UTC';
        this.range = null;
        this.materialFieldWidth = false;
        this.isMandatoryField = false;
        this.showCdrRangeLabel = false;
        this.showRange = false;
        this.showDefaultDuration = false;
        this.showTimeInCDR = false;
        this.daterange = new FormControl();
        this.durationFC = new FormControl();
        this.startDateFC = new FormControl();
        this.endDateFC = new FormControl();
    }
    ngOnInit() {
        this.date = moment().tz(this.timezone).format();
    }
    ngOnChanges(changes) {
        if (changes.materialFormFieldAppearanceInp && this.materialFormFieldAppearanceInp) {
            this.formFieldAppearance = this.materialFormFieldAppearanceInp;
        }
        if (changes.materialFieldWidthInp && this.materialFieldWidthInp) {
            this.materialFieldWidth = this.materialFieldWidthInp;
        }
        if (changes.isMandatoryFieldInp && this.isMandatoryFieldInp) {
            this.isMandatoryField = this.isMandatoryFieldInp;
        }
        if (changes.labelInp && this.labelInp) {
            this.label = this.labelInp;
        }
        if (changes.cdrFormatInp && this.cdrFormatInp) {
            this.cDRformat = this.cdrFormatInp;
        }
        if (changes.showCdrRangeLabelInp && this.showCdrRangeLabelInp) {
            this.showCdrRangeLabel = this.showCdrRangeLabelInp;
        }
        if (changes.showRangeInp && this.showRangeInp) {
            this.showRange = this.showRangeInp;
        }
        if (changes.rangeInp && this.rangeInp) {
            this.range = this.rangeInp;
        }
        if (changes.showTimeInCDRInp && this.showTimeInCDRInp) {
            this.showTimeInCDR = this.showTimeInCDRInp;
        }
        if (changes.dateTypeInp && this.dateTypeInp) {
            this.dateType = this.dateTypeInp;
        }
        if (changes.timezoneInp && this.timezoneInp) {
            this.timezone = this.timezoneInp;
        }
        if (changes.dateInputTypeInp && this.dateInputTypeInp) {
            this.dateInputType = this.dateInputTypeInp;
        }
        if (changes.showDefaultDurationInp && this.showDefaultDurationInp) {
            this.showDefaultDuration = this.showDefaultDurationInp;
            this.patchDefaultConfig();
        }
        if (changes.frequencyInp && this.frequencyInp) {
            this.patchDefaultConfig();
        }
    }
    patchDefaultConfig() {
        if (this.dateInputType == this.dateInputTypeEnum.DAY_INPUT) {
            if (this.showDefaultDuration) {
                this.durationFC.patchValue(moment(this.date).format('YYYY-MM-DD'));
                this.startDateFC.patchValue(moment().startOf('day').tz(this.timezone).format());
                this.endDateFC.patchValue(moment().tz(this.timezone).format());
            }
        }
        else if (this.dateInputType == this.dateInputTypeEnum.MONTH_INPUT) {
            if (this.showDefaultDuration) {
                this.durationFC.patchValue(moment(this.date).format('YYYY-MM'));
                this.startDateFC.patchValue(moment().startOf('month').tz(this.timezone).format());
                const endDateValue = this.dateType == this.dateTypeEnum.INCLUSIVE
                    ? moment().endOf('month').tz(this.timezone).format()
                    : moment().add(1, 'months').startOf('month').tz(this.timezone).format();
                this.endDateFC.patchValue(endDateValue);
            }
        }
        else if (this.dateInputType == this.dateInputTypeEnum.YEAR_INPUT) {
            if (this.showDefaultDuration) {
                this.durationFC.patchValue(moment(this.date).format('YYYY'));
                this.startDateFC.patchValue(moment().startOf('year').tz(this.timezone).format());
                const endDateValue = this.dateType == this.dateTypeEnum.INCLUSIVE
                    ? moment().endOf('year').tz(this.timezone).format()
                    : moment().add(1, 'year').startOf('year').tz(this.timezone).format();
                this.endDateFC.patchValue(endDateValue);
            }
        }
        else if (this.dateInputType == this.dateInputTypeEnum.CUSTOM_INPUT) {
            if (this.showDefaultDuration) {
                if (this.showTimeInCDR) {
                    this.daterange.patchValue({ startDate: moment().set({ hour: 0, minute: 0, second: 0, millisecond: 0 }).startOf('day'), endDate: moment() });
                }
                else {
                    this.daterange.patchValue({ startDate: moment().startOf('day'), endDate: moment() });
                }
                this.startDateFC.patchValue(moment(this.daterange.value.startDate).tz(this.timezone).format());
                this.endDateFC.patchValue(moment(this.daterange.value.endDate).tz(this.timezone).format());
            }
        }
    }
    ngAfterViewInit() {
        this.emitFilter.emit();
    }
    dayDateInput(selectedDate) {
        let duration = this.dateService.dailySelectedHandler(selectedDate);
        this.durationFC.patchValue(duration);
        this.startDateFC.patchValue(moment(selectedDate).startOf('day').tz(this.timezone).format());
        const endDateValue = this.dateType == this.dateTypeEnum.INCLUSIVE
            ? moment(selectedDate).endOf('day').tz(this.timezone).format()
            : moment(selectedDate).add(1, 'days').startOf('day').tz(this.timezone).format();
        this.endDateFC.patchValue(endDateValue);
        this.emitFilter.emit();
    }
    monthDateInput(selectedDate, datepicker) {
        let duration = this.dateService.handleDateInput(selectedDate, datepicker, "YYYY-MM");
        this.durationFC.patchValue(duration);
        this.startDateFC.patchValue(moment(selectedDate).startOf('month').tz(this.timezone).format());
        const endDateValue = this.dateType == this.dateTypeEnum.INCLUSIVE
            ? moment(selectedDate).endOf('month').tz(this.timezone).format()
            : moment(selectedDate).add(1, 'months').startOf('month').tz(this.timezone).format();
        this.endDateFC.patchValue(endDateValue);
        this.emitFilter.emit();
    }
    yearDateInput(selectedDate, datepicker) {
        let duration = this.dateService.handleDateInput(selectedDate, datepicker, "YYYY");
        this.durationFC.patchValue(duration);
        this.startDateFC.patchValue(moment(selectedDate).startOf('year').tz(this.timezone).format());
        const endDateValue = this.dateType == this.dateTypeEnum.INCLUSIVE
            ? moment(selectedDate).endOf('year').tz(this.timezone).format()
            : moment(selectedDate).add(1, 'year').startOf('year').tz(this.timezone).format();
        this.endDateFC.patchValue(endDateValue);
        this.emitFilter.emit();
    }
    customDateInput(selectedDate) {
        this.startDateFC.patchValue(moment(selectedDate.startDate).tz(this.timezone).format());
        this.endDateFC.patchValue(moment(selectedDate.endDate).tz(this.timezone).format());
        this.emitFilter.emit();
    }
}
DateInputComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: DateInputComponent, deps: [{ token: i1.DateService }], target: i0.ɵɵFactoryTarget.Component });
DateInputComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: DateInputComponent, selector: "lib-date-input", inputs: { materialFormFieldAppearanceInp: "materialFormFieldAppearanceInp", materialFieldWidthInp: "materialFieldWidthInp", frequencyInp: "frequencyInp", dateInputTypeInp: "dateInputTypeInp", dateTypeInp: "dateTypeInp", timezoneInp: "timezoneInp", labelInp: "labelInp", rangeInp: "rangeInp", cdrFormatInp: "cdrFormatInp", isMandatoryFieldInp: "isMandatoryFieldInp", showRangeInp: "showRangeInp", showCdrRangeLabelInp: "showCdrRangeLabelInp", showDefaultDurationInp: "showDefaultDurationInp", showTimeInCDRInp: "showTimeInCDRInp" }, outputs: { emitFilter: "emitFilter" }, usesOnChanges: true, ngImport: i0, template: "<mat-form-field [ngClass]=\"{'d-none': dateInputType != dateInputTypeEnum.DAY_INPUT, 'matFieldWidth100': materialFieldWidth}\" [appearance]=\"formFieldAppearance\"\n    id=\"dailyField\" appDateMonthYearFormat (click)=\"dateService.openDatepickerOnClick(daily)\"\n    (keydown.arrowdown)=\"dateService.openDatepickerOnClick(daily)\"\n    (keydown.enter)=\"dateService.openDatepickerOnClick(daily)\">\n    <mat-label> {{ label }} </mat-label>\n    <input matInput class=\"noFocus\" [matDatepicker]=\"daily\" [formControl]=\"durationFC\" [max]=\"date\"\n        (dateInput)=\"dayDateInput($event.value)\" readonly [required]=\"isMandatoryField\"/>\n    <mat-datepicker-toggle matSuffix class=\"fs-5\" [for]=\"daily\"></mat-datepicker-toggle>\n    <mat-datepicker #daily (closed)=\"dateService.takeFocusAway('dailyField')\"></mat-datepicker>\n    <mat-error *ngIf=\"durationFC.touched && durationFC.hasError('required')\">\n        {{ label }}\n    </mat-error>\n</mat-form-field>\n\n<mat-form-field\n    [ngClass]=\"{'d-none': dateInputType != dateInputTypeEnum.MONTH_INPUT, 'matFieldWidth100': materialFieldWidth}\"\n    [appearance]=\"formFieldAppearance\" id=\"monthlyField\" appMonthYearFormat\n    (click)=\"dateService.openDatepickerOnClick(monthly)\"\n    (keydown.arrowdown)=\"dateService.openDatepickerOnClick(monthly)\"\n    (keydown.enter)=\"dateService.openDatepickerOnClick(monthly)\">\n    <mat-label> {{ label }} </mat-label>\n    <input matInput class=\"noFocus\" [matDatepicker]=\"monthly\" [formControl]=\"durationFC\" [max]=\"date\" readonly\n        [required]=\"isMandatoryField\" />\n    <mat-datepicker-toggle matSuffix class=\"fs-5\" [for]=\"monthly\"></mat-datepicker-toggle>\n    <mat-datepicker #monthly panelClass=\"monthPicker\" startView=\"year\" (monthSelected)=\"monthDateInput($event, monthly)\"\n        (closed)=\"dateService.takeFocusAway('monthlyField')\"></mat-datepicker>\n    <mat-error *ngIf=\"durationFC.touched && durationFC.hasError('required')\">\n        {{ label }}\n    </mat-error>\n</mat-form-field>\n\n<mat-form-field [ngClass]=\"{'d-none': dateInputType != dateInputTypeEnum.YEAR_INPUT, 'matFieldWidth100': materialFieldWidth}\" [appearance]=\"formFieldAppearance\"\n    id=\"yearlyField\" appYearFormat (click)=\"dateService.openDatepickerOnClick(yearly)\"\n    (keydown.arrowdown)=\"dateService.openDatepickerOnClick(yearly)\"\n    (keydown.enter)=\"dateService.openDatepickerOnClick(yearly)\">\n    <mat-label> {{ label }} </mat-label>\n    <input matInput class=\"noFocus\" [matDatepicker]=\"yearly\" [formControl]=\"durationFC\" [max]=\"date\" readonly [required]=\"isMandatoryField\"/>\n    <mat-datepicker-toggle matSuffix class=\"fs-5\" [for]=\"yearly\"></mat-datepicker-toggle>\n    <mat-datepicker #yearly startView=\"multi-year\" panelClass=\"yearPicker\"\n        (yearSelected)=\"yearDateInput($event, yearly)\"\n        (closed)=\"dateService.takeFocusAway('yearlyField')\"></mat-datepicker>\n    <mat-error *ngIf=\"durationFC.touched && durationFC.hasError('required')\">\n        {{ label }}\n    </mat-error>\n</mat-form-field>\n\n<mat-form-field [ngClass]=\"{'d-none': dateInputType != dateInputTypeEnum.CUSTOM_INPUT, 'matFieldWidth100': materialFieldWidth}\"\n    [appearance]=\"formFieldAppearance\">\n    <mat-label> {{ label }} </mat-label>\n    <input type=\"text\" matInput ngxDaterangepickerMd\n        [locale]=\"{direction: 'ltr', applyLabel: 'Apply', format: cDRformat, customRangeLabel: 'Custom Range'}\"\n        [showCustomRangeLabel]=\"showCdrRangeLabel\" [timePicker]=\"showTimeInCDR\" [ranges]=\"showRange ? range : null\"\n        [drops]=\"'down'\" [opens]=\"'right'\" [alwaysShowCalendars]=\"true\" [keepCalendarOpeningWithRange]=\"true\"\n        [showDropdowns]=\"true\" [showCancel]=\"true\" autocomplete=\"off\" name=\"daterange\" [formControl]=\"daterange\"\n        (ngModelChange)=\"customDateInput(daterange.value)\" [readonly]=\"true\" [required]=\"isMandatoryField\"/>\n    <mat-error *ngIf=\"daterange.touched && daterange.hasError('required')\">\n        {{ label }}\n    </mat-error>\n</mat-form-field>", components: [{ type: i2.MatFormField, selector: "mat-form-field", inputs: ["color", "floatLabel", "appearance", "hideRequiredMarker", "hintLabel"], exportAs: ["matFormField"] }, { type: i3.MatDatepickerToggle, selector: "mat-datepicker-toggle", inputs: ["tabIndex", "disabled", "for", "aria-label", "disableRipple"], exportAs: ["matDatepickerToggle"] }, { type: i3.MatDatepicker, selector: "mat-datepicker", exportAs: ["matDatepicker"] }], directives: [{ type: i4.DateMonthYearFormatDirective, selector: "[appDateMonthYearFormat]" }, { type: i5.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i2.MatLabel, selector: "mat-label" }, { type: i6.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["id", "disabled", "required", "type", "value", "readonly", "placeholder", "errorStateMatcher", "aria-describedby"], exportAs: ["matInput"] }, { type: i3.MatDatepickerInput, selector: "input[matDatepicker]", inputs: ["matDatepicker", "min", "max", "matDatepickerFilter"], exportAs: ["matDatepickerInput"] }, { type: i7.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i7.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i7.FormControlDirective, selector: "[formControl]", inputs: ["disabled", "formControl", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { type: i7.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { type: i2.MatSuffix, selector: "[matSuffix]" }, { type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i2.MatError, selector: "mat-error", inputs: ["id"] }, { type: i4.MonthYearFormatDirective, selector: "[appMonthYearFormat]" }, { type: i4.YearFormatDirective, selector: "[appYearFormat]" }, { type: i8.DaterangepickerDirective, selector: "input[ngxDaterangepickerMd]", inputs: ["dateLimit", "showCancel", "lockStartDate", "timePicker", "timePicker24Hour", "timePickerIncrement", "timePickerSeconds", "closeOnAutoApply", "_endKey", "drops", "opens", "locale", "startKey", "endKey", "minDate", "maxDate", "autoApply", "alwaysShowCalendars", "showCustomRangeLabel", "linkedCalendars", "singleDatePicker", "showWeekNumbers", "showISOWeekNumbers", "showDropdowns", "isInvalidDate", "isCustomDate", "isTooltipDate", "showClearButton", "customRangeDirection", "ranges", "lastMonthDayClass", "emptyWeekRowClass", "emptyWeekColumnClass", "firstDayOfNextMonthClass", "lastDayOfPreviousMonthClass", "keepCalendarOpeningWithRange", "showRangeLabelOnInput"], outputs: ["change", "rangeClicked", "datesUpdated", "startDateChanged", "endDateChanged"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: DateInputComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-date-input',
                    templateUrl: './date-input.component.html',
                    styleUrls: []
                }]
        }], ctorParameters: function () { return [{ type: i1.DateService }]; }, propDecorators: { materialFormFieldAppearanceInp: [{
                type: Input
            }], materialFieldWidthInp: [{
                type: Input
            }], frequencyInp: [{
                type: Input
            }], dateInputTypeInp: [{
                type: Input
            }], dateTypeInp: [{
                type: Input
            }], timezoneInp: [{
                type: Input
            }], labelInp: [{
                type: Input
            }], rangeInp: [{
                type: Input
            }], cdrFormatInp: [{
                type: Input
            }], isMandatoryFieldInp: [{
                type: Input
            }], showRangeInp: [{
                type: Input
            }], showCdrRangeLabelInp: [{
                type: Input
            }], showDefaultDurationInp: [{
                type: Input
            }], showTimeInCDRInp: [{
                type: Input
            }], emitFilter: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1pbnB1dC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L2RhdGUvc3JjL2xpYi90c2MvY29tcG9uZW50L2RhdGUtaW5wdXQvZGF0ZS1pbnB1dC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L2RhdGUvc3JjL2xpYi90c2MvY29tcG9uZW50L2RhdGUtaW5wdXQvZGF0ZS1pbnB1dC5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQVUsTUFBTSxFQUFpQixNQUFNLGVBQWUsQ0FBQztBQUU5RixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFLN0MsT0FBTyxLQUFLLE1BQU0sTUFBTSxpQkFBaUIsQ0FBQztBQUUxQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsWUFBWSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFJdkUsY0FBYztBQUNkLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLHFCQUFxQixDQUFDOzs7Ozs7Ozs7O0FBQ2xFLGdCQUFnQjtBQVFoQixNQUFNLE9BQU8sa0JBQWtCO0lBdUUzQixZQUNXLFdBQXdCO1FBQXhCLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBdEVuQyxzQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztRQUN0QyxpQkFBWSxHQUFHLFlBQVksQ0FBQztRQUM1QixnQ0FBMkIsR0FBRywyQkFBMkIsQ0FBQztRQTRDMUQsZUFBVSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFHaEMsYUFBUSxHQUFpQixJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQztRQUNyRCx3QkFBbUIsR0FBRyxFQUFFLENBQUM7UUFHekIsVUFBSyxHQUFXLEVBQUUsQ0FBQztRQUNuQixjQUFTLEdBQVcsWUFB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UUFBUSxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUVuRixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzNCLENBQUM7O2dIQXBQUSxrQkFBa0I7b0dBQWxCLGtCQUFrQixzb0JDdkIvQix3Z0lBMERpQjs0RkRuQ0osa0JBQWtCO2tCQU45QixTQUFTO21CQUFDO29CQUNQLFFBQVEsRUFBRSxnQkFBZ0I7b0JBQzFCLFdBQVcsRUFBRSw2QkFBNkI7b0JBQzFDLFNBQVMsRUFBRSxFQUFFO2lCQUNoQjtrR0FTRyw4QkFBOEI7c0JBRDdCLEtBQUs7Z0JBSU4scUJBQXFCO3NCQURwQixLQUFLO2dCQUdHLFlBQVk7c0JBQXBCLEtBQUs7Z0JBR04sZ0JBQWdCO3NCQURmLEtBQUs7Z0JBSU4sV0FBVztzQkFEVixLQUFLO2dCQUlOLFdBQVc7c0JBRFYsS0FBSztnQkFJTixRQUFRO3NCQURQLEtBQUs7Z0JBSU4sUUFBUTtzQkFEUCxLQUFLO2dCQUlOLFlBQVk7c0JBRFgsS0FBSztnQkFJTixtQkFBbUI7c0JBRGxCLEtBQUs7Z0JBSU4sWUFBWTtzQkFEWCxLQUFLO2dCQUlOLG9CQUFvQjtzQkFEbkIsS0FBSztnQkFJTixzQkFBc0I7c0JBRHJCLEtBQUs7Z0JBSU4sZ0JBQWdCO3NCQURmLEtBQUs7Z0JBSU4sVUFBVTtzQkFEVCxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgU2ltcGxlQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBGb3JtQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuaW1wb3J0IHsgTWF0RGF0ZXBpY2tlciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RhdGVwaWNrZXInO1xuXG5pbXBvcnQgeyBNb21lbnQgfSBmcm9tICdtb21lbnQnO1xuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudC10aW1lem9uZSc7XG5cbmltcG9ydCB7IERhdGVJbnB1dFR5cGVFbnVtLCBEYXRlVHlwZUVudW0gfSBmcm9tICcuLi8uLi9lbnVtL2RhdGUuZW51bSc7XG5cbmltcG9ydCB7IERhdGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZS9kYXRlLnNlcnZpY2UnO1xuXG4vLyB0c2MtbGlicmFyeVxuaW1wb3J0IHsgTWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlIH0gZnJvbSAnQGxpYnJhcnkvdHNjLWNvbW1vbic7XG4vLyAvdHNjLWxpYnJhcnkvXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbGliLWRhdGUtaW5wdXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9kYXRlLWlucHV0LmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFtdXG59KVxuXG5leHBvcnQgY2xhc3MgRGF0ZUlucHV0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIGRhdGVJbnB1dFR5cGVFbnVtID0gRGF0ZUlucHV0VHlwZUVudW07XG4gICAgZGF0ZVR5cGVFbnVtID0gRGF0ZVR5cGVFbnVtO1xuICAgIG1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZSA9IE1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZTtcblxuICAgIEBJbnB1dCgpXG4gICAgbWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlSW5wOiBNYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2U7XG5cbiAgICBASW5wdXQoKVxuICAgIG1hdGVyaWFsRmllbGRXaWR0aElucDogYm9vbGVhbjtcblxuICAgIEBJbnB1dCgpIGZyZXF1ZW5jeUlucDogYW55XG5cbiAgICBASW5wdXQoKVxuICAgIGRhdGVJbnB1dFR5cGVJbnA6IERhdGVJbnB1dFR5cGVFbnVtO1xuXG4gICAgQElucHV0KClcbiAgICBkYXRlVHlwZUlucDogRGF0ZVR5cGVFbnVtO1xuXG4gICAgQElucHV0KClcbiAgICB0aW1lem9uZUlucDogc3RyaW5nO1xuXG4gICAgQElucHV0KClcbiAgICBsYWJlbElucDogc3RyaW5nO1xuXG4gICAgQElucHV0KClcbiAgICByYW5nZUlucDogYW55O1xuXG4gICAgQElucHV0KClcbiAgICBjZHJGb3JtYXRJbnA6IHN0cmluZztcblxuICAgIEBJbnB1dCgpXG4gICAgaXNNYW5kYXRvcnlGaWVsZElucDogYm9vbGVhbjtcblxuICAgIEBJbnB1dCgpXG4gICAgc2hvd1JhbmdlSW5wOiBib29sZWFuO1xuXG4gICAgQElucHV0KClcbiAgICBzaG93Q2RyUmFuZ2VMYWJlbElucDogYm9vbGVhbjtcblxuICAgIEBJbnB1dCgpXG4gICAgc2hvd0RlZmF1bHREdXJhdGlvbklucDogYm9vbGVhbjtcblxuICAgIEBJbnB1dCgpXG4gICAgc2hvd1RpbWVJbkNEUklucDogYm9vbGVhbjtcblxuICAgIEBPdXRwdXQoKVxuICAgIGVtaXRGaWx0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBkYXRlSW5wdXRUeXBlOiBEYXRlSW5wdXRUeXBlRW51bTtcbiAgICBkYXRlVHlwZTogRGF0ZVR5cGVFbnVtID0gdGhpcy5kYXRlVHlwZUVudW0uSU5DTFVTSVZFO1xuICAgIGZvcm1GaWVsZEFwcGVhcmFuY2UgPSAnJztcblxuICAgIGRhdGU6IGFueTtcbiAgICBsYWJlbDogc3RyaW5nID0gJyc7XG4gICAgY0RSZm9ybWF0OiBzdHJpbmcgPSAnWVlZWS1NTS1ERCdcbiAgICB0aW1lem9uZTogc3RyaW5nID0gJ1VUQyc7XG4gICAgcmFuZ2U6IGFueSA9IG51bGw7XG4gICAgbWF0ZXJpYWxGaWVsZFdpZHRoOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNNYW5kYXRvcnlGaWVsZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNob3dDZHJSYW5nZUxhYmVsOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2hvd1JhbmdlOiBib29sZWFuID0gZmFsc2U7XG4gICAgc2hvd0RlZmF1bHREdXJhdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNob3dUaW1lSW5DRFI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGRhdGVyYW5nZSA9IG5ldyBGb3JtQ29udHJvbCgpO1xuICAgIGR1cmF0aW9uRkMgPSBuZXcgRm9ybUNvbnRyb2woKTtcbiAgICBzdGFydERhdGVGQyA9IG5ldyBGb3JtQ29udHJvbCgpO1xuICAgIGVuZERhdGVGQyA9IG5ldyBGb3JtQ29udHJvbCgpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBkYXRlU2VydmljZTogRGF0ZVNlcnZpY2UsXG4gICAgKSB7IH1cblxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmRhdGUgPSBtb21lbnQoKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKTtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogdm9pZCB7XG4gICAgICAgIGlmIChjaGFuZ2VzLm1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZUlucCAmJiB0aGlzLm1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZUlucCkge1xuICAgICAgICAgICAgdGhpcy5mb3JtRmllbGRBcHBlYXJhbmNlID0gdGhpcy5tYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2VJbnA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcy5tYXRlcmlhbEZpZWxkV2lkdGhJbnAgJiYgdGhpcy5tYXRlcmlhbEZpZWxkV2lkdGhJbnApIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxGaWVsZFdpZHRoID0gdGhpcy5tYXRlcmlhbEZpZWxkV2lkdGhJbnA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcy5pc01hbmRhdG9yeUZpZWxkSW5wICYmIHRoaXMuaXNNYW5kYXRvcnlGaWVsZElucCkge1xuICAgICAgICAgICAgdGhpcy5pc01hbmRhdG9yeUZpZWxkID0gdGhpcy5pc01hbmRhdG9yeUZpZWxkSW5wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMubGFiZWxJbnAgJiYgdGhpcy5sYWJlbElucCkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IHRoaXMubGFiZWxJbnA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcy5jZHJGb3JtYXRJbnAgJiYgdGhpcy5jZHJGb3JtYXRJbnApIHtcbiAgICAgICAgICAgIHRoaXMuY0RSZm9ybWF0ID0gdGhpcy5jZHJGb3JtYXRJbnA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcy5zaG93Q2RyUmFuZ2VMYWJlbElucCAmJiB0aGlzLnNob3dDZHJSYW5nZUxhYmVsSW5wKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dDZHJSYW5nZUxhYmVsID0gdGhpcy5zaG93Q2RyUmFuZ2VMYWJlbElucDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzLnNob3dSYW5nZUlucCAmJiB0aGlzLnNob3dSYW5nZUlucCkge1xuICAgICAgICAgICAgdGhpcy5zaG93UmFuZ2UgPSB0aGlzLnNob3dSYW5nZUlucDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzLnJhbmdlSW5wICYmIHRoaXMucmFuZ2VJbnApIHtcbiAgICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlSW5wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMuc2hvd1RpbWVJbkNEUklucCAmJiB0aGlzLnNob3dUaW1lSW5DRFJJbnApIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1RpbWVJbkNEUiA9IHRoaXMuc2hvd1RpbWVJbkNEUklucDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzLmRhdGVUeXBlSW5wICYmIHRoaXMuZGF0ZVR5cGVJbnApIHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZVR5cGUgPSB0aGlzLmRhdGVUeXBlSW5wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMudGltZXpvbmVJbnAgJiYgdGhpcy50aW1lem9uZUlucCkge1xuICAgICAgICAgICAgdGhpcy50aW1lem9uZSA9IHRoaXMudGltZXpvbmVJbnA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcy5kYXRlSW5wdXRUeXBlSW5wICYmIHRoaXMuZGF0ZUlucHV0VHlwZUlucCkge1xuICAgICAgICAgICAgdGhpcy5kYXRlSW5wdXRUeXBlID0gdGhpcy5kYXRlSW5wdXRUeXBlSW5wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMuc2hvd0RlZmF1bHREdXJhdGlvbklucCAmJiB0aGlzLnNob3dEZWZhdWx0RHVyYXRpb25JbnApIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0RlZmF1bHREdXJhdGlvbiA9IHRoaXMuc2hvd0RlZmF1bHREdXJhdGlvbklucDtcbiAgICAgICAgICAgIHRoaXMucGF0Y2hEZWZhdWx0Q29uZmlnKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcy5mcmVxdWVuY3lJbnAgJiYgdGhpcy5mcmVxdWVuY3lJbnApIHtcbiAgICAgICAgICAgIHRoaXMucGF0Y2hEZWZhdWx0Q29uZmlnKCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHBhdGNoRGVmYXVsdENvbmZpZygpIHtcblxuICAgICAgICBpZiAodGhpcy5kYXRlSW5wdXRUeXBlID09IHRoaXMuZGF0ZUlucHV0VHlwZUVudW0uREFZX0lOUFVUKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWZhdWx0RHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR1cmF0aW9uRkMucGF0Y2hWYWx1ZShtb21lbnQodGhpcy5kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLnR6KHRoaXMudGltZXpvbmUpLmZvcm1hdCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudCgpLnR6KHRoaXMudGltZXpvbmUpLmZvcm1hdCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0ZUlucHV0VHlwZSA9PSB0aGlzLmRhdGVJbnB1dFR5cGVFbnVtLk1PTlRIX0lOUFVUKSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dEZWZhdWx0RHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR1cmF0aW9uRkMucGF0Y2hWYWx1ZShtb21lbnQodGhpcy5kYXRlKS5mb3JtYXQoJ1lZWVktTU0nKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudCgpLnN0YXJ0T2YoJ21vbnRoJykudHoodGhpcy50aW1lem9uZSkuZm9ybWF0KCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZVZhbHVlID0gdGhpcy5kYXRlVHlwZSA9PSB0aGlzLmRhdGVUeXBlRW51bS5JTkNMVVNJVkVcbiAgICAgICAgICAgICAgICAgICAgPyBtb21lbnQoKS5lbmRPZignbW9udGgnKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKVxuICAgICAgICAgICAgICAgICAgICA6IG1vbWVudCgpLmFkZCgxLCAnbW9udGhzJykuc3RhcnRPZignbW9udGgnKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW5kRGF0ZUZDLnBhdGNoVmFsdWUoZW5kRGF0ZVZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0ZUlucHV0VHlwZSA9PSB0aGlzLmRhdGVJbnB1dFR5cGVFbnVtLllFQVJfSU5QVVQpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0RlZmF1bHREdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHVyYXRpb25GQy5wYXRjaFZhbHVlKG1vbWVudCh0aGlzLmRhdGUpLmZvcm1hdCgnWVlZWScpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZUZDLnBhdGNoVmFsdWUobW9tZW50KCkuc3RhcnRPZigneWVhcicpLnR6KHRoaXMudGltZXpvbmUpLmZvcm1hdCgpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZERhdGVWYWx1ZSA9IHRoaXMuZGF0ZVR5cGUgPT0gdGhpcy5kYXRlVHlwZUVudW0uSU5DTFVTSVZFXG4gICAgICAgICAgICAgICAgICAgID8gbW9tZW50KCkuZW5kT2YoJ3llYXInKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKVxuICAgICAgICAgICAgICAgICAgICA6IG1vbWVudCgpLmFkZCgxLCAneWVhcicpLnN0YXJ0T2YoJ3llYXInKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZW5kRGF0ZUZDLnBhdGNoVmFsdWUoZW5kRGF0ZVZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0ZUlucHV0VHlwZSA9PSB0aGlzLmRhdGVJbnB1dFR5cGVFbnVtLkNVU1RPTV9JTlBVVCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93RGVmYXVsdER1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd1RpbWVJbkNEUikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGVyYW5nZS5wYXRjaFZhbHVlKHsgc3RhcnREYXRlOiBtb21lbnQoKS5zZXQoeyBob3VyOiAwLCBtaW51dGU6IDAsIHNlY29uZDogMCwgbWlsbGlzZWNvbmQ6IDAgfSkuc3RhcnRPZignZGF5JyksIGVuZERhdGU6IG1vbWVudCgpIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZXJhbmdlLnBhdGNoVmFsdWUoeyBzdGFydERhdGU6IG1vbWVudCgpLnN0YXJ0T2YoJ2RheScpLCBlbmREYXRlOiBtb21lbnQoKSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudCh0aGlzLmRhdGVyYW5nZS52YWx1ZS5zdGFydERhdGUpLnR6KHRoaXMudGltZXpvbmUpLmZvcm1hdCgpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVuZERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudCh0aGlzLmRhdGVyYW5nZS52YWx1ZS5lbmREYXRlKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy5lbWl0RmlsdGVyLmVtaXQoKTtcbiAgICB9XG5cbiAgICBkYXlEYXRlSW5wdXQoc2VsZWN0ZWREYXRlOiBNb21lbnQpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uID0gdGhpcy5kYXRlU2VydmljZS5kYWlseVNlbGVjdGVkSGFuZGxlcihzZWxlY3RlZERhdGUpO1xuXG4gICAgICAgIHRoaXMuZHVyYXRpb25GQy5wYXRjaFZhbHVlKGR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5zdGFydERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudChzZWxlY3RlZERhdGUpLnN0YXJ0T2YoJ2RheScpLnR6KHRoaXMudGltZXpvbmUpLmZvcm1hdCgpKTtcblxuICAgICAgICBjb25zdCBlbmREYXRlVmFsdWUgPSB0aGlzLmRhdGVUeXBlID09IHRoaXMuZGF0ZVR5cGVFbnVtLklOQ0xVU0lWRVxuICAgICAgICAgICAgPyBtb21lbnQoc2VsZWN0ZWREYXRlKS5lbmRPZignZGF5JykudHoodGhpcy50aW1lem9uZSkuZm9ybWF0KClcbiAgICAgICAgICAgIDogbW9tZW50KHNlbGVjdGVkRGF0ZSkuYWRkKDEsICdkYXlzJykuc3RhcnRPZignZGF5JykudHoodGhpcy50aW1lem9uZSkuZm9ybWF0KCk7XG5cbiAgICAgICAgdGhpcy5lbmREYXRlRkMucGF0Y2hWYWx1ZShlbmREYXRlVmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZW1pdEZpbHRlci5lbWl0KCk7XG4gICAgfVxuXG4gICAgbW9udGhEYXRlSW5wdXQoc2VsZWN0ZWREYXRlOiBNb21lbnQsIGRhdGVwaWNrZXI6IE1hdERhdGVwaWNrZXI8TW9tZW50Pikge1xuICAgICAgICBsZXQgZHVyYXRpb24gPSB0aGlzLmRhdGVTZXJ2aWNlLmhhbmRsZURhdGVJbnB1dChzZWxlY3RlZERhdGUsIGRhdGVwaWNrZXIsIFwiWVlZWS1NTVwiKTtcblxuICAgICAgICB0aGlzLmR1cmF0aW9uRkMucGF0Y2hWYWx1ZShkdXJhdGlvbik7XG4gICAgICAgIHRoaXMuc3RhcnREYXRlRkMucGF0Y2hWYWx1ZShtb21lbnQoc2VsZWN0ZWREYXRlKS5zdGFydE9mKCdtb250aCcpLnR6KHRoaXMudGltZXpvbmUpLmZvcm1hdCgpKTtcblxuICAgICAgICBjb25zdCBlbmREYXRlVmFsdWUgPSB0aGlzLmRhdGVUeXBlID09IHRoaXMuZGF0ZVR5cGVFbnVtLklOQ0xVU0lWRVxuICAgICAgICAgICAgPyBtb21lbnQoc2VsZWN0ZWREYXRlKS5lbmRPZignbW9udGgnKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKVxuICAgICAgICAgICAgOiBtb21lbnQoc2VsZWN0ZWREYXRlKS5hZGQoMSwgJ21vbnRocycpLnN0YXJ0T2YoJ21vbnRoJykudHoodGhpcy50aW1lem9uZSkuZm9ybWF0KCk7XG5cbiAgICAgICAgdGhpcy5lbmREYXRlRkMucGF0Y2hWYWx1ZShlbmREYXRlVmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZW1pdEZpbHRlci5lbWl0KCk7XG4gICAgfVxuXG4gICAgeWVhckRhdGVJbnB1dChzZWxlY3RlZERhdGU6IE1vbWVudCwgZGF0ZXBpY2tlcjogTWF0RGF0ZXBpY2tlcjxNb21lbnQ+KSB7XG4gICAgICAgIGxldCBkdXJhdGlvbiA9IHRoaXMuZGF0ZVNlcnZpY2UuaGFuZGxlRGF0ZUlucHV0KHNlbGVjdGVkRGF0ZSwgZGF0ZXBpY2tlciwgXCJZWVlZXCIpO1xuXG4gICAgICAgIHRoaXMuZHVyYXRpb25GQy5wYXRjaFZhbHVlKGR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5zdGFydERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudChzZWxlY3RlZERhdGUpLnN0YXJ0T2YoJ3llYXInKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKSk7XG5cbiAgICAgICAgY29uc3QgZW5kRGF0ZVZhbHVlID0gdGhpcy5kYXRlVHlwZSA9PSB0aGlzLmRhdGVUeXBlRW51bS5JTkNMVVNJVkVcbiAgICAgICAgICAgID8gbW9tZW50KHNlbGVjdGVkRGF0ZSkuZW5kT2YoJ3llYXInKS50eih0aGlzLnRpbWV6b25lKS5mb3JtYXQoKVxuICAgICAgICAgICAgOiBtb21lbnQoc2VsZWN0ZWREYXRlKS5hZGQoMSwgJ3llYXInKS5zdGFydE9mKCd5ZWFyJykudHoodGhpcy50aW1lem9uZSkuZm9ybWF0KCk7XG5cbiAgICAgICAgdGhpcy5lbmREYXRlRkMucGF0Y2hWYWx1ZShlbmREYXRlVmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZW1pdEZpbHRlci5lbWl0KCk7XG4gICAgfVxuXG4gICAgY3VzdG9tRGF0ZUlucHV0KHNlbGVjdGVkRGF0ZTogYW55KSB7XG4gICAgICAgIHRoaXMuc3RhcnREYXRlRkMucGF0Y2hWYWx1ZShtb21lbnQoc2VsZWN0ZWREYXRlLnN0YXJ0RGF0ZSkudHoodGhpcy50aW1lem9uZSkuZm9ybWF0KCkpO1xuICAgICAgICB0aGlzLmVuZERhdGVGQy5wYXRjaFZhbHVlKG1vbWVudChzZWxlY3RlZERhdGUuZW5kRGF0ZSkudHoodGhpcy50aW1lem9uZSkuZm9ybWF0KCkpO1xuXG4gICAgICAgIHRoaXMuZW1pdEZpbHRlci5lbWl0KCk7XG4gICAgfVxuXG59IiwiPG1hdC1mb3JtLWZpZWxkIFtuZ0NsYXNzXT1cInsnZC1ub25lJzogZGF0ZUlucHV0VHlwZSAhPSBkYXRlSW5wdXRUeXBlRW51bS5EQVlfSU5QVVQsICdtYXRGaWVsZFdpZHRoMTAwJzogbWF0ZXJpYWxGaWVsZFdpZHRofVwiIFthcHBlYXJhbmNlXT1cImZvcm1GaWVsZEFwcGVhcmFuY2VcIlxuICAgIGlkPVwiZGFpbHlGaWVsZFwiIGFwcERhdGVNb250aFllYXJGb3JtYXQgKGNsaWNrKT1cImRhdGVTZXJ2aWNlLm9wZW5EYXRlcGlja2VyT25DbGljayhkYWlseSlcIlxuICAgIChrZXlkb3duLmFycm93ZG93bik9XCJkYXRlU2VydmljZS5vcGVuRGF0ZXBpY2tlck9uQ2xpY2soZGFpbHkpXCJcbiAgICAoa2V5ZG93bi5lbnRlcik9XCJkYXRlU2VydmljZS5vcGVuRGF0ZXBpY2tlck9uQ2xpY2soZGFpbHkpXCI+XG4gICAgPG1hdC1sYWJlbD4ge3sgbGFiZWwgfX0gPC9tYXQtbGFiZWw+XG4gICAgPGlucHV0IG1hdElucHV0IGNsYXNzPVwibm9Gb2N1c1wiIFttYXREYXRlcGlja2VyXT1cImRhaWx5XCIgW2Zvcm1Db250cm9sXT1cImR1cmF0aW9uRkNcIiBbbWF4XT1cImRhdGVcIlxuICAgICAgICAoZGF0ZUlucHV0KT1cImRheURhdGVJbnB1dCgkZXZlbnQudmFsdWUpXCIgcmVhZG9ubHkgW3JlcXVpcmVkXT1cImlzTWFuZGF0b3J5RmllbGRcIi8+XG4gICAgPG1hdC1kYXRlcGlja2VyLXRvZ2dsZSBtYXRTdWZmaXggY2xhc3M9XCJmcy01XCIgW2Zvcl09XCJkYWlseVwiPjwvbWF0LWRhdGVwaWNrZXItdG9nZ2xlPlxuICAgIDxtYXQtZGF0ZXBpY2tlciAjZGFpbHkgKGNsb3NlZCk9XCJkYXRlU2VydmljZS50YWtlRm9jdXNBd2F5KCdkYWlseUZpZWxkJylcIj48L21hdC1kYXRlcGlja2VyPlxuICAgIDxtYXQtZXJyb3IgKm5nSWY9XCJkdXJhdGlvbkZDLnRvdWNoZWQgJiYgZHVyYXRpb25GQy5oYXNFcnJvcigncmVxdWlyZWQnKVwiPlxuICAgICAgICB7eyBsYWJlbCB9fVxuICAgIDwvbWF0LWVycm9yPlxuPC9tYXQtZm9ybS1maWVsZD5cblxuPG1hdC1mb3JtLWZpZWxkXG4gICAgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBkYXRlSW5wdXRUeXBlICE9IGRhdGVJbnB1dFR5cGVFbnVtLk1PTlRIX0lOUFVULCAnbWF0RmllbGRXaWR0aDEwMCc6IG1hdGVyaWFsRmllbGRXaWR0aH1cIlxuICAgIFthcHBlYXJhbmNlXT1cImZvcm1GaWVsZEFwcGVhcmFuY2VcIiBpZD1cIm1vbnRobHlGaWVsZFwiIGFwcE1vbnRoWWVhckZvcm1hdFxuICAgIChjbGljayk9XCJkYXRlU2VydmljZS5vcGVuRGF0ZXBpY2tlck9uQ2xpY2sobW9udGhseSlcIlxuICAgIChrZXlkb3duLmFycm93ZG93bik9XCJkYXRlU2VydmljZS5vcGVuRGF0ZXBpY2tlck9uQ2xpY2sobW9udGhseSlcIlxuICAgIChrZXlkb3duLmVudGVyKT1cImRhdGVTZXJ2aWNlLm9wZW5EYXRlcGlja2VyT25DbGljayhtb250aGx5KVwiPlxuICAgIDxtYXQtbGFiZWw+IHt7IGxhYmVsIH19IDwvbWF0LWxhYmVsPlxuICAgIDxpbnB1dCBtYXRJbnB1dCBjbGFzcz1cIm5vRm9jdXNcIiBbbWF0RGF0ZXBpY2tlcl09XCJtb250aGx5XCIgW2Zvcm1Db250cm9sXT1cImR1cmF0aW9uRkNcIiBbbWF4XT1cImRhdGVcIiByZWFkb25seVxuICAgICAgICBbcmVxdWlyZWRdPVwiaXNNYW5kYXRvcnlGaWVsZFwiIC8+XG4gICAgPG1hdC1kYXRlcGlja2VyLXRvZ2dsZSBtYXRTdWZmaXggY2xhc3M9XCJmcy01XCIgW2Zvcl09XCJtb250aGx5XCI+PC9tYXQtZGF0ZXBpY2tlci10b2dnbGU+XG4gICAgPG1hdC1kYXRlcGlja2VyICNtb250aGx5IHBhbmVsQ2xhc3M9XCJtb250aFBpY2tlclwiIHN0YXJ0Vmlldz1cInllYXJcIiAobW9udGhTZWxlY3RlZCk9XCJtb250aERhdGVJbnB1dCgkZXZlbnQsIG1vbnRobHkpXCJcbiAgICAgICAgKGNsb3NlZCk9XCJkYXRlU2VydmljZS50YWtlRm9jdXNBd2F5KCdtb250aGx5RmllbGQnKVwiPjwvbWF0LWRhdGVwaWNrZXI+XG4gICAgPG1hdC1lcnJvciAqbmdJZj1cImR1cmF0aW9uRkMudG91Y2hlZCAmJiBkdXJhdGlvbkZDLmhhc0Vycm9yKCdyZXF1aXJlZCcpXCI+XG4gICAgICAgIHt7IGxhYmVsIH19XG4gICAgPC9tYXQtZXJyb3I+XG48L21hdC1mb3JtLWZpZWxkPlxuXG48bWF0LWZvcm0tZmllbGQgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBkYXRlSW5wdXRUeXBlICE9IGRhdGVJbnB1dFR5cGVFbnVtLllFQVJfSU5QVVQsICdtYXRGaWVsZFdpZHRoMTAwJzogbWF0ZXJpYWxGaWVsZFdpZHRofVwiIFthcHBlYXJhbmNlXT1cImZvcm1GaWVsZEFwcGVhcmFuY2VcIlxuICAgIGlkPVwieWVhcmx5RmllbGRcIiBhcHBZZWFyRm9ybWF0IChjbGljayk9XCJkYXRlU2VydmljZS5vcGVuRGF0ZXBpY2tlck9uQ2xpY2soeWVhcmx5KVwiXG4gICAgKGtleWRvd24uYXJyb3dkb3duKT1cImRhdGVTZXJ2aWNlLm9wZW5EYXRlcGlja2VyT25DbGljayh5ZWFybHkpXCJcbiAgICAoa2V5ZG93bi5lbnRlcik9XCJkYXRlU2VydmljZS5vcGVuRGF0ZXBpY2tlck9uQ2xpY2soeWVhcmx5KVwiPlxuICAgIDxtYXQtbGFiZWw+IHt7IGxhYmVsIH19IDwvbWF0LWxhYmVsPlxuICAgIDxpbnB1dCBtYXRJbnB1dCBjbGFzcz1cIm5vRm9jdXNcIiBbbWF0RGF0ZXBpY2tlcl09XCJ5ZWFybHlcIiBbZm9ybUNvbnRyb2xdPVwiZHVyYXRpb25GQ1wiIFttYXhdPVwiZGF0ZVwiIHJlYWRvbmx5IFtyZXF1aXJlZF09XCJpc01hbmRhdG9yeUZpZWxkXCIvPlxuICAgIDxtYXQtZGF0ZXBpY2tlci10b2dnbGUgbWF0U3VmZml4IGNsYXNzPVwiZnMtNVwiIFtmb3JdPVwieWVhcmx5XCI+PC9tYXQtZGF0ZXBpY2tlci10b2dnbGU+XG4gICAgPG1hdC1kYXRlcGlja2VyICN5ZWFybHkgc3RhcnRWaWV3PVwibXVsdGkteWVhclwiIHBhbmVsQ2xhc3M9XCJ5ZWFyUGlja2VyXCJcbiAgICAgICAgKHllYXJTZWxlY3RlZCk9XCJ5ZWFyRGF0ZUlucHV0KCRldmVudCwgeWVhcmx5KVwiXG4gICAgICAgIChjbG9zZWQpPVwiZGF0ZVNlcnZpY2UudGFrZUZvY3VzQXdheSgneWVhcmx5RmllbGQnKVwiPjwvbWF0LWRhdGVwaWNrZXI+XG4gICAgPG1hdC1lcnJvciAqbmdJZj1cImR1cmF0aW9uRkMudG91Y2hlZCAmJiBkdXJhdGlvbkZDLmhhc0Vycm9yKCdyZXF1aXJlZCcpXCI+XG4gICAgICAgIHt7IGxhYmVsIH19XG4gICAgPC9tYXQtZXJyb3I+XG48L21hdC1mb3JtLWZpZWxkPlxuXG48bWF0LWZvcm0tZmllbGQgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBkYXRlSW5wdXRUeXBlICE9IGRhdGVJbnB1dFR5cGVFbnVtLkNVU1RPTV9JTlBVVCwgJ21hdEZpZWxkV2lkdGgxMDAnOiBtYXRlcmlhbEZpZWxkV2lkdGh9XCJcbiAgICBbYXBwZWFyYW5jZV09XCJmb3JtRmllbGRBcHBlYXJhbmNlXCI+XG4gICAgPG1hdC1sYWJlbD4ge3sgbGFiZWwgfX0gPC9tYXQtbGFiZWw+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbWF0SW5wdXQgbmd4RGF0ZXJhbmdlcGlja2VyTWRcbiAgICAgICAgW2xvY2FsZV09XCJ7ZGlyZWN0aW9uOiAnbHRyJywgYXBwbHlMYWJlbDogJ0FwcGx5JywgZm9ybWF0OiBjRFJmb3JtYXQsIGN1c3RvbVJhbmdlTGFiZWw6ICdDdXN0b20gUmFuZ2UnfVwiXG4gICAgICAgIFtzaG93Q3VzdG9tUmFuZ2VMYWJlbF09XCJzaG93Q2RyUmFuZ2VMYWJlbFwiIFt0aW1lUGlja2VyXT1cInNob3dUaW1lSW5DRFJcIiBbcmFuZ2VzXT1cInNob3dSYW5nZSA/IHJhbmdlIDogbnVsbFwiXG4gICAgICAgIFtkcm9wc109XCInZG93bidcIiBbb3BlbnNdPVwiJ3JpZ2h0J1wiIFthbHdheXNTaG93Q2FsZW5kYXJzXT1cInRydWVcIiBba2VlcENhbGVuZGFyT3BlbmluZ1dpdGhSYW5nZV09XCJ0cnVlXCJcbiAgICAgICAgW3Nob3dEcm9wZG93bnNdPVwidHJ1ZVwiIFtzaG93Q2FuY2VsXT1cInRydWVcIiBhdXRvY29tcGxldGU9XCJvZmZcIiBuYW1lPVwiZGF0ZXJhbmdlXCIgW2Zvcm1Db250cm9sXT1cImRhdGVyYW5nZVwiXG4gICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cImN1c3RvbURhdGVJbnB1dChkYXRlcmFuZ2UudmFsdWUpXCIgW3JlYWRvbmx5XT1cInRydWVcIiBbcmVxdWlyZWRdPVwiaXNNYW5kYXRvcnlGaWVsZFwiLz5cbiAgICA8bWF0LWVycm9yICpuZ0lmPVwiZGF0ZXJhbmdlLnRvdWNoZWQgJiYgZGF0ZXJhbmdlLmhhc0Vycm9yKCdyZXF1aXJlZCcpXCI+XG4gICAgICAgIHt7IGxhYmVsIH19XG4gICAgPC9tYXQtZXJyb3I+XG48L21hdC1mb3JtLWZpZWxkPiJdfQ==