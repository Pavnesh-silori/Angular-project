import { Inject, Injectable } from '@angular/core';
import { HttpParams } from '@angular/common/http';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common/http";
// /tsc-library/
export class AlertRuleController {
    constructor(http, environment) {
        this.http = http;
        this.environment = environment;
    }
    getPeriodicAlertType(orgID) {
        return this.http.get(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/periodic-alert-type`);
    }
    getAlertRuleByPage(pageNo, pageSize, sortBy, orderBy, search, alertType, orgID) {
        let params = new HttpParams();
        params = params.append('pageNo', pageNo);
        params = params.append('pageSize', pageSize);
        params = params.append('sortBy', sortBy);
        params = params.append('orderBy', orderBy);
        params = params.append('alertType', alertType);
        search.forEach(search => params = params.append('search', search));
        return this.http.get(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alert-rules/page`, { params: params });
    }
    getActiveAlertByPage(orgID, requestBody) {
        return this.http.post(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alerts/active/page`, requestBody);
    }
    getResolvedAlertByPage(orgID, requestBody) {
        return this.http.post(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alerts/resolved/page`, requestBody);
    }
    updateAlertRuleStatus(orgID, alertRuleID, requestBody) {
        return this.http.patch(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alert-rules/${alertRuleID}/status`, requestBody);
    }
    createAlertRule(orgID, requestBody) {
        return this.http.post(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alert-rules`, requestBody);
    }
    getAlertRuleByID(orgID, alertRuleID) {
        return this.http.get(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alert-rules/${alertRuleID}`);
    }
    updateAlertRule(orgID, alertRuleID, requestBody) {
        return this.http.patch(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alert-rules/${alertRuleID}`, requestBody);
    }
    deleteAlertRule(orgID, alertRuleID) {
        return this.http.delete(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alert-rules/${alertRuleID}`);
    }
    getAlertStatusInfo(orgID) {
        return this.http.get(`${this.environment.TSC_COMMON_API_URL}organizations/${orgID}/alerts/status`);
    }
}
AlertRuleController.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: AlertRuleController, deps: [{ token: i1.HttpClient }, { token: 'environment' }], target: i0.ɵɵFactoryTarget.Injectable });
AlertRuleController.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: AlertRuleController, providedIn: 'root' });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: AlertRuleController, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root'
                }]
        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: undefined, decorators: [{
                    type: Inject,
                    args: ['environment']
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQuY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvYWxlcnRzL3NyYy9saWIvdHNjL2NvbnRyb2xsZXIvYWxlcnQuY29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQWMsVUFBVSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7OztBQVE5RCxnQkFBZ0I7QUFNaEIsTUFBTSxPQUFPLG1CQUFtQjtJQUU1QixZQUNZLElBQWdCLEVBQ08sV0FBZ0I7UUFEdkMsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUNPLGdCQUFXLEdBQVgsV0FBVyxDQUFLO0lBQy9DLENBQUM7SUFFTCxvQkFBb0IsQ0FBQyxLQUFhO1FBQzlCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQVksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixpQkFBaUIsS0FBSyxzQkFBc0IsQ0FBQyxDQUFDO0lBQ3hILENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxNQUFjLEVBQUUsUUFBZ0IsRUFBRSxNQUFjLEVBQUUsT0FBZSxFQUFFLE1BQWEsRUFBRSxTQUFTLEVBQUUsS0FBYTtRQUN6SCxJQUFJLE1BQU0sR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDO1FBRTlCLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN6QyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDN0MsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMzQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFFL0MsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ25FLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQW9CLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsaUJBQWlCLEtBQUssbUJBQW1CLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUNqSixDQUFDO0lBRUQsb0JBQW9CLENBQUMsS0FBYSxFQUFFLFdBQVc7UUFDM0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBb0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixpQkFBaUIsS0FBSyxxQkFBcUIsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUM3SSxDQUFDO0lBRUQsc0JBQXNCLENBQUMsS0FBYSxFQUFFLFdBQVc7UUFDN0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBb0IsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixpQkFBaUIsS0FBSyx1QkFBdUIsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUMvSSxDQUFDO0lBRUQscUJBQXFCLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxXQUFXO1FBQ2pELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixpQkFBaUIsS0FBSyxnQkFBZ0IsV0FBVyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDMUksQ0FBQztJQUVELGVBQWUsQ0FBQyxLQUFLLEVBQUUsV0FBVztRQUM5QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsaUJBQWlCLEtBQUssY0FBYyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ25ILENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsV0FBVztRQUMvQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsaUJBQWlCLEtBQUssZ0JBQWdCLFdBQVcsRUFBRSxDQUFDLENBQUM7SUFDaEksQ0FBQztJQUVELGVBQWUsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFdBQVc7UUFDM0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsa0JBQWtCLGlCQUFpQixLQUFLLGdCQUFnQixXQUFXLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNuSSxDQUFDO0lBRUQsZUFBZSxDQUFDLEtBQUssRUFBRSxXQUFXO1FBQzlCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGtCQUFrQixpQkFBaUIsS0FBSyxnQkFBZ0IsV0FBVyxFQUFFLENBQUMsQ0FBQTtJQUN0SCxDQUFDO0lBRUQsa0JBQWtCLENBQUMsS0FBSztRQUNwQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFlLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsaUJBQWlCLEtBQUssZ0JBQWdCLENBQUMsQ0FBQztJQUNySCxDQUFDOztpSEF0RFEsbUJBQW1CLDRDQUloQixhQUFhO3FIQUpoQixtQkFBbUIsY0FIaEIsTUFBTTs0RkFHVCxtQkFBbUI7a0JBSi9CLFVBQVU7bUJBQUM7b0JBQ1IsVUFBVSxFQUFFLE1BQU07aUJBQ3JCOzswQkFNUSxNQUFNOzJCQUFDLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQsIEh0dHBQYXJhbXMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFsZXJ0UGFnZU0sIEFsZXJ0UnVsZU0sIEFsZXJ0U3RhdHVzSSB9IGZyb20gJy4uL21vZGVsL2FsZXJ0Lm1vZGVsJztcbmltcG9ydCB7IEFsYXJtUGFnZU0gfSBmcm9tICcuLi9tb2RlbC9hbGFybS5tb2RlbCc7XG5cbi8vIHRzYy1saWJyYXJ5XG5pbXBvcnQgeyBQYWdlTSwgU3RhdGljSSB9IGZyb20gJ0BsaWJyYXJ5L3RzYy1jb21tb24nO1xuLy8gL3RzYy1saWJyYXJ5L1xuXG5ASW5qZWN0YWJsZSh7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuXG5leHBvcnQgY2xhc3MgQWxlcnRSdWxlQ29udHJvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LFxuICAgICAgICBASW5qZWN0KCdlbnZpcm9ubWVudCcpIHByaXZhdGUgZW52aXJvbm1lbnQ6IGFueVxuICAgICkgeyB9XG5cbiAgICBnZXRQZXJpb2RpY0FsZXJ0VHlwZShvcmdJRDogbnVtYmVyKTogT2JzZXJ2YWJsZTxTdGF0aWNJW10+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQ8U3RhdGljSVtdPihgJHt0aGlzLmVudmlyb25tZW50LlRTQ19DT01NT05fQVBJX1VSTH1vcmdhbml6YXRpb25zLyR7b3JnSUR9L3BlcmlvZGljLWFsZXJ0LXR5cGVgKTtcbiAgICB9XG5cbiAgICBnZXRBbGVydFJ1bGVCeVBhZ2UocGFnZU5vOiBudW1iZXIsIHBhZ2VTaXplOiBudW1iZXIsIHNvcnRCeTogc3RyaW5nLCBvcmRlckJ5OiBzdHJpbmcsIHNlYXJjaDogYW55W10sIGFsZXJ0VHlwZSwgb3JnSUQ6IG51bWJlcik6IE9ic2VydmFibGU8UGFnZU08QWxlcnRQYWdlTT4+IHtcbiAgICAgICAgbGV0IHBhcmFtcyA9IG5ldyBIdHRwUGFyYW1zKCk7XG5cbiAgICAgICAgcGFyYW1zID0gcGFyYW1zLmFwcGVuZCgncGFnZU5vJywgcGFnZU5vKTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zLmFwcGVuZCgncGFnZVNpemUnLCBwYWdlU2l6ZSk7XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcy5hcHBlbmQoJ3NvcnRCeScsIHNvcnRCeSk7XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcy5hcHBlbmQoJ29yZGVyQnknLCBvcmRlckJ5KTtcbiAgICAgICAgcGFyYW1zID0gcGFyYW1zLmFwcGVuZCgnYWxlcnRUeXBlJywgYWxlcnRUeXBlKTtcblxuICAgICAgICBzZWFyY2guZm9yRWFjaChzZWFyY2ggPT4gcGFyYW1zID0gcGFyYW1zLmFwcGVuZCgnc2VhcmNoJywgc2VhcmNoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PFBhZ2VNPEFsZXJ0UGFnZU0+PihgJHt0aGlzLmVudmlyb25tZW50LlRTQ19DT01NT05fQVBJX1VSTH1vcmdhbml6YXRpb25zLyR7b3JnSUR9L2FsZXJ0LXJ1bGVzL3BhZ2VgLCB7IHBhcmFtczogcGFyYW1zIH0pO1xuICAgIH1cblxuICAgIGdldEFjdGl2ZUFsZXJ0QnlQYWdlKG9yZ0lEOiBudW1iZXIsIHJlcXVlc3RCb2R5KTogT2JzZXJ2YWJsZTxQYWdlTTxBbGFybVBhZ2VNPj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnBvc3Q8UGFnZU08QWxhcm1QYWdlTT4+KGAke3RoaXMuZW52aXJvbm1lbnQuVFNDX0NPTU1PTl9BUElfVVJMfW9yZ2FuaXphdGlvbnMvJHtvcmdJRH0vYWxlcnRzL2FjdGl2ZS9wYWdlYCwgcmVxdWVzdEJvZHkpO1xuICAgIH1cblxuICAgIGdldFJlc29sdmVkQWxlcnRCeVBhZ2Uob3JnSUQ6IG51bWJlciwgcmVxdWVzdEJvZHkpOiBPYnNlcnZhYmxlPFBhZ2VNPEFsYXJtUGFnZU0+PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucG9zdDxQYWdlTTxBbGFybVBhZ2VNPj4oYCR7dGhpcy5lbnZpcm9ubWVudC5UU0NfQ09NTU9OX0FQSV9VUkx9b3JnYW5pemF0aW9ucy8ke29yZ0lEfS9hbGVydHMvcmVzb2x2ZWQvcGFnZWAsIHJlcXVlc3RCb2R5KTtcbiAgICB9XG5cbiAgICB1cGRhdGVBbGVydFJ1bGVTdGF0dXMob3JnSUQsIGFsZXJ0UnVsZUlELCByZXF1ZXN0Qm9keSkge1xuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnBhdGNoKGAke3RoaXMuZW52aXJvbm1lbnQuVFNDX0NPTU1PTl9BUElfVVJMfW9yZ2FuaXphdGlvbnMvJHtvcmdJRH0vYWxlcnQtcnVsZXMvJHthbGVydFJ1bGVJRH0vc3RhdHVzYCwgcmVxdWVzdEJvZHkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUFsZXJ0UnVsZShvcmdJRCwgcmVxdWVzdEJvZHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KGAke3RoaXMuZW52aXJvbm1lbnQuVFNDX0NPTU1PTl9BUElfVVJMfW9yZ2FuaXphdGlvbnMvJHtvcmdJRH0vYWxlcnQtcnVsZXNgLCByZXF1ZXN0Qm9keSk7XG4gICAgfVxuXG4gICAgZ2V0QWxlcnRSdWxlQnlJRChvcmdJRCwgYWxlcnRSdWxlSUQpOiBPYnNlcnZhYmxlPEFsZXJ0UnVsZU0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5nZXQ8QWxlcnRSdWxlTT4oYCR7dGhpcy5lbnZpcm9ubWVudC5UU0NfQ09NTU9OX0FQSV9VUkx9b3JnYW5pemF0aW9ucy8ke29yZ0lEfS9hbGVydC1ydWxlcy8ke2FsZXJ0UnVsZUlEfWApO1xuICAgIH1cblxuICAgIHVwZGF0ZUFsZXJ0UnVsZShvcmdJRCwgYWxlcnRSdWxlSUQsIHJlcXVlc3RCb2R5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucGF0Y2goYCR7dGhpcy5lbnZpcm9ubWVudC5UU0NfQ09NTU9OX0FQSV9VUkx9b3JnYW5pemF0aW9ucy8ke29yZ0lEfS9hbGVydC1ydWxlcy8ke2FsZXJ0UnVsZUlEfWAsIHJlcXVlc3RCb2R5KTtcbiAgICB9XG5cbiAgICBkZWxldGVBbGVydFJ1bGUob3JnSUQsIGFsZXJ0UnVsZUlEKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZGVsZXRlKGAke3RoaXMuZW52aXJvbm1lbnQuVFNDX0NPTU1PTl9BUElfVVJMfW9yZ2FuaXphdGlvbnMvJHtvcmdJRH0vYWxlcnQtcnVsZXMvJHthbGVydFJ1bGVJRH1gKVxuICAgIH1cblxuICAgIGdldEFsZXJ0U3RhdHVzSW5mbyhvcmdJRCk6IE9ic2VydmFibGU8QWxlcnRTdGF0dXNJPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0PEFsZXJ0U3RhdHVzST4oYCR7dGhpcy5lbnZpcm9ubWVudC5UU0NfQ09NTU9OX0FQSV9VUkx9b3JnYW5pemF0aW9ucy8ke29yZ0lEfS9hbGVydHMvc3RhdHVzYCk7XG4gICAgfVxufSJdfQ==