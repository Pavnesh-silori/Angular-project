import { __awaiter } from "tslib";
import { Component, Inject, ViewChild, Optional } from '@angular/core';
import { Validators } from '@angular/forms';
import { MAT_DIALOG_DATA } from '@angular/material/dialog';
import { forkJoin } from 'rxjs';
import { isEqual } from 'lodash';
import { VehicleTypeEnum } from '../../../enum/vechile-type.enum';
import { PagePathEnum } from '../../../enum/page-path.enum';
import { EMISSION_FACTOR_SOUREC_KEYID_ENUM } from '../../../enum/emission-factor.enum';
import { ACTIVITY_KEYID_ENUM } from '../../../enum/activity.enum';
// tsc-library
import { MaterialFormFieldAppearance, InvalidForm, ButtonLabelEnum, FormAction, PageTitleEnum, VIEW_TYPE_ENUM, FormErrorEnum, DialogEnum } from '@library/tsc-common';
import { UnitTypeKeyID } from '@library/unit-service';
import { ToastrColor } from '@library/toastr-service';
import { ApplicationKeyID } from '@library/application-service';
import { DateInputTypeEnum } from '@library/date';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "@angular/router";
import * as i3 from "@angular/forms";
import * as i4 from "@library/toastr-service";
import * as i5 from "@library/unit-service";
import * as i6 from "../../../controller/vehicle.controller";
import * as i7 from "../../../service/vehicle.service";
import * as i8 from "../../../service/preference.service";
import * as i9 from "@library/storage-service";
import * as i10 from "@library/tsc-common";
import * as i11 from "@angular/material/form-field";
import * as i12 from "@angular/material/radio";
import * as i13 from "@angular/material/select";
import * as i14 from "@angular/material/core";
import * as i15 from "@library/date";
import * as i16 from "@angular/common";
import * as i17 from "@angular/material/input";
// /tsc-library/
export class CreateUpdateComponent {
    constructor(dialogData, dialogRef, activatedRoute, router, formBuilder, toastrService, unitService, vehicleController, vehicleService, preferenceService, storageService, tSCCommonService, constant) {
        this.dialogData = dialogData;
        this.dialogRef = dialogRef;
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.formBuilder = formBuilder;
        this.toastrService = toastrService;
        this.unitService = unitService;
        this.vehicleController = vehicleController;
        this.vehicleService = vehicleService;
        this.preferenceService = preferenceService;
        this.storageService = storageService;
        this.tSCCommonService = tSCCommonService;
        this.constant = constant;
        this.FormAction = FormAction;
        this.FormErrorEnum = FormErrorEnum;
        this.ButtonLabelEnum = ButtonLabelEnum;
        this.PageTitleEnum = PageTitleEnum;
        this.VIEW_TYPE_ENUM = VIEW_TYPE_ENUM;
        this.VehicleTypeEnum = VehicleTypeEnum;
        this.MaterialFormFieldAppearance = MaterialFormFieldAppearance;
        this.DateInputTypeEnum = DateInputTypeEnum;
        this.isEngineStroke = false;
        this.isEqual = true;
        this.isIpcc = false;
        this.errorHandling = (control, error) => {
            return this.vehicleFG.get(control).hasError(error);
        };
    }
    ngOnInit() {
        this.rootOrgID = this.storageService.getStorage('rootOrgID');
        this.userID = this.storageService.getStorage('userID');
        this.vehicleFGInit();
        this.ipccFieldHandler();
        if (this.dialogData) {
            this.action = this.dialogData.action;
            this.source = this.dialogData.source;
            if (this.action == FormAction.UPDATE) {
                this.vehicleID = this.dialogData.vehicleID;
            }
        }
        else {
            this.activatedRoute.data.subscribe(data => {
                this.action = data.action;
                this.source = data.source;
            });
            this.activatedRoute.params.subscribe(params => {
                if (this.action == FormAction.UPDATE) {
                    this.vehicleID = params.vehicleID;
                }
            });
        }
    }
    vehicleFGInit() {
        this.vehicleFG = this.formBuilder.group({
            vehicleName: [, Validators.required],
            vehicleNumber: [, Validators.required],
            vehicleTypeID: [, Validators.required],
            vehicleCategoryID: [],
            engineStrokeId: [],
            odoMeterUnitID: [, Validators.required],
            year: []
        });
    }
    dateInpChange() {
        let duration = this.yearInput.durationFC.value;
        this.vehicleFG.get('year').patchValue(duration);
    }
    getVehicleType() {
        return __awaiter(this, void 0, void 0, function* () {
            this.vehicleTypeM = (yield this.vehicleService.getVehicleType());
        });
    }
    getVehicleCategory() {
        return __awaiter(this, void 0, void 0, function* () {
            this.vehicleCategoryM = (yield this.vehicleService.getVehicleCategory());
            this.vehicleCategoryOR = this.vehicleCategoryM.filter(item => item['vehicleType']['keyID'] == VehicleTypeEnum.ON_ROAD);
            this.vehicleCategoryNR = this.vehicleCategoryM.filter(item => item['vehicleType']['keyID'] == VehicleTypeEnum.NON_ROAD);
        });
    }
    getEngineStroke() {
        return __awaiter(this, void 0, void 0, function* () {
            this.engineStrokeM = (yield this.vehicleService.getEngineStroke());
        });
    }
    getUnit() {
        return __awaiter(this, void 0, void 0, function* () {
            try {
                this.unitM = (yield this.unitService.getUnitUsingPublicUrl([`type:${UnitTypeKeyID.LENGTH}`]));
            }
            catch (error) {
                console.error(error);
            }
        });
    }
    onVehicleTypeChange(vehicleType) {
        this.vehicleFG.patchValue({
            vehicleCategoryID: null,
            engineStrokeId: null
        });
        if (vehicleType.keyID == VehicleTypeEnum.ON_ROAD) {
            this.isEngineStroke = false;
            this.vehicleCategory = this.vehicleCategoryOR;
        }
        else {
            this.isEngineStroke = true;
            this.vehicleCategory = this.vehicleCategoryNR;
        }
    }
    vehicleExist() {
        let vehicleNumber = this.vehicleFG.get('vehicleNumber').value;
        this.vehicleController.vehicleExist(this.rootOrgID, vehicleNumber).subscribe((res) => {
            if (res.status == false) {
                if (this.constant.CURRENT_APPLICATION_KEY_ID == ApplicationKeyID.NETZERO_KEY_ID) {
                    this.createVehicle();
                }
                else if (this.constant.CURRENT_APPLICATION_KEY_ID == ApplicationKeyID.EMPLOYEE_KEY_ID) {
                    this.createVehicleForEmployee();
                }
            }
            else {
                let toast;
                toast = this.toastrService.getToastStatus(res.status);
                this.toastrService.openToast(toast.title, res.message, toast.color);
            }
        });
    }
    vechileSubmit() {
        if (this.vehicleFG.invalid) {
            this.toastrService.openToast(InvalidForm.INVALID_FORM_TITLE, InvalidForm.INVALID_FORM_MESSAGE, ToastrColor.ERROR);
            return;
        }
        else {
            if (this.action == FormAction.CREATE) {
                this.vehicleExist();
            }
            else if (this.action == FormAction.UPDATE) {
                this.updateVehicle();
            }
        }
    }
    createVehicle() {
        this.vehicleController.createVehicle(this.rootOrgID, this.vehicleFG.value).subscribe((res) => {
            let toast;
            toast = this.toastrService.getToastStatus(res.status);
            this.toastrService.openToast(toast.title, res.message, toast.color);
            this.createUpdateVehiclePostAction(res);
        }, error => {
            console.log('error in createVehicle -', error);
        });
    }
    createVehicleForEmployee() {
        this.vehicleController.createVehicleForEmployee(this.rootOrgID, this.userID, this.vehicleFG.value).subscribe((res) => {
            let toast;
            toast = this.toastrService.getToastStatus(res.status);
            this.toastrService.openToast(toast.title, res.message, toast.color);
            this.createUpdateVehiclePostAction(res);
        }, error => {
            console.log('error in createVehicleForEmployee -', error);
        });
    }
    getVehicleByIDHandler() {
        forkJoin([this.getVehicleType(), this.getVehicleCategory(), this.getEngineStroke(), this.getUnit()]).subscribe(([]) => {
            if (this.action == FormAction.UPDATE) {
                this.getVehicleByID();
            }
        }, error => {
            console.error('error in forkJoin -', error);
        });
    }
    getVehicleByID() {
        this.vehicleController.getVehicleByID(this.rootOrgID, this.vehicleID).subscribe((res) => {
            this.vehicle = res;
            this.patchVehicle();
        }, error => {
            console.log(error);
        });
    }
    patchVehicle() {
        var _a, _b;
        this.onVehicleTypeChange(this.vehicle['vehicleType']);
        this.vehicleFG.patchValue({
            vehicleName: this.vehicle['vehicleName'],
            vehicleTypeID: this.vehicle['vehicleType'].id,
            vehicleNumber: this.vehicle['vehicleNumber'],
            odoMeterUnitID: this.vehicle['odoMeterUnit'].unitID,
            vehicleCategoryID: (_a = this.vehicle.vehicleCategory) === null || _a === void 0 ? void 0 : _a.id,
            year: (_b = this.vehicle) === null || _b === void 0 ? void 0 : _b.year
        });
        if (!this.isIpcc) {
            let durationToPatch = this.vehicleFG.get('year').value;
            this.yearInput.durationFC.patchValue(durationToPatch.toString());
        }
        if (this.vehicle['engineStroke'] !== null) {
            this.isEngineStroke = true;
            this.vehicleFG.patchValue({
                engineStrokeId: this.vehicle['engineStroke'].id
            });
        }
        this.intialObject = this.vehicleFG.value;
        this.vehicleFG.valueChanges.subscribe(() => {
            this.isEqual = isEqual(this.intialObject, this.vehicleFG.value);
        });
    }
    updateVehicle() {
        this.vehicleController.updateVehicle(this.rootOrgID, this.vehicleFG.value, this.vehicleID).subscribe((res) => {
            let toast;
            toast = this.toastrService.getToastStatus(res.status);
            this.toastrService.openToast(toast.title, res.message, toast.color);
            this.createUpdateVehiclePostAction(res);
        }, error => {
            console.log('error in updateVehicle -', error);
        });
    }
    createUpdateVehiclePostAction(res) {
        if (this.source == VIEW_TYPE_ENUM.PAGE) {
            this.router.navigate([PagePathEnum.VEHICLE_LIST_PAGE]);
        }
        else if (this.source == VIEW_TYPE_ENUM.DIALOG) {
            let result = {
                status: DialogEnum.SUCCESS_DR,
                res
            };
            this.dialogRef.close(result);
        }
    }
    cancelButtonClick() {
        if (this.source == VIEW_TYPE_ENUM.PAGE) {
            this.tSCCommonService.back();
        }
        else if (this.source == VIEW_TYPE_ENUM.DIALOG) {
            this.dialogRef.close();
        }
    }
    ipccFieldHandler() {
        return __awaiter(this, void 0, void 0, function* () {
            let preference;
            let activity;
            if (this.constant.CURRENT_APPLICATION_KEY_ID == ApplicationKeyID.NETZERO_KEY_ID) {
                preference = yield this.preferenceService.getOrgPreference(this.rootOrgID);
                if (preference.preferenceID != null) {
                    activity = preference.activity.find(item => item.activityKeyID == ACTIVITY_KEYID_ENUM.STATIONARY_COMBUSTION);
                    // if (activity.emissionFactorSourceKeyID == EMISSION_FACTOR_SOUREC_KEYID_ENUM.IPCC_GUIDELINES_FOR_NATIONAL_GREENHOUSE_GAS_INVENTORIES) {
                    //     this.isIpcc = true;
                    // }
                    if (activity) {
                        let calculationApproach = activity.calculationApproach.length > 0 ? activity.calculationApproach[0] : null;
                        if (calculationApproach) {
                            let emissionFactorSource = calculationApproach.emissionFactorSource.find(ef => ef.id == calculationApproach.emissionFactorSourceID);
                            if (emissionFactorSource) {
                                if (emissionFactorSource.keyID == EMISSION_FACTOR_SOUREC_KEYID_ENUM.IPCC_GUIDELINES_FOR_NATIONAL_GREENHOUSE_GAS_INVENTORIES) {
                                    this.isIpcc = true;
                                }
                                ;
                            }
                        }
                    }
                }
                this.getVehicleByIDHandler();
            }
            else {
                this.getVehicleByIDHandler();
            }
        });
    }
}
CreateUpdateComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: CreateUpdateComponent, deps: [{ token: MAT_DIALOG_DATA, optional: true }, { token: i1.MatDialogRef, optional: true }, { token: i2.ActivatedRoute }, { token: i2.Router }, { token: i3.FormBuilder }, { token: i4.ToastrService }, { token: i5.UnitService }, { token: i6.VehicleController }, { token: i7.VehicleService }, { token: i8.PreferenceService }, { token: i9.StorageService }, { token: i10.TSCCommonService }, { token: 'constant' }], target: i0.ɵɵFactoryTarget.Component });
CreateUpdateComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: CreateUpdateComponent, selector: "app-create-update", viewQueries: [{ propertyName: "yearInput", first: true, predicate: ["yearInput"], descendants: true }], ngImport: i0, template: "<div class=\"card main-card cardOverwrite h100\">\n    <div class=\"headerContainer\">\n        <div class=\"headerLeftContainer\">\n            <div class=\"pageTitle\">{{ action == FormAction.CREATE ? PageTitleEnum.CREATE :\n                PageTitleEnum.UPDATE }} vehicle\n            </div>\n            <div class=\"pageSubtitle\">\n            </div>\n        </div>\n    </div>\n\n    <div class=\"card-body\" [ngClass]=\"{ 'vechileCreateUpdateForm' : source == VIEW_TYPE_ENUM.PAGE }\">\n        <form [formGroup]=\"vehicleFG\" (ngSubmit)=\"vechileSubmit()\">\n\n            <div class=\"row\">\n                <div class=\"col-sm-6\">\n                    <mat-form-field class=\"matFieldWidth100\"\n                        [appearance]=\"MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE\">\n                        <mat-label class=\"formLabel\">Vehicle number</mat-label>\n                        <input class=\"formPlaceholder\" matInput type=\"text\" placeholder=\"Vehicle number\"\n                            formControlName=\"vehicleNumber\" required />\n                        <mat-error *ngIf=\"errorHandling('vehicleNumber', 'required')\">\n                            {{ FormErrorEnum.REQUIRED }}\n                        </mat-error>\n                    </mat-form-field>\n                </div>\n\n                <div class=\"col-sm-6\">\n                    <mat-form-field class=\"matFieldWidth100\"\n                        [appearance]=\"MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE\">\n                        <mat-label class=\"formLabel\">Vehicle name</mat-label>\n                        <input class=\"formPlaceholder\" matInput type=\"text\" placeholder=\"Vehicle name\"\n                            formControlName=\"vehicleName\" required />\n                        <mat-error *ngIf=\"errorHandling('vehicleName', 'required')\">\n                            {{ FormErrorEnum.REQUIRED }}\n                        </mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-sm-12\">\n                    <div class=\"radioBtnGroupLabel\">Select a vehicle type</div>\n                    <mat-radio-group formControlName=\"vehicleTypeID\">\n                        <div class=\"row mt-1\">\n                            <div class=\"col-sm-6\" *ngFor=\"let data of vehicleTypeM\">\n                                <mat-radio-button class=\"radioBtnLabel\" [value]=\"data.id\"\n                                    (change)=\"onVehicleTypeChange(data)\">\n                                    {{ data.name }}\n                                </mat-radio-button>\n                            </div>\n                        </div>\n                    </mat-radio-group>\n                </div>\n            </div>\n\n            <div class=\"row mt-3\" *ngIf=\"!isIpcc\">\n                <div class=\"col-sm-6\">\n                    <mat-form-field class=\"matFieldWidth100\"\n                        [appearance]=\"MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE\">\n                        <mat-label class=\"formLabel\">Select vehicle category\n                        </mat-label>\n                        <mat-select formControlName=\"vehicleCategoryID\" required>\n                            <mat-option *ngFor=\"let method of vehicleCategory\" [value]=\"method.id\">\n                                {{ method.name }}\n                            </mat-option>\n                        </mat-select>\n                        <mat-error *ngIf=\"errorHandling('vehicleCategoryID', 'required')\">\n                            {{ FormErrorEnum.REQUIRED }}\n                        </mat-error>\n                    </mat-form-field>\n                </div>\n\n                <div class=\"col-sm-6\">\n                    <mat-form-field *ngIf=\"isEngineStroke\" class=\"matFieldWidth100\"\n                        [appearance]=\"MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE\">\n                        <mat-label class=\"formLabel\">Select engine stroke</mat-label>\n                        <mat-select formControlName=\"engineStrokeId\" required>\n                            <mat-option *ngFor=\"let data of engineStrokeM\" [value]=\"data.id\">\n                                <span class=\"d-flex justify-content-between\">{{ data.name }}\n                                </span>\n                            </mat-option>\n                        </mat-select>\n                        <mat-error *ngIf=\"errorHandling('engineStrokeId', 'required')\">\n                            {{ FormErrorEnum.REQUIRED }}\n                        </mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n\n            <div class=\"row\">\n                <div class=\"col-sm-6\" *ngIf=\"!isIpcc\">\n                    <lib-date-input class=\"cursorPointer\"  #yearInput (emitFilter)=\"dateInpChange()\" [materialFieldWidthInp]=\"true\"\n                        [materialFormFieldAppearanceInp]=\"MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE\"\n                        [isMandatoryFieldInp]=\"true\" [dateInputTypeInp]=\"DateInputTypeEnum.YEAR_INPUT\"\n                        [labelInp]=\"'Vehicle Year'\"></lib-date-input>\n                </div>\n\n                <div class=\"col-sm-6\">\n                    <mat-form-field class=\"matFieldWidth100\"\n                        [appearance]=\"MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE\">\n                        <mat-label class=\"formLabel\">Select odometer unit</mat-label>\n                        <mat-select formControlName=\"odoMeterUnitID\" required>\n                            <mat-option *ngFor=\"let units of unitM\" [value]=\"units.id\">\n                                <span class=\"d-flex justify-content-between\">{{ units.name }}\n                                    <span>{{ units.uomCode }} </span></span>\n                            </mat-option>\n                        </mat-select>\n                        <mat-error *ngIf=\"errorHandling('odoMeterUnitID', 'required')\">\n                            {{ FormErrorEnum.REQUIRED }}\n                        </mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n\n            <div class=\"float-end\">\n                <button class=\"btn btn-sm btn-secondary me-2\" type=\"button\" (click)=\"cancelButtonClick()\">\n                    Cancel\n                </button>\n\n                <button class=\"btn btn-sm btn-success\" [ngClass]=\"{\n                        'btn-success' : action == FormAction.CREATE,\n                        'btn-primary' : action == FormAction.UPDATE,\n                        'disabled' : action == FormAction.UPDATE && isEqual\n                    }\" type=\"submit\">{{ action ==\n                    FormAction.CREATE ? ButtonLabelEnum.CREATE_BTN_LABEL :\n                    ButtonLabelEnum.UPDATE_BTN_LABEL }}\n                </button>\n            </div>\n        </form>\n    </div>\n</div>", styles: [".vechileCreateUpdateForm{width:600px}\n"], components: [{ type: i11.MatFormField, selector: "mat-form-field", inputs: ["color", "floatLabel", "appearance", "hideRequiredMarker", "hintLabel"], exportAs: ["matFormField"] }, { type: i12.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }, { type: i13.MatSelect, selector: "mat-select", inputs: ["disabled", "disableRipple", "tabIndex"], exportAs: ["matSelect"] }, { type: i14.MatOption, selector: "mat-option", exportAs: ["matOption"] }, { type: i15.DateInputComponent, selector: "lib-date-input", inputs: ["materialFormFieldAppearanceInp", "materialFieldWidthInp", "frequencyInp", "dateInputTypeInp", "dateTypeInp", "timezoneInp", "labelInp", "rangeInp", "cdrFormatInp", "isMandatoryFieldInp", "showRangeInp", "showCdrRangeLabelInp", "showDefaultDurationInp", "showTimeInCDRInp"], outputs: ["emitFilter"] }], directives: [{ type: i16.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i3.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i3.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i3.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i11.MatLabel, selector: "mat-label" }, { type: i17.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["id", "disabled", "required", "type", "value", "readonly", "placeholder", "errorStateMatcher", "aria-describedby"], exportAs: ["matInput"] }, { type: i3.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i3.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i3.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i3.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { type: i16.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i11.MatError, selector: "mat-error", inputs: ["id"] }, { type: i12.MatRadioGroup, selector: "mat-radio-group", exportAs: ["matRadioGroup"] }, { type: i16.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: CreateUpdateComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'app-create-update',
                    templateUrl: './create-update.component.html',
                    styleUrls: ['./create-update.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [MAT_DIALOG_DATA]
                }] }, { type: i1.MatDialogRef, decorators: [{
                    type: Optional
                }] }, { type: i2.ActivatedRoute }, { type: i2.Router }, { type: i3.FormBuilder }, { type: i4.ToastrService }, { type: i5.UnitService }, { type: i6.VehicleController }, { type: i7.VehicleService }, { type: i8.PreferenceService }, { type: i9.StorageService }, { type: i10.TSCCommonService }, { type: undefined, decorators: [{
                    type: Inject,
                    args: ['constant']
                }] }]; }, propDecorators: { yearInput: [{
                type: ViewChild,
                args: ['yearInput']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLXVwZGF0ZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L25ldHplcm8vc3JjL2xpYi90c2MvY29tcG9uZW50L3ZlaGljbGUvY3JlYXRlLXVwZGF0ZS9jcmVhdGUtdXBkYXRlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvbmV0emVyby9zcmMvbGliL3RzYy9jb21wb25lbnQvdmVoaWNsZS9jcmVhdGUtdXBkYXRlL2NyZWF0ZS11cGRhdGUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFVLFNBQVMsRUFBd0IsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3JHLE9BQU8sRUFBdUMsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDakYsT0FBTyxFQUFFLGVBQWUsRUFBZ0IsTUFBTSwwQkFBMEIsQ0FBQztBQUd6RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRWhDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFNakMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQ2xFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsaUNBQWlDLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUN2RixPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUVsRSxjQUFjO0FBQ2QsT0FBTyxFQUFhLDJCQUEyQixFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxjQUFjLEVBQUUsYUFBYSxFQUFvQixVQUFVLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNuTSxPQUFP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QUFtQixHQUFHLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQzt3QkFDM0csSUFBSSxtQkFBbUIsRUFBRTs0QkFDckIsSUFBSSxvQkFBb0IsR0FBRyxtQkFBbUIsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLG1CQUFtQixDQUFDLHNCQUFzQixDQUFDLENBQUM7NEJBQ3BJLElBQUksb0JBQW9CLEVBQUU7Z0NBQ3RCLElBQUksb0JBQW9CLENBQUMsS0FBSyxJQUFJLGlDQUFpQyxDQUFDLHVEQUF1RCxFQUFFO29DQUN6SCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztpQ0FDdEI7Z0NBQUEsQ0FBQzs2QkFDTDt5QkFDSjtxQkFDSjtpQkFFSjtnQkFFRCxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQzthQUNoQztpQkFBTTtnQkFDSCxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQzthQUNoQztRQUNMLENBQUM7S0FBQTs7bUhBalRRLHFCQUFxQixrQkFrQ04sZUFBZSwrV0FZM0IsVUFBVTt1R0E5Q2IscUJBQXFCLGlLQ2pDbEMsbzhOQW1JTTs0RkRsR08scUJBQXFCO2tCQU5qQyxTQUFTO21CQUFDO29CQUNQLFFBQVEsRUFBRSxtQkFBbUI7b0JBQzdCLFdBQVcsRUFBRSxnQ0FBZ0M7b0JBQzdDLFNBQVMsRUFBRSxDQUFDLGdDQUFnQyxDQUFDO2lCQUNoRDs7MEJBb0NRLFFBQVE7OzBCQUFJLE1BQU07MkJBQUMsZUFBZTs7MEJBQ2xDLFFBQVE7OzBCQVdSLE1BQU07MkJBQUMsVUFBVTs0Q0FwQ0UsU0FBUztzQkFBaEMsU0FBUzt1QkFBQyxXQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3QsIE9uSW5pdCwgVmlld0NoaWxkLCBTaW1wbGVDaGFuZ2VzLCBJbnB1dCwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1CdWlsZGVyLCBGb3JtQ29udHJvbCwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgTUFUX0RJQUxPR19EQVRBLCBNYXREaWFsb2dSZWYgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGUsIFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbmltcG9ydCB7IGZvcmtKb2luIH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IGlzRXF1YWwgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgeyBWZWhpY2xlQ2F0ZWdvcnlNLCBFbmdpbmVTdHJva2VNLCBWZWhpY2xlVHlwZU0sIFZlaGljbGVNIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvdmVoaWNsZS5tb2RlbCc7XG5pbXBvcnQgeyBWZWhpY2xlQ29udHJvbGxlciB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvdmVoaWNsZS5jb250cm9sbGVyJztcbmltcG9ydCB7IFZlaGljbGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZS92ZWhpY2xlLnNlcnZpY2UnO1xuaW1wb3J0IHsgUHJlZmVyZW5jZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlL3ByZWZlcmVuY2Uuc2VydmljZSc7XG5pbXBvcnQgeyBWZWhpY2xlVHlwZUVudW0gfSBmcm9tICcuLi8uLi8uLi9lbnVtL3ZlY2hpbGUtdHlwZS5lbnVtJztcbmltcG9ydCB7IFBhZ2VQYXRoRW51bSB9IGZyb20gJy4uLy4uLy4uL2VudW0vcGFnZS1wYXRoLmVudW0nO1xuaW1wb3J0IHsgRU1JU1NJT05fRkFDVE9SX1NPVVJFQ19LRVlJRF9FTlVNIH0gZnJvbSAnLi4vLi4vLi4vZW51bS9lbWlzc2lvbi1mYWN0b3IuZW51bSc7XG5pbXBvcnQgeyBBQ1RJVklUWV9LRVlJRF9FTlVNIH0gZnJvbSAnLi4vLi4vLi4vZW51bS9hY3Rpdml0eS5lbnVtJztcblxuLy8gdHNjLWxpYnJhcnlcbmltcG9ydCB7IFJlc3BvbnNlTSwgTWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlLCBJbnZhbGlkRm9ybSwgQnV0dG9uTGFiZWxFbnVtLCBGb3JtQWN0aW9uLCBQYWdlVGl0bGVFbnVtLCBWSUVXX1RZUEVfRU5VTSwgRm9ybUVycm9yRW51bSwgVFNDQ29tbW9uU2VydmljZSwgRGlhbG9nRW51bSB9IGZyb20gJ0BsaWJyYXJ5L3RzYy1jb21tb24nO1xuaW1wb3J0IHsgVW5pdE0sIFVuaXRTZXJ2aWNlLCBVbml0VHlwZUtleUlEIH0gZnJvbSAnQGxpYnJhcnkvdW5pdC1zZXJ2aWNlJztcbmltcG9ydCB7IFRvYXN0clNlcnZpY2UsIFRvYXN0clRpdGxlLCBUb2FzdHJDb2xvciB9IGZyb20gJ0BsaWJyYXJ5L3RvYXN0ci1zZXJ2aWNlJztcbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnQGxpYnJhcnkvc3RvcmFnZS1zZXJ2aWNlJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uS2V5SUQgfSBmcm9tICdAbGlicmFyeS9hcHBsaWNhdGlvbi1zZXJ2aWNlJztcbmltcG9ydCB7IERhdGVJbnB1dENvbXBvbmVudCwgRGF0ZUlucHV0VHlwZUVudW0sIERhdGVTZXJ2aWNlIH0gZnJvbSAnQGxpYnJhcnkvZGF0ZSc7XG4vLyAvdHNjLWxpYnJhcnkvXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYXBwLWNyZWF0ZS11cGRhdGUnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9jcmVhdGUtdXBkYXRlLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9jcmVhdGUtdXBkYXRlLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVVcGRhdGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIEZvcm1BY3Rpb24gPSBGb3JtQWN0aW9uO1xuICAgIEZvcm1FcnJvckVudW0gPSBGb3JtRXJyb3JFbnVtO1xuICAgIEJ1dHRvbkxhYmVsRW51bSA9IEJ1dHRvbkxhYmVsRW51bTtcbiAgICBQYWdlVGl0bGVFbnVtID0gUGFnZVRpdGxlRW51bTtcbiAgICBWSUVXX1RZUEVfRU5VTSA9IFZJRVdfVFlQRV9FTlVNO1xuICAgIFZlaGljbGVUeXBlRW51bSA9IFZlaGljbGVUeXBlRW51bTtcbiAgICBNYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2UgPSBNYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2U7XG5cbiAgICBEYXRlSW5wdXRUeXBlRW51bSA9IERhdGVJbnB1dFR5cGVFbnVtXG4gICAgQFZpZXdDaGlsZCgneWVhcklucHV0JykgeWVhcklucHV0OiBEYXRlSW5wdXRDb21wb25lbnQ7XG5cbiAgICB2ZWhpY2xlRkc6IEZvcm1Hcm91cDtcbiAgICByb290T3JnSUQ6IGFueTtcbiAgICB1c2VySUQ6IGFueTtcbiAgICBhcHBsaWNhdGlvblN0ZEtleUlEOiBzdHJpbmc7XG4gICAgYWN0aW9uOiBzdHJpbmc7XG4gICAgc291cmNlOiBzdHJpbmc7XG4gICAgdmVoaWNsZUlEOiBhbnk7XG4gICAgdmVoaWNsZTogYW55O1xuICAgIGlzRW5naW5lU3Ryb2tlOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNFcXVhbDogYm9vbGVhbiA9IHRydWU7XG4gICAgaXNJcGNjOiBib29sZWFuID0gZmFsc2U7XG4gICAgaW50aWFsT2JqZWN0OiBhbnk7XG5cbiAgICB2ZWhpY2xlVHlwZU06IFZlaGljbGVUeXBlTVtdO1xuICAgIHZlaGljbGVDYXRlZ29yeU06IFZlaGljbGVDYXRlZ29yeU1bXTtcbiAgICB2ZWhpY2xlQ2F0ZWdvcnlPUjogVmVoaWNsZUNhdGVnb3J5TVtdO1xuICAgIHZlaGljbGVDYXRlZ29yeU5SOiBWZWhpY2xlQ2F0ZWdvcnlNW107XG4gICAgdmVoaWNsZUNhdGVnb3J5OiBWZWhpY2xlQ2F0ZWdvcnlNW107XG4gICAgZW5naW5lU3Ryb2tlTTogRW5naW5lU3Ryb2tlTVtdO1xuICAgIHVuaXRNOiBVbml0TVtdO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBPcHRpb25hbCgpIEBJbmplY3QoTUFUX0RJQUxPR19EQVRBKSBwcml2YXRlIGRpYWxvZ0RhdGE6IGFueSxcbiAgICAgICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSBkaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxDcmVhdGVVcGRhdGVDb21wb25lbnQ+LFxuICAgICAgICBwcml2YXRlIGFjdGl2YXRlZFJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICAgICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICAgICAgcHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIsXG4gICAgICAgIHByaXZhdGUgdG9hc3RyU2VydmljZTogVG9hc3RyU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSB1bml0U2VydmljZTogVW5pdFNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgdmVoaWNsZUNvbnRyb2xsZXI6IFZlaGljbGVDb250cm9sbGVyLFxuICAgICAgICBwcml2YXRlIHZlaGljbGVTZXJ2aWNlOiBWZWhpY2xlU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBwcmVmZXJlbmNlU2VydmljZTogUHJlZmVyZW5jZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc3RvcmFnZVNlcnZpY2U6IFN0b3JhZ2VTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHRTQ0NvbW1vblNlcnZpY2U6IFRTQ0NvbW1vblNlcnZpY2UsXG4gICAgICAgIEBJbmplY3QoJ2NvbnN0YW50JykgcHJpdmF0ZSBjb25zdGFudDogYW55XG4gICAgKSB7IH1cblxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJvb3RPcmdJRCA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgncm9vdE9yZ0lEJyk7XG4gICAgICAgIHRoaXMudXNlcklEID0gdGhpcy5zdG9yYWdlU2VydmljZS5nZXRTdG9yYWdlKCd1c2VySUQnKTtcblxuICAgICAgICB0aGlzLnZlaGljbGVGR0luaXQoKTtcbiAgICAgICAgdGhpcy5pcGNjRmllbGRIYW5kbGVyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZGlhbG9nRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSB0aGlzLmRpYWxvZ0RhdGEuYWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmRpYWxvZ0RhdGEuc291cmNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT0gRm9ybUFjdGlvbi5VUERBVEUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVJRCA9IHRoaXMuZGlhbG9nRGF0YS52ZWhpY2xlSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZFJvdXRlLmRhdGEuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gZGF0YS5hY3Rpb247XG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSBkYXRhLnNvdXJjZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlZFJvdXRlLnBhcmFtcy5zdWJzY3JpYmUocGFyYW1zID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT0gRm9ybUFjdGlvbi5VUERBVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlSUQgPSBwYXJhbXMudmVoaWNsZUlEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmVoaWNsZUZHSW5pdCgpIHtcbiAgICAgICAgdGhpcy52ZWhpY2xlRkcgPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcbiAgICAgICAgICAgIHZlaGljbGVOYW1lOiBbLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgICAgICAgIHZlaGljbGVOdW1iZXI6IFssIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgICAgICAgdmVoaWNsZVR5cGVJRDogWywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICAgICAgICB2ZWhpY2xlQ2F0ZWdvcnlJRDogW10sXG4gICAgICAgICAgICBlbmdpbmVTdHJva2VJZDogW10sXG4gICAgICAgICAgICBvZG9NZXRlclVuaXRJRDogWywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICAgICAgICB5ZWFyOiBbXVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkYXRlSW5wQ2hhbmdlKCkge1xuICAgICAgICBsZXQgZHVyYXRpb24gPSB0aGlzLnllYXJJbnB1dC5kdXJhdGlvbkZDLnZhbHVlO1xuICAgICAgICB0aGlzLnZlaGljbGVGRy5nZXQoJ3llYXInKS5wYXRjaFZhbHVlKGR1cmF0aW9uKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRWZWhpY2xlVHlwZSgpIHtcbiAgICAgICAgdGhpcy52ZWhpY2xlVHlwZU0gPSA8VmVoaWNsZVR5cGVNW10+YXdhaXQgdGhpcy52ZWhpY2xlU2VydmljZS5nZXRWZWhpY2xlVHlwZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFZlaGljbGVDYXRlZ29yeSgpIHtcbiAgICAgICAgdGhpcy52ZWhpY2xlQ2F0ZWdvcnlNID0gPFZlaGljbGVDYXRlZ29yeU1bXT5hd2FpdCB0aGlzLnZlaGljbGVTZXJ2aWNlLmdldFZlaGljbGVDYXRlZ29yeSgpO1xuXG4gICAgICAgIHRoaXMudmVoaWNsZUNhdGVnb3J5T1IgPSB0aGlzLnZlaGljbGVDYXRlZ29yeU0uZmlsdGVyKGl0ZW0gPT4gaXRlbVsndmVoaWNsZVR5cGUnXVsna2V5SUQnXSA9PSBWZWhpY2xlVHlwZUVudW0uT05fUk9BRCk7XG4gICAgICAgIHRoaXMudmVoaWNsZUNhdGVnb3J5TlIgPSB0aGlzLnZlaGljbGVDYXRlZ29yeU0uZmlsdGVyKGl0ZW0gPT4gaXRlbVsndmVoaWNsZVR5cGUnXVsna2V5SUQnXSA9PSBWZWhpY2xlVHlwZUVudW0uTk9OX1JPQUQpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldEVuZ2luZVN0cm9rZSgpIHtcbiAgICAgICAgdGhpcy5lbmdpbmVTdHJva2VNID0gPEVuZ2luZVN0cm9rZU1bXT5hd2FpdCB0aGlzLnZlaGljbGVTZXJ2aWNlLmdldEVuZ2luZVN0cm9rZSgpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFVuaXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnVuaXRNID0gPFVuaXRNW10+YXdhaXQgdGhpcy51bml0U2VydmljZS5nZXRVbml0VXNpbmdQdWJsaWNVcmwoW2B0eXBlOiR7VW5pdFR5cGVLZXlJRC5MRU5HVEh9YF0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblZlaGljbGVUeXBlQ2hhbmdlKHZlaGljbGVUeXBlOiBhbnkpIHtcbiAgICAgICAgdGhpcy52ZWhpY2xlRkcucGF0Y2hWYWx1ZSh7XG4gICAgICAgICAgICB2ZWhpY2xlQ2F0ZWdvcnlJRDogbnVsbCxcbiAgICAgICAgICAgIGVuZ2luZVN0cm9rZUlkOiBudWxsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh2ZWhpY2xlVHlwZS5rZXlJRCA9PSBWZWhpY2xlVHlwZUVudW0uT05fUk9BRCkge1xuICAgICAgICAgICAgdGhpcy5pc0VuZ2luZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52ZWhpY2xlQ2F0ZWdvcnkgPSB0aGlzLnZlaGljbGVDYXRlZ29yeU9SO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc0VuZ2luZVN0cm9rZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnZlaGljbGVDYXRlZ29yeSA9IHRoaXMudmVoaWNsZUNhdGVnb3J5TlI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2ZWhpY2xlRXhpc3QoKSB7XG4gICAgICAgIGxldCB2ZWhpY2xlTnVtYmVyID0gdGhpcy52ZWhpY2xlRkcuZ2V0KCd2ZWhpY2xlTnVtYmVyJykudmFsdWU7XG5cbiAgICAgICAgdGhpcy52ZWhpY2xlQ29udHJvbGxlci52ZWhpY2xlRXhpc3QodGhpcy5yb290T3JnSUQsIHZlaGljbGVOdW1iZXIpLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uc3RhbnQuQ1VSUkVOVF9BUFBMSUNBVElPTl9LRVlfSUQgPT0gQXBwbGljYXRpb25LZXlJRC5ORVRaRVJPX0tFWV9JRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVZlaGljbGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29uc3RhbnQuQ1VSUkVOVF9BUFBMSUNBVElPTl9LRVlfSUQgPT0gQXBwbGljYXRpb25LZXlJRC5FTVBMT1lFRV9LRVlfSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVWZWhpY2xlRm9yRW1wbG95ZWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCB0b2FzdDogYW55O1xuXG4gICAgICAgICAgICAgICAgdG9hc3QgPSB0aGlzLnRvYXN0clNlcnZpY2UuZ2V0VG9hc3RTdGF0dXMocmVzLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2FzdHJTZXJ2aWNlLm9wZW5Ub2FzdCh0b2FzdC50aXRsZSwgcmVzLm1lc3NhZ2UsIHRvYXN0LmNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmVjaGlsZVN1Ym1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMudmVoaWNsZUZHLmludmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMudG9hc3RyU2VydmljZS5vcGVuVG9hc3QoSW52YWxpZEZvcm0uSU5WQUxJRF9GT1JNX1RJVExFLCBJbnZhbGlkRm9ybS5JTlZBTElEX0ZPUk1fTUVTU0FHRSwgVG9hc3RyQ29sb3IuRVJST1IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09IEZvcm1BY3Rpb24uQ1JFQVRFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlRXhpc3QoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3Rpb24gPT0gRm9ybUFjdGlvbi5VUERBVEUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZlaGljbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVZlaGljbGUoKSB7XG4gICAgICAgIHRoaXMudmVoaWNsZUNvbnRyb2xsZXIuY3JlYXRlVmVoaWNsZSh0aGlzLnJvb3RPcmdJRCwgdGhpcy52ZWhpY2xlRkcudmFsdWUpLnN1YnNjcmliZSgocmVzOiBSZXNwb25zZU0pID0+IHtcbiAgICAgICAgICAgIGxldCB0b2FzdDogYW55O1xuXG4gICAgICAgICAgICB0b2FzdCA9IHRoaXMudG9hc3RyU2VydmljZS5nZXRUb2FzdFN0YXR1cyhyZXMuc3RhdHVzKTtcbiAgICAgICAgICAgIHRoaXMudG9hc3RyU2VydmljZS5vcGVuVG9hc3QodG9hc3QudGl0bGUsIHJlcy5tZXNzYWdlLCB0b2FzdC5jb2xvcik7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVVwZGF0ZVZlaGljbGVQb3N0QWN0aW9uKHJlcyk7XG4gICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBpbiBjcmVhdGVWZWhpY2xlIC0nLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZVZlaGljbGVGb3JFbXBsb3llZSgpIHtcbiAgICAgICAgdGhpcy52ZWhpY2xlQ29udHJvbGxlci5jcmVhdGVWZWhpY2xlRm9yRW1wbG95ZWUodGhpcy5yb290T3JnSUQsIHRoaXMudXNlcklELCB0aGlzLnZlaGljbGVGRy52YWx1ZSkuc3Vic2NyaWJlKChyZXM6IFJlc3BvbnNlTSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvYXN0OiBhbnk7XG5cbiAgICAgICAgICAgIHRvYXN0ID0gdGhpcy50b2FzdHJTZXJ2aWNlLmdldFRvYXN0U3RhdHVzKHJlcy5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy50b2FzdHJTZXJ2aWNlLm9wZW5Ub2FzdCh0b2FzdC50aXRsZSwgcmVzLm1lc3NhZ2UsIHRvYXN0LmNvbG9yKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVXBkYXRlVmVoaWNsZVBvc3RBY3Rpb24ocmVzKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGluIGNyZWF0ZVZlaGljbGVGb3JFbXBsb3llZSAtJywgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRWZWhpY2xlQnlJREhhbmRsZXIoKSB7XG4gICAgICAgIGZvcmtKb2luKFt0aGlzLmdldFZlaGljbGVUeXBlKCksIHRoaXMuZ2V0VmVoaWNsZUNhdGVnb3J5KCksIHRoaXMuZ2V0RW5naW5lU3Ryb2tlKCksIHRoaXMuZ2V0VW5pdCgpXSkuc3Vic2NyaWJlKChbXSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09IEZvcm1BY3Rpb24uVVBEQVRFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRWZWhpY2xlQnlJRCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdlcnJvciBpbiBmb3JrSm9pbiAtJywgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRWZWhpY2xlQnlJRCgpIHtcbiAgICAgICAgdGhpcy52ZWhpY2xlQ29udHJvbGxlci5nZXRWZWhpY2xlQnlJRCh0aGlzLnJvb3RPcmdJRCwgdGhpcy52ZWhpY2xlSUQpLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmVoaWNsZSA9IHJlcztcbiAgICAgICAgICAgIHRoaXMucGF0Y2hWZWhpY2xlKCk7XG4gICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcGF0Y2hWZWhpY2xlKCkge1xuICAgICAgICB0aGlzLm9uVmVoaWNsZVR5cGVDaGFuZ2UodGhpcy52ZWhpY2xlWyd2ZWhpY2xlVHlwZSddKTtcbiAgICAgICAgdGhpcy52ZWhpY2xlRkcucGF0Y2hWYWx1ZSh7XG4gICAgICAgICAgICB2ZWhpY2xlTmFtZTogdGhpcy52ZWhpY2xlWyd2ZWhpY2xlTmFtZSddLFxuICAgICAgICAgICAgdmVoaWNsZVR5cGVJRDogdGhpcy52ZWhpY2xlWyd2ZWhpY2xlVHlwZSddLmlkLFxuICAgICAgICAgICAgdmVoaWNsZU51bWJlcjogdGhpcy52ZWhpY2xlWyd2ZWhpY2xlTnVtYmVyJ10sXG4gICAgICAgICAgICBvZG9NZXRlclVuaXRJRDogdGhpcy52ZWhpY2xlWydvZG9NZXRlclVuaXQnXS51bml0SUQsXG4gICAgICAgICAgICB2ZWhpY2xlQ2F0ZWdvcnlJRDogdGhpcy52ZWhpY2xlLnZlaGljbGVDYXRlZ29yeT8uaWQsXG4gICAgICAgICAgICB5ZWFyOiB0aGlzLnZlaGljbGU/LnllYXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzSXBjYykge1xuICAgICAgICAgICAgbGV0IGR1cmF0aW9uVG9QYXRjaCA9IHRoaXMudmVoaWNsZUZHLmdldCgneWVhcicpLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy55ZWFySW5wdXQuZHVyYXRpb25GQy5wYXRjaFZhbHVlKGR1cmF0aW9uVG9QYXRjaC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZlaGljbGVbJ2VuZ2luZVN0cm9rZSddICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlzRW5naW5lU3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudmVoaWNsZUZHLnBhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgIGVuZ2luZVN0cm9rZUlkOiB0aGlzLnZlaGljbGVbJ2VuZ2luZVN0cm9rZSddLmlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW50aWFsT2JqZWN0ID0gdGhpcy52ZWhpY2xlRkcudmFsdWU7XG5cbiAgICAgICAgdGhpcy52ZWhpY2xlRkcudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzRXF1YWwgPSBpc0VxdWFsKHRoaXMuaW50aWFsT2JqZWN0LCB0aGlzLnZlaGljbGVGRy52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVZlaGljbGUoKSB7XG4gICAgICAgIHRoaXMudmVoaWNsZUNvbnRyb2xsZXIudXBkYXRlVmVoaWNsZSh0aGlzLnJvb3RPcmdJRCwgdGhpcy52ZWhpY2xlRkcudmFsdWUsIHRoaXMudmVoaWNsZUlEKS5zdWJzY3JpYmUoKHJlczogUmVzcG9uc2VNKSA9PiB7XG4gICAgICAgICAgICBsZXQgdG9hc3Q6IGFueTtcblxuICAgICAgICAgICAgdG9hc3QgPSB0aGlzLnRvYXN0clNlcnZpY2UuZ2V0VG9hc3RTdGF0dXMocmVzLnN0YXR1cyk7XG4gICAgICAgICAgICB0aGlzLnRvYXN0clNlcnZpY2Uub3BlblRvYXN0KHRvYXN0LnRpdGxlLCByZXMubWVzc2FnZSwgdG9hc3QuY29sb3IpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVVcGRhdGVWZWhpY2xlUG9zdEFjdGlvbihyZXMpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gdXBkYXRlVmVoaWNsZSAtJywgZXJyb3IpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNyZWF0ZVVwZGF0ZVZlaGljbGVQb3N0QWN0aW9uKHJlcykge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2UgPT0gVklFV19UWVBFX0VOVU0uUEFHRSkge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW1BhZ2VQYXRoRW51bS5WRUhJQ0xFX0xJU1RfUEFHRV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc291cmNlID09IFZJRVdfVFlQRV9FTlVNLkRJQUxPRykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDogYW55ID0ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogRGlhbG9nRW51bS5TVUNDRVNTX0RSLFxuICAgICAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaWFsb2dSZWYuY2xvc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbmNlbEJ1dHRvbkNsaWNrKCkge1xuICAgICAgICBpZiAodGhpcy5zb3VyY2UgPT0gVklFV19UWVBFX0VOVU0uUEFHRSkge1xuICAgICAgICAgICAgdGhpcy50U0NDb21tb25TZXJ2aWNlLmJhY2soKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNvdXJjZSA9PSBWSUVXX1RZUEVfRU5VTS5ESUFMT0cpIHtcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlcnJvckhhbmRsaW5nID0gKGNvbnRyb2w6IHN0cmluZywgZXJyb3I6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWhpY2xlRkcuZ2V0KGNvbnRyb2wpLmhhc0Vycm9yKGVycm9yKTtcbiAgICB9XG5cbiAgICBhc3luYyBpcGNjRmllbGRIYW5kbGVyKCkge1xuICAgICAgICBsZXQgcHJlZmVyZW5jZTtcbiAgICAgICAgbGV0IGFjdGl2aXR5O1xuXG4gICAgICAgIGlmICh0aGlzLmNvbnN0YW50LkNVUlJFTlRfQVBQTElDQVRJT05fS0VZX0lEID09IEFwcGxpY2F0aW9uS2V5SUQuTkVUWkVST19LRVlfSUQpIHtcbiAgICAgICAgICAgIHByZWZlcmVuY2UgPSBhd2FpdCB0aGlzLnByZWZlcmVuY2VTZXJ2aWNlLmdldE9yZ1ByZWZlcmVuY2UodGhpcy5yb290T3JnSUQpO1xuXG4gICAgICAgICAgICBpZiAocHJlZmVyZW5jZS5wcmVmZXJlbmNlSUQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5ID0gcHJlZmVyZW5jZS5hY3Rpdml0eS5maW5kKGl0ZW0gPT4gaXRlbS5hY3Rpdml0eUtleUlEID09IEFDVElWSVRZX0tFWUlEX0VOVU0uU1RBVElPTkFSWV9DT01CVVNUSU9OKTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIChhY3Rpdml0eS5lbWlzc2lvbkZhY3RvclNvdXJjZUtleUlEID09IEVNSVNTSU9OX0ZBQ1RPUl9TT1VSRUNfS0VZSURfRU5VTS5JUENDX0dVSURFTElORVNfRk9SX05BVElPTkFMX0dSRUVOSE9VU0VfR0FTX0lOVkVOVE9SSUVTKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHRoaXMuaXNJcGNjID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNhbGN1bGF0aW9uQXBwcm9hY2ggPSBhY3Rpdml0eS5jYWxjdWxhdGlvbkFwcHJvYWNoLmxlbmd0aCA+IDAgPyBhY3Rpdml0eS5jYWxjdWxhdGlvbkFwcHJvYWNoWzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGN1bGF0aW9uQXBwcm9hY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbWlzc2lvbkZhY3RvclNvdXJjZSA9IGNhbGN1bGF0aW9uQXBwcm9hY2guZW1pc3Npb25GYWN0b3JTb3VyY2UuZmluZChlZiA9PiBlZi5pZCA9PSBjYWxjdWxhdGlvbkFwcHJvYWNoLmVtaXNzaW9uRmFjdG9yU291cmNlSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtaXNzaW9uRmFjdG9yU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVtaXNzaW9uRmFjdG9yU291cmNlLmtleUlEID09IEVNSVNTSU9OX0ZBQ1RPUl9TT1VSRUNfS0VZSURfRU5VTS5JUENDX0dVSURFTElORVNfRk9SX05BVElPTkFMX0dSRUVOSE9VU0VfR0FTX0lOVkVOVE9SSUVTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNJcGNjID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0VmVoaWNsZUJ5SURIYW5kbGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmdldFZlaGljbGVCeUlESGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCI8ZGl2IGNsYXNzPVwiY2FyZCBtYWluLWNhcmQgY2FyZE92ZXJ3cml0ZSBoMTAwXCI+XG4gICAgPGRpdiBjbGFzcz1cImhlYWRlckNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyTGVmdENvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2VUaXRsZVwiPnt7IGFjdGlvbiA9PSBGb3JtQWN0aW9uLkNSRUFURSA/IFBhZ2VUaXRsZUVudW0uQ1JFQVRFIDpcbiAgICAgICAgICAgICAgICBQYWdlVGl0bGVFbnVtLlVQREFURSB9fSB2ZWhpY2xlXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYWdlU3VidGl0bGVcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIiBbbmdDbGFzc109XCJ7ICd2ZWNoaWxlQ3JlYXRlVXBkYXRlRm9ybScgOiBzb3VyY2UgPT0gVklFV19UWVBFX0VOVU0uUEFHRSB9XCI+XG4gICAgICAgIDxmb3JtIFtmb3JtR3JvdXBdPVwidmVoaWNsZUZHXCIgKG5nU3VibWl0KT1cInZlY2hpbGVTdWJtaXQoKVwiPlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz1cIm1hdEZpZWxkV2lkdGgxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2FwcGVhcmFuY2VdPVwiTWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlLkZPUk1fRklFTERfQVBQRUFSQU5DRVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1sYWJlbCBjbGFzcz1cImZvcm1MYWJlbFwiPlZlaGljbGUgbnVtYmVyPC9tYXQtbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtUGxhY2Vob2xkZXJcIiBtYXRJbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiVmVoaWNsZSBudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Db250cm9sTmFtZT1cInZlaGljbGVOdW1iZXJcIiByZXF1aXJlZCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1lcnJvciAqbmdJZj1cImVycm9ySGFuZGxpbmcoJ3ZlaGljbGVOdW1iZXInLCAncmVxdWlyZWQnKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IEZvcm1FcnJvckVudW0uUkVRVUlSRUQgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LWVycm9yPlxuICAgICAgICAgICAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz1cIm1hdEZpZWxkV2lkdGgxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2FwcGVhcmFuY2VdPVwiTWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlLkZPUk1fRklFTERfQVBQRUFSQU5DRVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1sYWJlbCBjbGFzcz1cImZvcm1MYWJlbFwiPlZlaGljbGUgbmFtZTwvbWF0LWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybVBsYWNlaG9sZGVyXCIgbWF0SW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIlZlaGljbGUgbmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUNvbnRyb2xOYW1lPVwidmVoaWNsZU5hbWVcIiByZXF1aXJlZCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1lcnJvciAqbmdJZj1cImVycm9ySGFuZGxpbmcoJ3ZlaGljbGVOYW1lJywgJ3JlcXVpcmVkJylcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBGb3JtRXJyb3JFbnVtLlJFUVVJUkVEIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1lcnJvcj5cbiAgICAgICAgICAgICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmFkaW9CdG5Hcm91cExhYmVsXCI+U2VsZWN0IGEgdmVoaWNsZSB0eXBlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtcmFkaW8tZ3JvdXAgZm9ybUNvbnRyb2xOYW1lPVwidmVoaWNsZVR5cGVJRFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCIgKm5nRm9yPVwibGV0IGRhdGEgb2YgdmVoaWNsZVR5cGVNXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtYXQtcmFkaW8tYnV0dG9uIGNsYXNzPVwicmFkaW9CdG5MYWJlbFwiIFt2YWx1ZV09XCJkYXRhLmlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwib25WZWhpY2xlVHlwZUNoYW5nZShkYXRhKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgZGF0YS5uYW1lIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LXJhZGlvLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L21hdC1yYWRpby1ncm91cD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IG10LTNcIiAqbmdJZj1cIiFpc0lwY2NcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPG1hdC1mb3JtLWZpZWxkIGNsYXNzPVwibWF0RmllbGRXaWR0aDEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXBwZWFyYW5jZV09XCJNYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2UuRk9STV9GSUVMRF9BUFBFQVJBTkNFXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWxhYmVsIGNsYXNzPVwiZm9ybUxhYmVsXCI+U2VsZWN0IHZlaGljbGUgY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1zZWxlY3QgZm9ybUNvbnRyb2xOYW1lPVwidmVoaWNsZUNhdGVnb3J5SURcIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgbWV0aG9kIG9mIHZlaGljbGVDYXRlZ29yeVwiIFt2YWx1ZV09XCJtZXRob2QuaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgbWV0aG9kLm5hbWUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWVycm9yICpuZ0lmPVwiZXJyb3JIYW5kbGluZygndmVoaWNsZUNhdGVnb3J5SUQnLCAncmVxdWlyZWQnKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IEZvcm1FcnJvckVudW0uUkVRVUlSRUQgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LWVycm9yPlxuICAgICAgICAgICAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtZm9ybS1maWVsZCAqbmdJZj1cImlzRW5naW5lU3Ryb2tlXCIgY2xhc3M9XCJtYXRGaWVsZFdpZHRoMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthcHBlYXJhbmNlXT1cIk1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZS5GT1JNX0ZJRUxEX0FQUEVBUkFOQ0VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXQtbGFiZWwgY2xhc3M9XCJmb3JtTGFiZWxcIj5TZWxlY3QgZW5naW5lIHN0cm9rZTwvbWF0LWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1zZWxlY3QgZm9ybUNvbnRyb2xOYW1lPVwiZW5naW5lU3Ryb2tlSWRcIiByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgZGF0YSBvZiBlbmdpbmVTdHJva2VNXCIgW3ZhbHVlXT1cImRhdGEuaWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW5cIj57eyBkYXRhLm5hbWUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LW9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LXNlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXQtZXJyb3IgKm5nSWY9XCJlcnJvckhhbmRsaW5nKCdlbmdpbmVTdHJva2VJZCcsICdyZXF1aXJlZCcpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgRm9ybUVycm9yRW51bS5SRVFVSVJFRCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tYXQtZXJyb3I+XG4gICAgICAgICAgICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiICpuZ0lmPVwiIWlzSXBjY1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGliLWRhdGUtaW5wdXQgY2xhc3M9XCJjdXJzb3JQb2ludGVyXCIgICN5ZWFySW5wdXQgKGVtaXRGaWx0ZXIpPVwiZGF0ZUlucENoYW5nZSgpXCIgW21hdGVyaWFsRmllbGRXaWR0aElucF09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFttYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2VJbnBdPVwiTWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlLkZPUk1fRklFTERfQVBQRUFSQU5DRVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbaXNNYW5kYXRvcnlGaWVsZElucF09XCJ0cnVlXCIgW2RhdGVJbnB1dFR5cGVJbnBdPVwiRGF0ZUlucHV0VHlwZUVudW0uWUVBUl9JTlBVVFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbbGFiZWxJbnBdPVwiJ1ZlaGljbGUgWWVhcidcIj48L2xpYi1kYXRlLWlucHV0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz1cIm1hdEZpZWxkV2lkdGgxMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2FwcGVhcmFuY2VdPVwiTWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlLkZPUk1fRklFTERfQVBQRUFSQU5DRVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1sYWJlbCBjbGFzcz1cImZvcm1MYWJlbFwiPlNlbGVjdCBvZG9tZXRlciB1bml0PC9tYXQtbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bWF0LXNlbGVjdCBmb3JtQ29udHJvbE5hbWU9XCJvZG9NZXRlclVuaXRJRFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtYXQtb3B0aW9uICpuZ0Zvcj1cImxldCB1bml0cyBvZiB1bml0TVwiIFt2YWx1ZV09XCJ1bml0cy5pZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlblwiPnt7IHVuaXRzLm5hbWUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPnt7IHVuaXRzLnVvbUNvZGUgfX0gPC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bWF0LWVycm9yICpuZ0lmPVwiZXJyb3JIYW5kbGluZygnb2RvTWV0ZXJVbml0SUQnLCAncmVxdWlyZWQnKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IEZvcm1FcnJvckVudW0uUkVRVUlSRUQgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LWVycm9yPlxuICAgICAgICAgICAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbG9hdC1lbmRcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tc2Vjb25kYXJ5IG1lLTJcIiB0eXBlPVwiYnV0dG9uXCIgKGNsaWNrKT1cImNhbmNlbEJ1dHRvbkNsaWNrKClcIj5cbiAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tc3VjY2Vzc1wiIFtuZ0NsYXNzXT1cIntcbiAgICAgICAgICAgICAgICAgICAgICAgICdidG4tc3VjY2VzcycgOiBhY3Rpb24gPT0gRm9ybUFjdGlvbi5DUkVBVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYnRuLXByaW1hcnknIDogYWN0aW9uID09IEZvcm1BY3Rpb24uVVBEQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc2FibGVkJyA6IGFjdGlvbiA9PSBGb3JtQWN0aW9uLlVQREFURSAmJiBpc0VxdWFsXG4gICAgICAgICAgICAgICAgICAgIH1cIiB0eXBlPVwic3VibWl0XCI+e3sgYWN0aW9uID09XG4gICAgICAgICAgICAgICAgICAgIEZvcm1BY3Rpb24uQ1JFQVRFID8gQnV0dG9uTGFiZWxFbnVtLkNSRUFURV9CVE5fTEFCRUwgOlxuICAgICAgICAgICAgICAgICAgICBCdXR0b25MYWJlbEVudW0uVVBEQVRFX0JUTl9MQUJFTCB9fVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbjwvZGl2PiJdfQ==