import { __awaiter } from "tslib";
import { Component, ViewChild, Inject } from '@angular/core';
import { MatPaginator } from '@angular/material/paginator';
import { FormControl } from '@angular/forms';
import { merge, fromEvent, of as observableOf } from 'rxjs';
import { catchError, map, startWith, switchMap } from 'rxjs/operators';
import { faPlus, faEllipsisV } from '@fortawesome/free-solid-svg-icons';
import { EMISSION_FACTOR_SOUREC_KEYID_ENUM } from '../../../enum/emission-factor.enum';
import { ACTIVITY_KEYID_ENUM } from '../../../enum/activity.enum';
import { CreateUpdateComponent } from '../create-update/create-update.component';
import { UnitTypeKeyID } from '@library/unit-service';
import { ToastrTitle } from '@library/toastr-service';
import { ApplicationKeyID } from '@library/application-service';
import { COMMON_CONSTANT, MATERIAL_CONSTANT, TABLE_CONSTANT, ButtonTooltipEnum, FormAction, BulkUploadDialogLib, DialogOneComponent, DialogOneEnum, VIEW_TYPE_ENUM, DialogEnum } from "@library/tsc-common";
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "../../../controller/vehicle.controller";
import * as i3 from "@library/storage-service";
import * as i4 from "../../../service/vehicle.service";
import * as i5 from "../../../service/preference.service";
import * as i6 from "@library/unit-service";
import * as i7 from "@library/toastr-service";
import * as i8 from "@library/tsc-common";
import * as i9 from "@fortawesome/angular-fontawesome";
import * as i10 from "@angular/material/table";
import * as i11 from "@angular/material/paginator";
import * as i12 from "@angular/material/core";
import * as i13 from "@angular/material/tooltip";
import * as i14 from "@ng-bootstrap/ng-bootstrap";
import * as i15 from "@angular/common";
// /tsc-library/
export class PageComponent {
    constructor(dialog, vehicleController, storageService, vehicleService, preferenceService, unitService, toastrService, constant) {
        this.dialog = dialog;
        this.vehicleController = vehicleController;
        this.storageService = storageService;
        this.vehicleService = vehicleService;
        this.preferenceService = preferenceService;
        this.unitService = unitService;
        this.toastrService = toastrService;
        this.constant = constant;
        this.COMMON_CONSTANT = COMMON_CONSTANT;
        this.MATERIAL_CONSTANT = MATERIAL_CONSTANT;
        this.TABLE_CONSTANT = TABLE_CONSTANT;
        this.ButtonTooltipEnum = ButtonTooltipEnum;
        this.FormAction = FormAction;
        this.faPlus = faPlus;
        this.faEllipsisV = faEllipsisV;
        this.displayedColumns = ['vehicleNumber', 'vehicleName', 'vehicleType', 'vehicleCategory', 'engineStroke', 'year', 'odometer', 'option'];
        this.searchFlag = false;
        this.error = false;
        this.isIpcc = false;
        this.isDataLoaded = false;
        this.vehicleTypeList = [];
        this.vehicleTypeFc = new FormControl();
        this.vehicleTypeFlag = false;
        this.vehicleCategoryList = [];
        this.vehicleCategoryFc = new FormControl();
        this.vehicleCategoryFlag = false;
        this.odometerList = [];
        this.odometerFc = new FormControl();
        this.odometerFlag = false;
        this.filterArr = [];
        this.createUpdateVehicle = (actionP, row) => {
            let action = actionP;
            let dialogRef;
            let data;
            if (action == FormAction.CREATE) {
                data = {
                    action: FormAction.CREATE,
                    source: VIEW_TYPE_ENUM.DIALOG
                };
            }
            else if (action == FormAction.UPDATE) {
                data = {
                    action: FormAction.UPDATE,
                    source: VIEW_TYPE_ENUM.DIALOG,
                    vehicleID: row.id
                };
            }
            dialogRef = this.dialog.open(CreateUpdateComponent, {
                data: data,
                minWidth: '600px',
                maxWidth: '600px',
                height: '100%',
                position: { right: '-2px', top: '0px' },
                panelClass: 'matDialogContainerOverride'
            });
            dialogRef.afterClosed()
                .subscribe((result) => {
                if (result.status == DialogEnum.SUCCESS_DR) {
                    this.refreshBtn.nativeElement.click();
                }
            });
        };
    }
    ngOnInit() {
        this.rootOrgID = this.storageService.getStorage('rootOrgID');
        this.currentOrgID = this.storageService.getStorage('currentOrgID');
        this.getVehicleType();
        this.getVehicleCategory();
        this.getUnit();
    }
    SearchFn($event) {
        this.searchValue = $event;
        if (this.searchValue.length > 0) {
            this.searchFlag = true;
        }
        else {
            this.searchFlag = false;
        }
        this.vehicleCategoryFlag = false;
        this.vehicleTypeFlag = false;
        this.refreshBtn.nativeElement.click();
    }
    getVehicleCategory() {
        return __awaiter(this, void 0, void 0, function* () {
            this.vehicleCategoryList = yield this.vehicleService.getVehicleCategory();
            this.vehicleCategoryList.unshift({ id: 'all', name: 'All', keyID: 'all' });
        });
    }
    getVehicleType() {
        return __awaiter(this, void 0, void 0, function* () {
            this.vehicleTypeList = yield this.vehicleService.getVehicleType();
            this.vehicleTypeList.unshift({ id: 'all', name: 'All', keyID: 'all' });
        });
    }
    getUnit() {
        return __awaiter(this, void 0, void 0, function* () {
            try {
                this.odometerList = yield this.unitService.getUnitUsingPublicUrl([`type:${UnitTypeKeyID.LENGTH}`]);
            }
            catch (error) {
                console.error(error);
            }
        });
    }
    ngAfterViewInit() {
        this.ipccFieldHandler();
    }
    getVehicleByPage() {
        this.getMerge().pipe(startWith({}), switchMap(() => {
            this.filterArr = [];
            if (this.vehicleTypeFlag) {
                if (this.vehicleTypeFc.value == 'all') {
                    this.vehicleTypeFlag = false;
                }
                else {
                    this.filterArr.push('vehicleType:' + this.vehicleTypeFc.value);
                }
            }
            if (this.vehicleCategoryFlag) {
                if (this.vehicleCategoryFc.value == 'all') {
                    this.vehicleCategoryFlag = false;
                }
                else {
                    this.filterArr.push('vehicleCategory:' + this.vehicleCategoryFc.value);
                }
            }
            if (this.odometerFlag) {
                if (this.odometerFc.value == 'Select none') {
                    this.odometerFlag = false;
                }
                else {
                    this.filterArr.push('vehicleOdoMeterUnit:' + this.odometerFc.value);
                }
            }
            if (this.searchFlag) {
                this.filterArr.push('searchVehicleName:' + this.searchValue);
            }
            return this.vehicleController.getVehicleByPage(this.paginator.pageIndex, this.paginator.pageSize, this.currentOrgID, this.filterArr).pipe(catchError(() => observableOf(null)));
        }), map((dataSource) => {
            if (dataSource === null) {
                return [];
            }
            this.resultLength = dataSource.totalCount;
            return dataSource.vehicle;
        })).subscribe((dataSource) => (this.dataSource = dataSource));
    }
    bulkUpload() {
        const dialogRef = this.dialog.open(BulkUploadDialogLib, {
            data: { source: "assets/files/vehicle-upload.xlsx" },
            minWidth: "600px",
            maxWidth: "600px",
        });
        dialogRef.afterClosed().subscribe((response) => {
            this.bulkUploadResponse = response;
            if (response) {
                this.vehicleBulkUpload();
            }
        });
    }
    toFormData() {
        const formData = new FormData();
        formData.append('file', this.bulkUploadResponse);
        return formData;
    }
    vehicleBulkUpload() {
        this.vehicleController.vehicleBulkUpload(this.currentOrgID, this.toFormData())
            .subscribe((bulkUploadRes) => {
            if (bulkUploadRes['title'] == 'Success') {
                this.toastrService.openToast(ToastrTitle.SUCCESS, bulkUploadRes['message'], bulkUploadRes['result']);
            }
            else if (bulkUploadRes['title'] == 'Error') {
                this.error = true;
                this.title = bulkUploadRes['title'];
                this.message = bulkUploadRes['message'];
                this.response = bulkUploadRes['response'];
                this.errorDialog(this.title, this.message, this.response);
                this.getErrorData();
            }
        });
    }
    errorDialog(title, message, response) {
        const dialogRef = this.dialog.open(DialogOneComponent, {
            minWidth: '450px',
            maxWidth: '700px',
            data: {
                type: DialogOneEnum.CONFIRMATION,
                icon: 'warning',
                header: title,
                body: message,
                buttonOne: 'Cancel',
                buttonTwo: 'Try again'
            }
        });
        dialogRef.afterClosed()
            .subscribe((result) => {
            if (result) {
                this.bulkUpload();
            }
            else { }
        });
    }
    getErrorData() {
        if (this.response['duplicateDataInRows'].length != 0) {
            let dupDataInRows = this.response['duplicateDataInRows'];
            this.duplicateData = [dupDataInRows.slice(0, -1).join(', '), dupDataInRows.slice(-1)[0]].join(dupDataInRows.length < 2 ? '' : ' and ');
        }
        if (this.response['mandatoryDataMissingInRows'].length != 0) {
            let manDataMissingInRows = this.response['mandatoryDataMissingInRows'];
            this.mandatoryData = [manDataMissingInRows.slice(0, -1).join(', '), manDataMissingInRows.slice(-1)[0]].join(manDataMissingInRows.length < 2 ? '' : ' and ');
        }
    }
    refreshFn() {
        this.vehicleTypeFlag = false;
        this.vehicleCategoryFlag = false;
        this.odometerFlag = false;
        this.refreshBtn.nativeElement.click();
    }
    handleClick(func, params) {
        func(...params);
    }
    ipccFieldHandler() {
        return __awaiter(this, void 0, void 0, function* () {
            let preference;
            let activity;
            if (this.constant.CURRENT_APPLICATION_KEY_ID == ApplicationKeyID.NETZERO_KEY_ID) {
                preference = yield this.preferenceService.getOrgPreference(this.rootOrgID);
                if (preference.preferenceID != null) {
                    activity = preference.activity.find(item => item.activityKeyID == ACTIVITY_KEYID_ENUM.STATIONARY_COMBUSTION);
                    // if (activity.emissionFactorSourceKeyID == EMISSION_FACTOR_SOUREC_KEYID_ENUM.IPCC_GUIDELINES_FOR_NATIONAL_GREENHOUSE_GAS_INVENTORIES) {
                    //     this.isIpcc = true;
                    // }
                    if (activity) {
                        let calculationApproach = activity.calculationApproach.length > 0 ? activity.calculationApproach[0] : null;
                        if (calculationApproach) {
                            let emissionFactorSource = calculationApproach.emissionFactorSource.find(ef => ef.id == calculationApproach.emissionFactorSourceID);
                            if (emissionFactorSource) {
                                if (emissionFactorSource.keyID == EMISSION_FACTOR_SOUREC_KEYID_ENUM.IPCC_GUIDELINES_FOR_NATIONAL_GREENHOUSE_GAS_INVENTORIES) {
                                    this.isIpcc = true;
                                }
                                ;
                            }
                        }
                    }
                }
                this.getVehicleByPage();
            }
        });
    }
    getMerge() {
        if (this.isIpcc) {
            return merge(this.paginator.page, this.vehicleType.mono, this.odometer.mono, fromEvent(this.refreshBtn.nativeElement, 'click'));
        }
        else {
            return merge(this.paginator.page, this.vehicleType.mono, this.vehicleCategory.mono, this.odometer.mono, fromEvent(this.refreshBtn.nativeElement, 'click'));
        }
    }
}
PageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageComponent, deps: [{ token: i1.MatDialog }, { token: i2.VehicleController }, { token: i3.StorageService }, { token: i4.VehicleService }, { token: i5.PreferenceService }, { token: i6.UnitService }, { token: i7.ToastrService }, { token: 'constant' }], target: i0.ɵɵFactoryTarget.Component });
PageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: PageComponent, selector: "app-page", viewQueries: [{ propertyName: "paginator", first: true, predicate: MatPaginator, descendants: true, static: true }, { propertyName: "searchBar", first: true, predicate: ["searchBar"], descendants: true, static: true }, { propertyName: "refreshBtn", first: true, predicate: ["refreshBtn"], descendants: true, static: true }, { propertyName: "vehicleType", first: true, predicate: ["vehicleType"], descendants: true }, { propertyName: "vehicleCategory", first: true, predicate: ["vehicleCategory"], descendants: true }, { propertyName: "odometer", first: true, predicate: ["odometer"], descendants: true }], ngImport: i0, template: "<div class=\"card cardOverwrite h100\">\n    <div class=\"headerContainer\">\n        <div class=\"headerLeftContainer\">\n            <div class=\"pageTitle\">Vehicles</div>\n            <div class=\"pageSubtitle\">Create company owned vehicles to track their emissions.</div>\n        </div>\n        <div class=\"headerRightContainer\">\n            <div class=\"headerRightContainerInner\">\n                <lib-search-bar-one class=\"me-3\" #searchBar [searchBy]=\"'vehicle name'\"\n                    (emitSearch)=\"SearchFn($event)\"></lib-search-bar-one>\n\n                <button class=\"btn btn-sm btn-light centerAlign me-3 py-1 refreshBtn\" #refreshBtn matRipple\n                    [matRippleCentered]=\"MATERIAL_CONSTANT.MAT_RIPPLE_CENTER\" matTooltipPosition=\"below\"\n                    [matTooltip]=\"ButtonTooltipEnum.REFRESH\">\n                    <span class=\"material-symbols-outlined\">\n                        refresh\n                    </span>\n                </button>\n\n\n\n                <button type=\"button\" class=\"btn btn-sm btn-success btnRightRadiusZero\"\n                    (click)=\"createUpdateVehicle(FormAction.CREATE, '')\" matRipple\n                    [matRippleCentered]=\"MATERIAL_CONSTANT.MAT_RIPPLE_CENTER\" matTooltipPosition=\"below\"\n                    [matTooltip]=\"ButtonTooltipEnum.CREATE\">\n                    <fa-icon [icon]=\"faPlus\"></fa-icon>&nbsp;&nbsp;Vehicle\n                </button>\n\n                <div class=\"btn-group\" ngbDropdown placement=\"bottom-right\" matTooltipPosition=\"below\"\n                    [matTooltip]=\"ButtonTooltipEnum.MORE\">\n                    <button type=\"button\" ngbDropdownToggle class=\"btn btn-sm btn-success btnLeftRadiusZero\">\n                    </button>\n                    <div ngbDropdownMenu>\n                        <button class=\"dropdown-item\" (click)=\"bulkUpload()\" matRipple\n                            [matRippleCentered]=\"MATERIAL_CONSTANT.MAT_RIPPLE_CENTER\">\n                            Import\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <table mat-table [dataSource]=\"dataSource\" #sort matSort matSortActive=\"employeeID\" matSortDirection=\"desc\"\n        matSortDisableClear>\n\n        <ng-container matColumnDef=\"vehicleNumber\">\n            <th mat-header-cell class=\"col-sm-2 \" *matHeaderCellDef disableClear> Vehicle Number </th>\n            <td mat-cell *matCellDef=\"let row\"> {{ row.vehicleNumber ? row.vehicleNumber : COMMON_CONSTANT.HYPHEN}}\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"vehicleName\">\n            <th mat-header-cell class=\"col-sm-2\" *matHeaderCellDef> Vehicle Name </th>\n            <td mat-cell *matCellDef=\"let row\"> {{row.vehicleName ? row.vehicleName : COMMON_CONSTANT.HYPHEN}}</td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"vehicleType\">\n            <th mat-header-cell class=\"vehicleType\" *matHeaderCellDef disableClear>\n                <funnel-filter #vehicleType header=\"Vehicle Type\" type=\"mono\" value=\"id\" [entityList]=\"vehicleTypeList\"\n                    [selectFC]=\"vehicleTypeFc\" [active]=\"vehicleTypeFlag\" (mono)=\"vehicleTypeFlag = true;\">\n                </funnel-filter>\n            </th>\n            <td mat-cell *matCellDef=\"let row\"> {{row.vehicleType.name ? row.vehicleType.name : COMMON_CONSTANT.HYPHEN}}\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"vehicleCategory\">\n            <th mat-header-cell class=\"vehicleCategory\" *matHeaderCellDef disableClear [ngClass]=\"{'d-none': isIpcc}\">\n                <funnel-filter #vehicleCategory header=\"Vehicle Category\" value=\"id\" type=\"mono\"\n                    [entityList]=\"vehicleCategoryList\" [selectFC]=\"vehicleCategoryFc\" [active]=\"vehicleCategoryFlag\"\n                    (mono)=\"vehicleCategoryFlag = true;\"></funnel-filter>\n            </th>\n\n            <td mat-cell *matCellDef=\"let row\" [ngClass]=\"{'d-none': isIpcc}\"> {{row.vehicleCategory ?\n                row.vehicleCategory.name :\n                COMMON_CONSTANT.HYPHEN}}\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"engineStroke\">\n            <th mat-header-cell class=\"col-sm-1\" *matHeaderCellDef [ngClass]=\"{'d-none': isIpcc}\"> Engine Stroke </th>\n            <td mat-cell *matCellDef=\"let row\" [ngClass]=\"{'d-none': isIpcc}\">\n                {{ row.engineStroke ? row.engineStroke.name : COMMON_CONSTANT.HYPHEN }}\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"year\">\n            <th mat-header-cell class=\"col-sm-1\" *matHeaderCellDef [ngClass]=\"{'d-none': isIpcc}\"> Year </th>\n            <td mat-cell *matCellDef=\"let row;\" [ngClass]=\"{'d-none': isIpcc}\">\n                {{row.year ? row.year : COMMON_CONSTANT.HYPHEN}}\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"odometer\">\n            <th mat-header-cell class=\"col-sm-1\" *matHeaderCellDef> <funnel-filter #odometer header=\"Odometer\"\n                    type=\"mono\" value=\"id\" view=\"name\" [entityList]=\"odometerList\" [selectFC]=\"odometerFc\"\n                    [active]=\"odometerFlag\" (mono)=\"odometerFlag = true;\"></funnel-filter></th>\n            <td mat-cell *matCellDef=\"let row;\">\n                {{row.odoMeterUnit.uomCode ? row.odoMeterUnit.uomCode : COMMON_CONSTANT.HYPHEN}}\n            </td>\n            <td mat-cell *matCellDef=\"let row;\">\n                {{ row.odoMeterUnit.uomCode ? row.odoMeterUnit.uomName + \" (\" + row.odoMeterUnit.uomCode + \")\" :\n                COMMON_CONSTANT.HYPHEN }}\n            </td>\n        </ng-container>\n\n        <ng-container matColumnDef=\"option\">\n            <th mat-header-cell *matHeaderCellDef></th>\n            <td mat-cell *matCellDef=\"let row\">\n                <div class=\"centerAlignVertical\">\n                    <ng-container *ngTemplateOutlet=\"icon; \n                    context: {\n                        icon: 'edit',\n                        tooltip: ButtonTooltipEnum.UPDATE,\n                        class: 'text-primary',\n                        function: createUpdateVehicle,\n                        functionParameter: [FormAction.UPDATE, row]\n                    }\">\n                    </ng-container>\n                </div>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\" class=\"dataRow\"></tr>\n        <tr class=\"mat-row\" *matNoDataRow>\n            <td class=\"mat-cell text-center\" [attr.colspan]=\"displayedColumns.length\">\n                {{ TABLE_CONSTANT.TABLE_NO_DATA }}\n            </td>\n        </tr>\n    </table>\n\n    <mat-paginator class=\"roundedBorder\" #paginator [length]=\"resultLength\"\n        [pageSizeOptions]=\"TABLE_CONSTANT.PAGE_SIZE_OPTION\" [pageSize]=\"TABLE_CONSTANT.DEFAULT_PAGE_SIZE\"\n        showFirstLastButtons>\n    </mat-paginator>\n</div>\n\n<ng-template #icon let-icon=\"icon\" let-tooltip=\"tooltip\" let-class=\"class\" let-function=\"function\"\n    let-functionParameter=\"functionParameter\">\n    <button class=\"iconBtn centerAlign\" [class]=\"class\" matTooltipPosition=\"below\" [matTooltip]=\"tooltip\" matRipple\n        [matRippleCentered]=\"MATERIAL_CONSTANT.MAT_RIPPLE_CENTER\" (click)=\"handleClick(function, functionParameter)\">\n        <span class=\"material-symbols-outlined icon\">\n            {{ icon }}\n        </span>\n    </button>\n</ng-template>\n", styles: [".vehicleType{width:155px}.vehicleCategory{width:150px}\n"], components: [{ type: i8.SearchBarOneComponent, selector: "lib-search-bar-one", inputs: ["type", "searchBy", "clear", "emitValueOnChange"], outputs: ["emitSearch"] }, { type: i9.FaIconComponent, selector: "fa-icon", inputs: ["classes", "icon", "title", "spin", "pulse", "mask", "styles", "flip", "size", "pull", "border", "inverse", "symbol", "rotate", "fixedWidth", "transform", "a11yRole"] }, { type: i10.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { type: i8.FunnelFilterComponent, selector: "funnel-filter", inputs: ["header", "active", "showSearchBar", "searchByPlaceholder", "searchBy", "selectAllLabel", "entityList", "view", "value", "type", "selectFC", "resetFlag"], outputs: ["mono", "multi", "selected"] }, { type: i10.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { type: i10.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { type: i11.MatPaginator, selector: "mat-paginator", inputs: ["disabled"], exportAs: ["matPaginator"] }], directives: [{ type: i12.MatRipple, selector: "[mat-ripple], [matRipple]", inputs: ["matRippleRadius", "matRippleDisabled", "matRippleTrigger", "matRippleColor", "matRippleUnbounded", "matRippleCentered", "matRippleAnimation"], exportAs: ["matRipple"] }, { type: i13.MatTooltip, selector: "[matTooltip]", exportAs: ["matTooltip"] }, { type: i14.NgbDropdown, selector: "[ngbDropdown]", inputs: ["autoClose", "dropdownClass", "open", "placement", "container", "display"], outputs: ["openChange"], exportAs: ["ngbDropdown"] }, { type: i14.NgbDropdownToggle, selector: "[ngbDropdownToggle]" }, { type: i14.NgbDropdownMenu, selector: "[ngbDropdownMenu]" }, { type: i10.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { type: i10.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { type: i10.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { type: i10.MatCellDef, selector: "[matCellDef]" }, { type: i10.MatCell, selector: "mat-cell, td[mat-cell]" }, { type: i15.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i15.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i10.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { type: i10.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }, { type: i10.MatNoDataRow, selector: "ng-template[matNoDataRow]" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: PageComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'app-page',
                    templateUrl: './page.component.html',
                    styleUrls: ['./page.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.MatDialog }, { type: i2.VehicleController }, { type: i3.StorageService }, { type: i4.VehicleService }, { type: i5.PreferenceService }, { type: i6.UnitService }, { type: i7.ToastrService }, { type: undefined, decorators: [{
                    type: Inject,
                    args: ['constant']
                }] }]; }, propDecorators: { paginator: [{
                type: ViewChild,
                args: [MatPaginator, { static: true }]
            }], searchBar: [{
                type: ViewChild,
                args: ['searchBar', { static: true }]
            }], refreshBtn: [{
                type: ViewChild,
                args: ['refreshBtn', { static: true }]
            }], vehicleType: [{
                type: ViewChild,
                args: ['vehicleType']
            }], vehicleCategory: [{
                type: ViewChild,
                args: ['vehicleCategory']
            }], odometer: [{
                type: ViewChild,
                args: ['odometer']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L25ldHplcm8vc3JjL2xpYi90c2MvY29tcG9uZW50L3ZlaGljbGUvcGFnZS9wYWdlLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvbmV0emVyby9zcmMvbGliL3RzYy9jb21wb25lbnQvdmVoaWNsZS9wYWdlL3BhZ2UuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQXNCLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDakYsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRTNELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUU3QyxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLElBQUksWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzVELE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV2RSxPQUFPLEVBQUUsTUFBTSxFQUFZLFdBQVcsRUFBRSxNQUFNLG1DQUFtQyxDQUFDO0FBRWxGLE9BQU8sRUFBRSxpQ0FBaUMsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBS2xFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBSWpGLE9BQU8sRUFBNEIsYUFBYSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDaEYsT0FBTyxFQUFpQixXQUFXLEVBQWUsTUFBTSx5QkFBeUIsQ0FBQztBQUNsRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFB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Q1gsWUFBWSx1aUJDdEYzQixzbFBBbUpBOzRGRHhHYSxhQUFhO2tCQUx6QixTQUFTO21CQUFDO29CQUNQLFFBQVEsRUFBRSxVQUFVO29CQUNwQixXQUFXLEVBQUUsdUJBQXVCO29CQUNwQyxTQUFTLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQztpQkFDdkM7OzBCQTJEUSxNQUFNOzJCQUFDLFVBQVU7NENBZnFCLFNBQVM7c0JBQW5ELFNBQVM7dUJBQUMsWUFBWSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtnQkFDQyxTQUFTO3NCQUFsRCxTQUFTO3VCQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUU7Z0JBQ0csVUFBVTtzQkFBcEQsU0FBUzt1QkFBQyxZQUFZLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUNmLFdBQVc7c0JBQXBDLFNBQVM7dUJBQUMsYUFBYTtnQkFDTSxlQUFlO3NCQUE1QyxTQUFTO3VCQUFDLGlCQUFpQjtnQkFDTCxRQUFRO3NCQUE5QixTQUFTO3VCQUFDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIE9uSW5pdCwgVmlld0NoaWxkLCBJbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdFBhZ2luYXRvciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL3BhZ2luYXRvcic7XG5pbXBvcnQgeyBNYXREaWFsb2cgfSBmcm9tIFwiQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nXCI7XG5pbXBvcnQgeyBGb3JtQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuaW1wb3J0IHsgbWVyZ2UsIGZyb21FdmVudCwgb2YgYXMgb2JzZXJ2YWJsZU9mIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBtYXAsIHN0YXJ0V2l0aCwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBmYVBsdXMsIGZhU2VhcmNoLCBmYUVsbGlwc2lzViB9IGZyb20gJ0Bmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29ucyc7XG5cbmltcG9ydCB7IEVNSVNTSU9OX0ZBQ1RPUl9TT1VSRUNfS0VZSURfRU5VTSB9IGZyb20gJy4uLy4uLy4uL2VudW0vZW1pc3Npb24tZmFjdG9yLmVudW0nO1xuaW1wb3J0IHsgQUNUSVZJVFlfS0VZSURfRU5VTSB9IGZyb20gJy4uLy4uLy4uL2VudW0vYWN0aXZpdHkuZW51bSc7XG5pbXBvcnQgeyBWZWhpY2xlTSwgVmVoaWNsZVBhZ2VNIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvdmVoaWNsZS5tb2RlbCc7XG5pbXBvcnQgeyBWZWhpY2xlQ29udHJvbGxlciB9IGZyb20gJy4uLy4uLy4uL2NvbnRyb2xsZXIvdmVoaWNsZS5jb250cm9sbGVyJztcbmltcG9ydCB7IFZlaGljbGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZS92ZWhpY2xlLnNlcnZpY2UnO1xuaW1wb3J0IHsgUHJlZmVyZW5jZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlL3ByZWZlcmVuY2Uuc2VydmljZSc7XG5pbXBvcnQgeyBDcmVhdGVVcGRhdGVDb21wb25lbnQgfSBmcm9tICcuLi9jcmVhdGUtdXBkYXRlL2NyZWF0ZS11cGRhdGUuY29tcG9uZW50JztcblxuLy90c2MtbGlicmFyeVxuaW1wb3J0IHsgU3RvcmFnZVNlcnZpY2UgfSBmcm9tICdAbGlicmFyeS9zdG9yYWdlLXNlcnZpY2UnO1xuaW1wb3J0IHsgVW5pdE0sIFVuaXQsIFVuaXRTZXJ2aWNlLCBVbml0VHlwZUtleUlEIH0gZnJvbSAnQGxpYnJhcnkvdW5pdC1zZXJ2aWNlJztcbmltcG9ydCB7IFRvYXN0clNlcnZpY2UsIFRvYXN0clRpdGxlLCBUb2FzdHJDb2xvciB9IGZyb20gJ0BsaWJyYXJ5L3RvYXN0ci1zZXJ2aWNlJztcbmltcG9ydCB7IEFwcGxpY2F0aW9uS2V5SUQgfSBmcm9tICdAbGlicmFyeS9hcHBsaWNhdGlvbi1zZXJ2aWNlJztcbmltcG9ydCB7XG4gICAgQ09NTU9OX0NPTlNUQU5ULFxuICAgIE1BVEVSSUFMX0NPTlNUQU5ULFxuICAgIFRBQkxFX0NPTlNUQU5ULFxuICAgIEJ1dHRvblRvb2x0aXBFbnVtLFxuICAgIEZvcm1BY3Rpb24sXG4gICAgQnVsa1VwbG9hZERpYWxvZ0xpYixcbiAgICBEaWFsb2dPbmVDb21wb25lbnQsXG4gICAgRGlhbG9nT25lRW51bSxcbiAgICBGdW5uZWxGaWx0ZXJDb21wb25lbnQsXG4gICAgVklFV19UWVBFX0VOVU0sXG4gICAgRGlhbG9nRW51bVxufSBmcm9tIFwiQGxpYnJhcnkvdHNjLWNvbW1vblwiO1xuLy8gL3RzYy1saWJyYXJ5L1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FwcC1wYWdlJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGFnZS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vcGFnZS5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFBhZ2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIENPTU1PTl9DT05TVEFOVCA9IENPTU1PTl9DT05TVEFOVDtcbiAgICBNQVRFUklBTF9DT05TVEFOVCA9IE1BVEVSSUFMX0NPTlNUQU5UO1xuICAgIFRBQkxFX0NPTlNUQU5UID0gVEFCTEVfQ09OU1RBTlQ7XG4gICAgQnV0dG9uVG9vbHRpcEVudW0gPSBCdXR0b25Ub29sdGlwRW51bTtcbiAgICBGb3JtQWN0aW9uID0gRm9ybUFjdGlvbjtcblxuICAgIGZhUGx1cyA9IGZhUGx1cztcbiAgICBmYUVsbGlwc2lzViA9IGZhRWxsaXBzaXNWO1xuXG4gICAgcm9vdE9yZ0lEOiBhbnk7XG4gICAgY3VycmVudE9yZ0lEOiBhbnk7XG4gICAgZGF0YVNvdXJjZTogYW55O1xuICAgIHJlc3VsdExlbmd0aDogbnVtYmVyO1xuICAgIHNlYXJjaFZhbHVlOiBhbnk7XG4gICAgZGlzcGxheWVkQ29sdW1uczogc3RyaW5nW10gPSBbJ3ZlaGljbGVOdW1iZXInLCAndmVoaWNsZU5hbWUnLCAndmVoaWNsZVR5cGUnLCAndmVoaWNsZUNhdGVnb3J5JywgJ2VuZ2luZVN0cm9rZScsICd5ZWFyJywgJ29kb21ldGVyJywgJ29wdGlvbiddO1xuICAgIHNlYXJjaEZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGJ1bGtVcGxvYWRSZXNwb25zZTogYW55O1xuICAgIHRpdGxlOiBhbnk7XG4gICAgcmVzcG9uc2U6IGFueTtcbiAgICBtZXNzYWdlOiBhbnk7XG4gICAgZXJyb3I6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc0lwY2M6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc0RhdGFMb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBkdXBsaWNhdGVEYXRhOiBzdHJpbmc7XG4gICAgbWFuZGF0b3J5RGF0YTogc3RyaW5nO1xuXG4gICAgdmVoaWNsZVR5cGVMaXN0OiBhbnkgPSBbXTtcbiAgICB2ZWhpY2xlVHlwZUZjID0gbmV3IEZvcm1Db250cm9sKCk7XG4gICAgdmVoaWNsZVR5cGVGbGFnID0gZmFsc2U7XG5cbiAgICB2ZWhpY2xlQ2F0ZWdvcnlMaXN0OiBhbnkgPSBbXTtcbiAgICB2ZWhpY2xlQ2F0ZWdvcnlGYyA9IG5ldyBGb3JtQ29udHJvbCgpO1xuICAgIHZlaGljbGVDYXRlZ29yeUZsYWcgPSBmYWxzZTtcblxuICAgIG9kb21ldGVyTGlzdDogVW5pdE1bXSA9IFtdO1xuXG4gICAgb2RvbWV0ZXJGYyA9IG5ldyBGb3JtQ29udHJvbCgpO1xuICAgIG9kb21ldGVyRmxhZyA9IGZhbHNlO1xuXG4gICAgZmlsdGVyQXJyOiBBcnJheTxzdHJpbmc+ID0gW107XG5cbiAgICBAVmlld0NoaWxkKE1hdFBhZ2luYXRvciwgeyBzdGF0aWM6IHRydWUgfSkgcGFnaW5hdG9yOiBNYXRQYWdpbmF0b3I7XG4gICAgQFZpZXdDaGlsZCgnc2VhcmNoQmFyJywgeyBzdGF0aWM6IHRydWUgfSkgc2VhcmNoQmFyOiBFbGVtZW50UmVmO1xuICAgIEBWaWV3Q2hpbGQoJ3JlZnJlc2hCdG4nLCB7IHN0YXRpYzogdHJ1ZSB9KSByZWZyZXNoQnRuOiBFbGVtZW50UmVmO1xuICAgIEBWaWV3Q2hpbGQoJ3ZlaGljbGVUeXBlJykgdmVoaWNsZVR5cGU6IEZ1bm5lbEZpbHRlckNvbXBvbmVudDtcbiAgICBAVmlld0NoaWxkKCd2ZWhpY2xlQ2F0ZWdvcnknKSB2ZWhpY2xlQ2F0ZWdvcnk6IEZ1bm5lbEZpbHRlckNvbXBvbmVudDtcbiAgICBAVmlld0NoaWxkKCdvZG9tZXRlcicpIG9kb21ldGVyOiBGdW5uZWxGaWx0ZXJDb21wb25lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBkaWFsb2c6IE1hdERpYWxvZyxcbiAgICAgICAgcHJpdmF0ZSB2ZWhpY2xlQ29udHJvbGxlcjogVmVoaWNsZUNvbnRyb2xsZXIsXG4gICAgICAgIHByaXZhdGUgc3RvcmFnZVNlcnZpY2U6IFN0b3JhZ2VTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHZlaGljbGVTZXJ2aWNlOiBWZWhpY2xlU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBwcmVmZXJlbmNlU2VydmljZTogUHJlZmVyZW5jZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgdW5pdFNlcnZpY2U6IFVuaXRTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHRvYXN0clNlcnZpY2U6IFRvYXN0clNlcnZpY2UsXG4gICAgICAgIEBJbmplY3QoJ2NvbnN0YW50JykgcHJpdmF0ZSBjb25zdGFudDogYW55XG4gICAgKSB7IH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnJvb3RPcmdJRCA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgncm9vdE9yZ0lEJyk7XG4gICAgICAgIHRoaXMuY3VycmVudE9yZ0lEID0gdGhpcy5zdG9yYWdlU2VydmljZS5nZXRTdG9yYWdlKCdjdXJyZW50T3JnSUQnKTtcblxuICAgICAgICB0aGlzLmdldFZlaGljbGVUeXBlKCk7XG4gICAgICAgIHRoaXMuZ2V0VmVoaWNsZUNhdGVnb3J5KCk7XG4gICAgICAgIHRoaXMuZ2V0VW5pdCgpO1xuICAgIH1cblxuICAgIFNlYXJjaEZuKCRldmVudCkge1xuICAgICAgICB0aGlzLnNlYXJjaFZhbHVlID0gJGV2ZW50O1xuICAgICAgICBpZiAodGhpcy5zZWFyY2hWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaEZsYWcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hGbGFnID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52ZWhpY2xlQ2F0ZWdvcnlGbGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmVoaWNsZVR5cGVGbGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVmcmVzaEJ0bi5uYXRpdmVFbGVtZW50LmNsaWNrKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0VmVoaWNsZUNhdGVnb3J5KCkge1xuICAgICAgICB0aGlzLnZlaGljbGVDYXRlZ29yeUxpc3QgPSBhd2FpdCB0aGlzLnZlaGljbGVTZXJ2aWNlLmdldFZlaGljbGVDYXRlZ29yeSgpO1xuICAgICAgICB0aGlzLnZlaGljbGVDYXRlZ29yeUxpc3QudW5zaGlmdCh7IGlkOiAnYWxsJywgbmFtZTogJ0FsbCcsIGtleUlEOiAnYWxsJyB9KVxuICAgIH1cblxuICAgIGFzeW5jIGdldFZlaGljbGVUeXBlKCkge1xuICAgICAgICB0aGlzLnZlaGljbGVUeXBlTGlzdCA9IGF3YWl0IHRoaXMudmVoaWNsZVNlcnZpY2UuZ2V0VmVoaWNsZVR5cGUoKTtcbiAgICAgICAgdGhpcy52ZWhpY2xlVHlwZUxpc3QudW5zaGlmdCh7IGlkOiAnYWxsJywgbmFtZTogJ0FsbCcsIGtleUlEOiAnYWxsJyB9KVxuICAgIH1cblxuICAgIGFzeW5jIGdldFVuaXQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLm9kb21ldGVyTGlzdCA9IGF3YWl0IHRoaXMudW5pdFNlcnZpY2UuZ2V0VW5pdFVzaW5nUHVibGljVXJsKFtgdHlwZToke1VuaXRUeXBlS2V5SUQuTEVOR1RIfWBdKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgICB0aGlzLmlwY2NGaWVsZEhhbmRsZXIoKTtcbiAgICB9XG5cbiAgICBnZXRWZWhpY2xlQnlQYWdlKCkge1xuICAgICAgICB0aGlzLmdldE1lcmdlKCkucGlwZShcbiAgICAgICAgICAgIHN0YXJ0V2l0aCh7fSksXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJyID0gW107XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52ZWhpY2xlVHlwZUZsYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmVoaWNsZVR5cGVGYy52YWx1ZSA9PSAnYWxsJykgeyB0aGlzLnZlaGljbGVUeXBlRmxhZyA9IGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyB0aGlzLmZpbHRlckFyci5wdXNoKCd2ZWhpY2xlVHlwZTonICsgdGhpcy52ZWhpY2xlVHlwZUZjLnZhbHVlKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52ZWhpY2xlQ2F0ZWdvcnlGbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZlaGljbGVDYXRlZ29yeUZjLnZhbHVlID09ICdhbGwnKSB7IHRoaXMudmVoaWNsZUNhdGVnb3J5RmxhZyA9IGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyB0aGlzLmZpbHRlckFyci5wdXNoKCd2ZWhpY2xlQ2F0ZWdvcnk6JyArIHRoaXMudmVoaWNsZUNhdGVnb3J5RmMudmFsdWUpIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub2RvbWV0ZXJGbGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9kb21ldGVyRmMudmFsdWUgPT0gJ1NlbGVjdCBub25lJykgeyB0aGlzLm9kb21ldGVyRmxhZyA9IGZhbHNlOyB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyB0aGlzLmZpbHRlckFyci5wdXNoKCd2ZWhpY2xlT2RvTWV0ZXJVbml0OicgKyB0aGlzLm9kb21ldGVyRmMudmFsdWUpIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoRmxhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckFyci5wdXNoKCdzZWFyY2hWZWhpY2xlTmFtZTonICsgdGhpcy5zZWFyY2hWYWx1ZSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52ZWhpY2xlQ29udHJvbGxlci5nZXRWZWhpY2xlQnlQYWdlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2luYXRvci5wYWdlSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdG9yLnBhZ2VTaXplLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRPcmdJRCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcnIsXG4gICAgICAgICAgICAgICAgKS5waXBlKGNhdGNoRXJyb3IoKCkgPT4gb2JzZXJ2YWJsZU9mKG51bGwpKSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG1hcCgoZGF0YVNvdXJjZTogVmVoaWNsZVBhZ2VNKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFTb3VyY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdExlbmd0aCA9IGRhdGFTb3VyY2UudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVNvdXJjZS52ZWhpY2xlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKS5zdWJzY3JpYmUoKGRhdGFTb3VyY2U6IFZlaGljbGVNW10pID0+ICh0aGlzLmRhdGFTb3VyY2UgPSBkYXRhU291cmNlKSk7XG4gICAgfVxuXG4gICAgYnVsa1VwbG9hZCgpIHtcbiAgICAgICAgY29uc3QgZGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3BlbihCdWxrVXBsb2FkRGlhbG9nTGliLCB7XG4gICAgICAgICAgICBkYXRhOiB7IHNvdXJjZTogXCJhc3NldHMvZmlsZXMvdmVoaWNsZS11cGxvYWQueGxzeFwiIH0sXG4gICAgICAgICAgICBtaW5XaWR0aDogXCI2MDBweFwiLFxuICAgICAgICAgICAgbWF4V2lkdGg6IFwiNjAwcHhcIixcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5idWxrVXBsb2FkUmVzcG9uc2UgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7IHRoaXMudmVoaWNsZUJ1bGtVcGxvYWQoKTsgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0b0Zvcm1EYXRhKCk6IEZvcm1EYXRhIHtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdGhpcy5idWxrVXBsb2FkUmVzcG9uc2UpO1xuXG4gICAgICAgIHJldHVybiBmb3JtRGF0YTtcbiAgICB9XG5cblxuICAgIHZlaGljbGVCdWxrVXBsb2FkKCkge1xuICAgICAgICB0aGlzLnZlaGljbGVDb250cm9sbGVyLnZlaGljbGVCdWxrVXBsb2FkKHRoaXMuY3VycmVudE9yZ0lELCB0aGlzLnRvRm9ybURhdGEoKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGJ1bGtVcGxvYWRSZXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYnVsa1VwbG9hZFJlc1sndGl0bGUnXSA9PSAnU3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2FzdHJTZXJ2aWNlLm9wZW5Ub2FzdChUb2FzdHJUaXRsZS5TVUNDRVNTLCBidWxrVXBsb2FkUmVzWydtZXNzYWdlJ10sIGJ1bGtVcGxvYWRSZXNbJ3Jlc3VsdCddKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnVsa1VwbG9hZFJlc1sndGl0bGUnXSA9PSAnRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpdGxlID0gYnVsa1VwbG9hZFJlc1sndGl0bGUnXVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBidWxrVXBsb2FkUmVzWydtZXNzYWdlJ107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSBidWxrVXBsb2FkUmVzWydyZXNwb25zZSddO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yRGlhbG9nKHRoaXMudGl0bGUsIHRoaXMubWVzc2FnZSwgdGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RXJyb3JEYXRhKCk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBlcnJvckRpYWxvZyh0aXRsZSwgbWVzc2FnZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgZGlhbG9nUmVmID0gdGhpcy5kaWFsb2cub3BlbihEaWFsb2dPbmVDb21wb25lbnQsIHtcbiAgICAgICAgICAgIG1pbldpZHRoOiAnNDUwcHgnLFxuICAgICAgICAgICAgbWF4V2lkdGg6ICc3MDBweCcsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogRGlhbG9nT25lRW51bS5DT05GSVJNQVRJT04sXG4gICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogdGl0bGUsXG4gICAgICAgICAgICAgICAgYm9keTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICBidXR0b25PbmU6ICdDYW5jZWwnLFxuICAgICAgICAgICAgICAgIGJ1dHRvblR3bzogJ1RyeSBhZ2FpbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGlhbG9nUmVmLmFmdGVyQ2xvc2VkKClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWxrVXBsb2FkKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IH1cbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgZ2V0RXJyb3JEYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNwb25zZVsnZHVwbGljYXRlRGF0YUluUm93cyddLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICBsZXQgZHVwRGF0YUluUm93cyA9IHRoaXMucmVzcG9uc2VbJ2R1cGxpY2F0ZURhdGFJblJvd3MnXTtcbiAgICAgICAgICAgIHRoaXMuZHVwbGljYXRlRGF0YSA9IFtkdXBEYXRhSW5Sb3dzLnNsaWNlKDAsIC0xKS5qb2luKCcsICcpLCBkdXBEYXRhSW5Sb3dzLnNsaWNlKC0xKVswXV0uam9pbihkdXBEYXRhSW5Sb3dzLmxlbmd0aCA8IDIgPyAnJyA6ICcgYW5kICcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc3BvbnNlWydtYW5kYXRvcnlEYXRhTWlzc2luZ0luUm93cyddLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICBsZXQgbWFuRGF0YU1pc3NpbmdJblJvd3MgPSB0aGlzLnJlc3BvbnNlWydtYW5kYXRvcnlEYXRhTWlzc2luZ0luUm93cyddO1xuICAgICAgICAgICAgdGhpcy5tYW5kYXRvcnlEYXRhID0gW21hbkRhdGFNaXNzaW5nSW5Sb3dzLnNsaWNlKDAsIC0xKS5qb2luKCcsICcpLCBtYW5EYXRhTWlzc2luZ0luUm93cy5zbGljZSgtMSlbMF1dLmpvaW4obWFuRGF0YU1pc3NpbmdJblJvd3MubGVuZ3RoIDwgMiA/ICcnIDogJyBhbmQgJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZyZXNoRm4oKSB7XG4gICAgICAgIHRoaXMudmVoaWNsZVR5cGVGbGFnID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmVoaWNsZUNhdGVnb3J5RmxhZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9kb21ldGVyRmxhZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlZnJlc2hCdG4ubmF0aXZlRWxlbWVudC5jbGljaygpO1xuICAgIH1cblxuICAgIGNyZWF0ZVVwZGF0ZVZlaGljbGUgPSAoYWN0aW9uUCwgcm93KSA9PiB7XG4gICAgICAgIGxldCBhY3Rpb246IHN0cmluZyA9IGFjdGlvblA7XG4gICAgICAgIGxldCBkaWFsb2dSZWY7XG4gICAgICAgIGxldCBkYXRhOiBhbnk7XG5cbiAgICAgICAgaWYgKGFjdGlvbiA9PSBGb3JtQWN0aW9uLkNSRUFURSkge1xuICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IEZvcm1BY3Rpb24uQ1JFQVRFLFxuICAgICAgICAgICAgICAgIHNvdXJjZTogVklFV19UWVBFX0VOVU0uRElBTE9HXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09IEZvcm1BY3Rpb24uVVBEQVRFKSB7XG4gICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGFjdGlvbjogRm9ybUFjdGlvbi5VUERBVEUsXG4gICAgICAgICAgICAgICAgc291cmNlOiBWSUVXX1RZUEVfRU5VTS5ESUFMT0csXG4gICAgICAgICAgICAgICAgdmVoaWNsZUlEOiByb3cuaWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRpYWxvZ1JlZiA9IHRoaXMuZGlhbG9nLm9wZW4oQ3JlYXRlVXBkYXRlQ29tcG9uZW50LCB7XG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgbWluV2lkdGg6ICc2MDBweCcsXG4gICAgICAgICAgICBtYXhXaWR0aDogJzYwMHB4JyxcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgcG9zaXRpb246IHsgcmlnaHQ6ICctMnB4JywgdG9wOiAnMHB4JyB9LFxuICAgICAgICAgICAgcGFuZWxDbGFzczogJ21hdERpYWxvZ0NvbnRhaW5lck92ZXJyaWRlJ1xuICAgICAgICB9KTtcblxuICAgICAgICBkaWFsb2dSZWYuYWZ0ZXJDbG9zZWQoKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PSBEaWFsb2dFbnVtLlNVQ0NFU1NfRFIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoQnRuLm5hdGl2ZUVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhmdW5jOiBGdW5jdGlvbiwgcGFyYW1zOiBhbnlbXSkge1xuICAgICAgICBmdW5jKC4uLnBhcmFtcyk7XG4gICAgfVxuXG4gICAgYXN5bmMgaXBjY0ZpZWxkSGFuZGxlcigpIHtcbiAgICAgICAgbGV0IHByZWZlcmVuY2U7XG4gICAgICAgIGxldCBhY3Rpdml0eTtcblxuICAgICAgICBpZiAodGhpcy5jb25zdGFudC5DVVJSRU5UX0FQUExJQ0FUSU9OX0tFWV9JRCA9PSBBcHBsaWNhdGlvbktleUlELk5FVFpFUk9fS0VZX0lEKSB7XG4gICAgICAgICAgICBwcmVmZXJlbmNlID0gYXdhaXQgdGhpcy5wcmVmZXJlbmNlU2VydmljZS5nZXRPcmdQcmVmZXJlbmNlKHRoaXMucm9vdE9yZ0lEKTtcblxuICAgICAgICAgICAgaWYgKHByZWZlcmVuY2UucHJlZmVyZW5jZUlEICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eSA9IHByZWZlcmVuY2UuYWN0aXZpdHkuZmluZChpdGVtID0+IGl0ZW0uYWN0aXZpdHlLZXlJRCA9PSBBQ1RJVklUWV9LRVlJRF9FTlVNLlNUQVRJT05BUllfQ09NQlVTVElPTik7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiAoYWN0aXZpdHkuZW1pc3Npb25GYWN0b3JTb3VyY2VLZXlJRCA9PSBFTUlTU0lPTl9GQUNUT1JfU09VUkVDX0tFWUlEX0VOVU0uSVBDQ19HVUlERUxJTkVTX0ZPUl9OQVRJT05BTF9HUkVFTkhPVVNFX0dBU19JTlZFTlRPUklFUykge1xuICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmlzSXBjYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjYWxjdWxhdGlvbkFwcHJvYWNoID0gYWN0aXZpdHkuY2FsY3VsYXRpb25BcHByb2FjaC5sZW5ndGggPiAwID8gYWN0aXZpdHkuY2FsY3VsYXRpb25BcHByb2FjaFswXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGlvbkFwcHJvYWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZW1pc3Npb25GYWN0b3JTb3VyY2UgPSBjYWxjdWxhdGlvbkFwcHJvYWNoLmVtaXNzaW9uRmFjdG9yU291cmNlLmZpbmQoZWYgPT4gZWYuaWQgPT0gY2FsY3VsYXRpb25BcHByb2FjaC5lbWlzc2lvbkZhY3RvclNvdXJjZUlEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbWlzc2lvbkZhY3RvclNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbWlzc2lvbkZhY3RvclNvdXJjZS5rZXlJRCA9PSBFTUlTU0lPTl9GQUNUT1JfU09VUkVDX0tFWUlEX0VOVU0uSVBDQ19HVUlERUxJTkVTX0ZPUl9OQVRJT05BTF9HUkVFTkhPVVNFX0dBU19JTlZFTlRPUklFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSXBjYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ2V0VmVoaWNsZUJ5UGFnZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TWVyZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSXBjYykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlKFxuICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdG9yLnBhZ2UsXG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlVHlwZS5tb25vLFxuICAgICAgICAgICAgICAgIHRoaXMub2RvbWV0ZXIubW9ubyxcbiAgICAgICAgICAgICAgICBmcm9tRXZlbnQodGhpcy5yZWZyZXNoQnRuLm5hdGl2ZUVsZW1lbnQsICdjbGljaycpXG4gICAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2UoXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdpbmF0b3IucGFnZSxcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVUeXBlLm1vbm8sXG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlQ2F0ZWdvcnkubW9ubyxcbiAgICAgICAgICAgICAgICB0aGlzLm9kb21ldGVyLm1vbm8sXG4gICAgICAgICAgICAgICAgZnJvbUV2ZW50KHRoaXMucmVmcmVzaEJ0bi5uYXRpdmVFbGVtZW50LCAnY2xpY2snKVxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImNhcmQgY2FyZE92ZXJ3cml0ZSBoMTAwXCI+XG4gICAgPGRpdiBjbGFzcz1cImhlYWRlckNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyTGVmdENvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2VUaXRsZVwiPlZlaGljbGVzPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFnZVN1YnRpdGxlXCI+Q3JlYXRlIGNvbXBhbnkgb3duZWQgdmVoaWNsZXMgdG8gdHJhY2sgdGhlaXIgZW1pc3Npb25zLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclJpZ2h0Q29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyUmlnaHRDb250YWluZXJJbm5lclwiPlxuICAgICAgICAgICAgICAgIDxsaWItc2VhcmNoLWJhci1vbmUgY2xhc3M9XCJtZS0zXCIgI3NlYXJjaEJhciBbc2VhcmNoQnldPVwiJ3ZlaGljbGUgbmFtZSdcIlxuICAgICAgICAgICAgICAgICAgICAoZW1pdFNlYXJjaCk9XCJTZWFyY2hGbigkZXZlbnQpXCI+PC9saWItc2VhcmNoLWJhci1vbmU+XG5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tbGlnaHQgY2VudGVyQWxpZ24gbWUtMyBweS0xIHJlZnJlc2hCdG5cIiAjcmVmcmVzaEJ0biBtYXRSaXBwbGVcbiAgICAgICAgICAgICAgICAgICAgW21hdFJpcHBsZUNlbnRlcmVkXT1cIk1BVEVSSUFMX0NPTlNUQU5ULk1BVF9SSVBQTEVfQ0VOVEVSXCIgbWF0VG9vbHRpcFBvc2l0aW9uPVwiYmVsb3dcIlxuICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcF09XCJCdXR0b25Ub29sdGlwRW51bS5SRUZSRVNIXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG5cblxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIGJ0blJpZ2h0UmFkaXVzWmVyb1wiXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJjcmVhdGVVcGRhdGVWZWhpY2xlKEZvcm1BY3Rpb24uQ1JFQVRFLCAnJylcIiBtYXRSaXBwbGVcbiAgICAgICAgICAgICAgICAgICAgW21hdFJpcHBsZUNlbnRlcmVkXT1cIk1BVEVSSUFMX0NPTlNUQU5ULk1BVF9SSVBQTEVfQ0VOVEVSXCIgbWF0VG9vbHRpcFBvc2l0aW9uPVwiYmVsb3dcIlxuICAgICAgICAgICAgICAgICAgICBbbWF0VG9vbHRpcF09XCJCdXR0b25Ub29sdGlwRW51bS5DUkVBVEVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGZhLWljb24gW2ljb25dPVwiZmFQbHVzXCI+PC9mYS1pY29uPiZuYnNwOyZuYnNwO1ZlaGljbGVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiBuZ2JEcm9wZG93biBwbGFjZW1lbnQ9XCJib3R0b20tcmlnaHRcIiBtYXRUb29sdGlwUG9zaXRpb249XCJiZWxvd1wiXG4gICAgICAgICAgICAgICAgICAgIFttYXRUb29sdGlwXT1cIkJ1dHRvblRvb2x0aXBFbnVtLk1PUkVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgbmdiRHJvcGRvd25Ub2dnbGUgY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIGJ0bkxlZnRSYWRpdXNaZXJvXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nYkRyb3Bkb3duTWVudT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgKGNsaWNrKT1cImJ1bGtVcGxvYWQoKVwiIG1hdFJpcHBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFttYXRSaXBwbGVDZW50ZXJlZF09XCJNQVRFUklBTF9DT05TVEFOVC5NQVRfUklQUExFX0NFTlRFUlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEltcG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPHRhYmxlIG1hdC10YWJsZSBbZGF0YVNvdXJjZV09XCJkYXRhU291cmNlXCIgI3NvcnQgbWF0U29ydCBtYXRTb3J0QWN0aXZlPVwiZW1wbG95ZWVJRFwiIG1hdFNvcnREaXJlY3Rpb249XCJkZXNjXCJcbiAgICAgICAgbWF0U29ydERpc2FibGVDbGVhcj5cblxuICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cInZlaGljbGVOdW1iZXJcIj5cbiAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgY2xhc3M9XCJjb2wtc20tMiBcIiAqbWF0SGVhZGVyQ2VsbERlZiBkaXNhYmxlQ2xlYXI+IFZlaGljbGUgTnVtYmVyIDwvdGg+XG4gICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgcm93XCI+IHt7IHJvdy52ZWhpY2xlTnVtYmVyID8gcm93LnZlaGljbGVOdW1iZXIgOiBDT01NT05fQ09OU1RBTlQuSFlQSEVOfX1cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwidmVoaWNsZU5hbWVcIj5cbiAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgY2xhc3M9XCJjb2wtc20tMlwiICptYXRIZWFkZXJDZWxsRGVmPiBWZWhpY2xlIE5hbWUgPC90aD5cbiAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCByb3dcIj4ge3tyb3cudmVoaWNsZU5hbWUgPyByb3cudmVoaWNsZU5hbWUgOiBDT01NT05fQ09OU1RBTlQuSFlQSEVOfX08L3RkPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cInZlaGljbGVUeXBlXCI+XG4gICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsIGNsYXNzPVwidmVoaWNsZVR5cGVcIiAqbWF0SGVhZGVyQ2VsbERlZiBkaXNhYmxlQ2xlYXI+XG4gICAgICAgICAgICAgICAgPGZ1bm5lbC1maWx0ZXIgI3ZlaGljbGVUeXBlIGhlYWRlcj1cIlZlaGljbGUgVHlwZVwiIHR5cGU9XCJtb25vXCIgdmFsdWU9XCJpZFwiIFtlbnRpdHlMaXN0XT1cInZlaGljbGVUeXBlTGlzdFwiXG4gICAgICAgICAgICAgICAgICAgIFtzZWxlY3RGQ109XCJ2ZWhpY2xlVHlwZUZjXCIgW2FjdGl2ZV09XCJ2ZWhpY2xlVHlwZUZsYWdcIiAobW9ubyk9XCJ2ZWhpY2xlVHlwZUZsYWcgPSB0cnVlO1wiPlxuICAgICAgICAgICAgICAgIDwvZnVubmVsLWZpbHRlcj5cbiAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgcm93XCI+IHt7cm93LnZlaGljbGVUeXBlLm5hbWUgPyByb3cudmVoaWNsZVR5cGUubmFtZSA6IENPTU1PTl9DT05TVEFOVC5IWVBIRU59fVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJ2ZWhpY2xlQ2F0ZWdvcnlcIj5cbiAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgY2xhc3M9XCJ2ZWhpY2xlQ2F0ZWdvcnlcIiAqbWF0SGVhZGVyQ2VsbERlZiBkaXNhYmxlQ2xlYXIgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBpc0lwY2N9XCI+XG4gICAgICAgICAgICAgICAgPGZ1bm5lbC1maWx0ZXIgI3ZlaGljbGVDYXRlZ29yeSBoZWFkZXI9XCJWZWhpY2xlIENhdGVnb3J5XCIgdmFsdWU9XCJpZFwiIHR5cGU9XCJtb25vXCJcbiAgICAgICAgICAgICAgICAgICAgW2VudGl0eUxpc3RdPVwidmVoaWNsZUNhdGVnb3J5TGlzdFwiIFtzZWxlY3RGQ109XCJ2ZWhpY2xlQ2F0ZWdvcnlGY1wiIFthY3RpdmVdPVwidmVoaWNsZUNhdGVnb3J5RmxhZ1wiXG4gICAgICAgICAgICAgICAgICAgIChtb25vKT1cInZlaGljbGVDYXRlZ29yeUZsYWcgPSB0cnVlO1wiPjwvZnVubmVsLWZpbHRlcj5cbiAgICAgICAgICAgIDwvdGg+XG5cbiAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCByb3dcIiBbbmdDbGFzc109XCJ7J2Qtbm9uZSc6IGlzSXBjY31cIj4ge3tyb3cudmVoaWNsZUNhdGVnb3J5ID9cbiAgICAgICAgICAgICAgICByb3cudmVoaWNsZUNhdGVnb3J5Lm5hbWUgOlxuICAgICAgICAgICAgICAgIENPTU1PTl9DT05TVEFOVC5IWVBIRU59fVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgPG5nLWNvbnRhaW5lciBtYXRDb2x1bW5EZWY9XCJlbmdpbmVTdHJva2VcIj5cbiAgICAgICAgICAgIDx0aCBtYXQtaGVhZGVyLWNlbGwgY2xhc3M9XCJjb2wtc20tMVwiICptYXRIZWFkZXJDZWxsRGVmIFtuZ0NsYXNzXT1cInsnZC1ub25lJzogaXNJcGNjfVwiPiBFbmdpbmUgU3Ryb2tlIDwvdGg+XG4gICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgcm93XCIgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBpc0lwY2N9XCI+XG4gICAgICAgICAgICAgICAge3sgcm93LmVuZ2luZVN0cm9rZSA/IHJvdy5lbmdpbmVTdHJva2UubmFtZSA6IENPTU1PTl9DT05TVEFOVC5IWVBIRU4gfX1cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwieWVhclwiPlxuICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCBjbGFzcz1cImNvbC1zbS0xXCIgKm1hdEhlYWRlckNlbGxEZWYgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBpc0lwY2N9XCI+IFllYXIgPC90aD5cbiAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCByb3c7XCIgW25nQ2xhc3NdPVwieydkLW5vbmUnOiBpc0lwY2N9XCI+XG4gICAgICAgICAgICAgICAge3tyb3cueWVhciA/IHJvdy55ZWFyIDogQ09NTU9OX0NPTlNUQU5ULkhZUEhFTn19XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cIm9kb21ldGVyXCI+XG4gICAgICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsIGNsYXNzPVwiY29sLXNtLTFcIiAqbWF0SGVhZGVyQ2VsbERlZj4gPGZ1bm5lbC1maWx0ZXIgI29kb21ldGVyIGhlYWRlcj1cIk9kb21ldGVyXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm1vbm9cIiB2YWx1ZT1cImlkXCIgdmlldz1cIm5hbWVcIiBbZW50aXR5TGlzdF09XCJvZG9tZXRlckxpc3RcIiBbc2VsZWN0RkNdPVwib2RvbWV0ZXJGY1wiXG4gICAgICAgICAgICAgICAgICAgIFthY3RpdmVdPVwib2RvbWV0ZXJGbGFnXCIgKG1vbm8pPVwib2RvbWV0ZXJGbGFnID0gdHJ1ZTtcIj48L2Z1bm5lbC1maWx0ZXI+PC90aD5cbiAgICAgICAgICAgIDx0ZCBtYXQtY2VsbCAqbWF0Q2VsbERlZj1cImxldCByb3c7XCI+XG4gICAgICAgICAgICAgICAge3tyb3cub2RvTWV0ZXJVbml0LnVvbUNvZGUgPyByb3cub2RvTWV0ZXJVbml0LnVvbUNvZGUgOiBDT01NT05fQ09OU1RBTlQuSFlQSEVOfX1cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICA8dGQgbWF0LWNlbGwgKm1hdENlbGxEZWY9XCJsZXQgcm93O1wiPlxuICAgICAgICAgICAgICAgIHt7IHJvdy5vZG9NZXRlclVuaXQudW9tQ29kZSA/IHJvdy5vZG9NZXRlclVuaXQudW9tTmFtZSArIFwiIChcIiArIHJvdy5vZG9NZXRlclVuaXQudW9tQ29kZSArIFwiKVwiIDpcbiAgICAgICAgICAgICAgICBDT01NT05fQ09OU1RBTlQuSFlQSEVOIH19XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgICA8bmctY29udGFpbmVyIG1hdENvbHVtbkRlZj1cIm9wdGlvblwiPlxuICAgICAgICAgICAgPHRoIG1hdC1oZWFkZXItY2VsbCAqbWF0SGVhZGVyQ2VsbERlZj48L3RoPlxuICAgICAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjZW50ZXJBbGlnblZlcnRpY2FsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJpY29uOyBcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2VkaXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogQnV0dG9uVG9vbHRpcEVudW0uVVBEQVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICd0ZXh0LXByaW1hcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246IGNyZWF0ZVVwZGF0ZVZlaGljbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvblBhcmFtZXRlcjogW0Zvcm1BY3Rpb24uVVBEQVRFLCByb3ddXG4gICAgICAgICAgICAgICAgICAgIH1cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgIDx0ciBtYXQtaGVhZGVyLXJvdyAqbWF0SGVhZGVyUm93RGVmPVwiZGlzcGxheWVkQ29sdW1uc1wiPjwvdHI+XG4gICAgICAgIDx0ciBtYXQtcm93ICptYXRSb3dEZWY9XCJsZXQgcm93OyBjb2x1bW5zOiBkaXNwbGF5ZWRDb2x1bW5zO1wiIGNsYXNzPVwiZGF0YVJvd1wiPjwvdHI+XG4gICAgICAgIDx0ciBjbGFzcz1cIm1hdC1yb3dcIiAqbWF0Tm9EYXRhUm93PlxuICAgICAgICAgICAgPHRkIGNsYXNzPVwibWF0LWNlbGwgdGV4dC1jZW50ZXJcIiBbYXR0ci5jb2xzcGFuXT1cImRpc3BsYXllZENvbHVtbnMubGVuZ3RoXCI+XG4gICAgICAgICAgICAgICAge3sgVEFCTEVfQ09OU1RBTlQuVEFCTEVfTk9fREFUQSB9fVxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuXG4gICAgPG1hdC1wYWdpbmF0b3IgY2xhc3M9XCJyb3VuZGVkQm9yZGVyXCIgI3BhZ2luYXRvciBbbGVuZ3RoXT1cInJlc3VsdExlbmd0aFwiXG4gICAgICAgIFtwYWdlU2l6ZU9wdGlvbnNdPVwiVEFCTEVfQ09OU1RBTlQuUEFHRV9TSVpFX09QVElPTlwiIFtwYWdlU2l6ZV09XCJUQUJMRV9DT05TVEFOVC5ERUZBVUxUX1BBR0VfU0laRVwiXG4gICAgICAgIHNob3dGaXJzdExhc3RCdXR0b25zPlxuICAgIDwvbWF0LXBhZ2luYXRvcj5cbjwvZGl2PlxuXG48bmctdGVtcGxhdGUgI2ljb24gbGV0LWljb249XCJpY29uXCIgbGV0LXRvb2x0aXA9XCJ0b29sdGlwXCIgbGV0LWNsYXNzPVwiY2xhc3NcIiBsZXQtZnVuY3Rpb249XCJmdW5jdGlvblwiXG4gICAgbGV0LWZ1bmN0aW9uUGFyYW1ldGVyPVwiZnVuY3Rpb25QYXJhbWV0ZXJcIj5cbiAgICA8YnV0dG9uIGNsYXNzPVwiaWNvbkJ0biBjZW50ZXJBbGlnblwiIFtjbGFzc109XCJjbGFzc1wiIG1hdFRvb2x0aXBQb3NpdGlvbj1cImJlbG93XCIgW21hdFRvb2x0aXBdPVwidG9vbHRpcFwiIG1hdFJpcHBsZVxuICAgICAgICBbbWF0UmlwcGxlQ2VudGVyZWRdPVwiTUFURVJJQUxfQ09OU1RBTlQuTUFUX1JJUFBMRV9DRU5URVJcIiAoY2xpY2spPVwiaGFuZGxlQ2xpY2soZnVuY3Rpb24sIGZ1bmN0aW9uUGFyYW1ldGVyKVwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgaWNvblwiPlxuICAgICAgICAgICAge3sgaWNvbiB9fVxuICAgICAgICA8L3NwYW4+XG4gICAgPC9idXR0b24+XG48L25nLXRlbXBsYXRlPlxuIl19