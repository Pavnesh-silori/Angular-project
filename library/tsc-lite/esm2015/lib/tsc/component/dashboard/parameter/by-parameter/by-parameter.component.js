import { __awaiter } from "tslib";
import { Component, ViewChild } from '@angular/core';
import { FormControl, Validators } from '@angular/forms';
import * as moment from 'moment';
import { DashboardErrorEnum, ReportErrorEnum } from '../../../../enum/error.enum';
import { Parameter } from '../../../../model/parameter.model';
import { Alert } from '../../../../model/alert.model';
import { AggregateDataRequest } from '../../../../model/aggregate-data.model';
import { ButtonLabelEnum, COMMON_CONSTANT, FormErrorEnum, InvalidForm, MATERIAL_CONSTANT, MatSelectSearchService, MaterialFormFieldAppearance, MessageAlertIconEnum, MessageAlertTypeEnum } from '@library/tsc-common';
import { CUSTOM_RANGE_CONSTANT_EXCLUSIVE_DATE, DateFormatEnum, DateInputTypeEnum, DateTypeEnum } from '@library/date';
import { ToastrColor } from '@library/toastr-service';
import { BasicAreaLineBarChart, ChartTitle, ChartTypeEnum, ChartViewStateEnum } from '@library/echart';
import * as i0 from "@angular/core";
import * as i1 from "@library/storage-service";
import * as i2 from "../../../../service/alert.service";
import * as i3 from "@library/toastr-service";
import * as i4 from "../../../../controller/parameter.controller";
import * as i5 from "../../../../service/parameter.service";
import * as i6 from "../../../../service/aggregate-data.service";
import * as i7 from "@library/tsc-common";
import * as i8 from "@library/date";
import * as i9 from "../../../dropdown/aggregation-duration/aggregation-duration.component";
import * as i10 from "../../../dropdown/entity-type/entity-type.component";
import * as i11 from "@angular/material/form-field";
import * as i12 from "@angular/material/select";
import * as i13 from "@angular/material/core";
import * as i14 from "ngx-mat-select-search";
import * as i15 from "@angular/material/card";
import * as i16 from "@library/echart";
import * as i17 from "@angular/forms";
import * as i18 from "@angular/common";
// /tsc-library/
export class ByParameterComponent {
    constructor(storageService, alertService, toastService, parameterController, parameterService, aggregateDataService, tscCommonService) {
        this.storageService = storageService;
        this.alertService = alertService;
        this.toastService = toastService;
        this.parameterController = parameterController;
        this.parameterService = parameterService;
        this.aggregateDataService = aggregateDataService;
        this.tscCommonService = tscCommonService;
        this.materialConstant = MATERIAL_CONSTANT;
        this.commonConstant = COMMON_CONSTANT;
        this.customRangeConstant = CUSTOM_RANGE_CONSTANT_EXCLUSIVE_DATE;
        this.buttonLabelEnum = ButtonLabelEnum;
        this.materialFormFieldAppearance = MaterialFormFieldAppearance;
        this.dateFormatEnum = DateFormatEnum;
        this.dateInputTypeEnum = DateInputTypeEnum;
        this.dateTypeEnum = DateTypeEnum;
        this.FormErrorEnum = FormErrorEnum;
        this.showAlert = false;
        this.showLoader = false;
        this.parameterM = [new Parameter()];
        this.parameterByEntityTypeM = [new Parameter()];
        this.alertObj = new Alert();
        this.parameterFC = new FormControl('', [Validators.required]);
        this.parameterSearchUtil = new MatSelectSearchService(['label']);
        this.chartType = ChartTypeEnum.BASIC_LINE_CHART;
        this.viewStateFlag = ChartViewStateEnum.LOADING;
        this.chartTitle = new ChartTitle();
        this.chartData = [];
    }
    ngOnInit() {
        this.orgID = this.storageService.getStorage('currentOrgID');
        this.timezone = this.storageService.getStorage('timezone');
    }
    getParameterByLayoutID() {
        return __awaiter(this, void 0, void 0, function* () {
            this.parameterM = (yield this.parameterService.getParameterByLayoutID(this.orgID));
        });
    }
    dateInpChange() {
        this.startDate = this.customDateInput.startDateFC.value;
        this.endDate = this.customDateInput.endDateFC.value;
    }
    aggDurationInpChange() {
        this.aggDuration = this.aggDurationInput.aggDurationFC.value;
    }
    entityTypeInpChange() {
        this.entityType = this.entityTypeInput.entityTypeFC.value;
        this.getParameterByEntityType(this.entityType);
    }
    getParameterByEntityType(entityType) {
        let requestBody = {};
        requestBody['entityType'] = [entityType];
        this.parameterController.getParameterByEntityType(this.orgID, requestBody)
            .subscribe((res) => {
            this.parameterByEntityTypeM = res;
            this.parameterSearchUtil.entityArr = this.parameterByEntityTypeM;
            this.parameterSearchUtil.createSubscription();
        }, error => {
            console.log('error in getParameterByEntityType() - ', error);
        });
    }
    onParameterChange(selectedParameter) {
        this.parameterFC.patchValue(selectedParameter);
    }
    viewParameterData() {
        return __awaiter(this, void 0, void 0, function* () {
            this.chartData = [];
            this.alertService.resetAlertProperties(this.alertObj);
            if (this.isValidInputField()) {
                this.toastService.openToast(InvalidForm.INVALID_FORM_TITLE, InvalidForm.INVALID_FORM_MESSAGE, ToastrColor.ERROR);
                return;
            }
            if (this.startDate == this.endDate) {
                this.alertService.setAlertProperties(this.alertObj, ReportErrorEnum.INVALID_DATE_LABEL, ReportErrorEnum.INVALID_DATE_MESSAGE, MessageAlertTypeEnum.INFO, MessageAlertIconEnum.INFO_ICON);
                return;
            }
            this.showLoader = true;
            try {
                const requestData = this.createDataRequest();
                const aggregateRes = yield this.aggregateDataService.getAggregateData(this.orgID, requestData);
                this.showLoader = false;
                if (aggregateRes && aggregateRes.every(item => item.data.length == 0)) {
                    this.alertService.setAlertProperties(this.alertObj, DashboardErrorEnum.DATA_NOT_FOUND_LABEL, DashboardErrorEnum.DATA_NOT_FOUND_MESSAGE, MessageAlertTypeEnum.WARNING, MessageAlertIconEnum.WARNING_ICON);
                }
                else {
                    this.viewStateFlag = ChartViewStateEnum.HAS_DATA;
                    this.chartData = [];
                    aggregateRes.forEach((res) => {
                        if (res.data.length > 0) {
                            const newChartdata = new BasicAreaLineBarChart();
                            newChartdata.metaData = res.data.map(item => ({
                                name: moment(new Date(item.date)).format("YYYY-MM-DD HH:mm:ss"),
                                value: item.value
                            }));
                            newChartdata.unit = {
                                name: '',
                                code: res.unit,
                            };
                            newChartdata.yAxisLabel = res.paramLabel + ' (' + res.unit + ')';
                            newChartdata.showDataView = true;
                            newChartdata.showMagicType = true;
                            newChartdata.showRestore = true;
                            newChartdata.showDownloadImage = true;
                            newChartdata.chartTitle = {
                                name: res.entityName,
                                color: 'gray'
                            };
                            this.chartData.push(newChartdata);
                        }
                    });
                }
            }
            catch (error) {
                console.error(`Error in getAggregateData()`, error);
                this.alertService.setAlertProperties(this.alertObj, DashboardErrorEnum.INVALID_ERROR_LABEL, DashboardErrorEnum.INVALID_ERROR_MESSAGE, MessageAlertTypeEnum.DANGER, MessageAlertIconEnum.DANGER_ICON);
            }
            finally {
                this.showLoader = false;
            }
        });
    }
    isValidInputField() {
        const controls = [
            this.customDateInput.startDateFC,
            this.aggDurationInput.aggDurationFC,
            this.entityTypeInput.entityTypeFC,
            this.parameterFC
        ];
        controls.forEach(control => control.markAsTouched());
        return controls.some(control => control.invalid);
    }
    createDataRequest() {
        const requestData = new AggregateDataRequest();
        const isCounterParameter = this.getCounterParameter(this.parameterFC.value);
        requestData.startTime = this.startDate;
        requestData.endTime = this.endDate;
        requestData.interval = this.aggDuration;
        requestData.entityType = this.entityTypeInput.entityTypeFC.value;
        requestData.params = [
            {
                name: this.parameterFC.value,
                dsAgg: "avg",
                agg: "avg",
                sourceLoadType: isCounterParameter ? "all" : null,
                source_or_load: isCounterParameter ? "source" : null,
            }
        ];
        requestData.nullifyParams();
        return requestData;
    }
    getCounterParameter(paramMetricValue) {
        const parameter = this.tscCommonService.getUniqueObject(this.parameterM, 'isCounter', paramMetricValue);
        return parameter ? parameter.isCounter : false;
    }
}
ByParameterComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: ByParameterComponent, deps: [{ token: i1.StorageService }, { token: i2.AlertService }, { token: i3.ToastrService }, { token: i4.ParameterController }, { token: i5.ParameterService }, { token: i6.AggregateDataService }, { token: i7.TSCCommonService }], target: i0.ɵɵFactoryTarget.Component });
ByParameterComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: ByParameterComponent, selector: "lib-by-parameter", viewQueries: [{ propertyName: "customDateInput", first: true, predicate: ["customDateInput"], descendants: true }, { propertyName: "aggDurationInput", first: true, predicate: ["aggDurationInput"], descendants: true }, { propertyName: "entityTypeInput", first: true, predicate: ["entityTypeInput"], descendants: true }], ngImport: i0, template: "<div class=\"card main-card cardOverwrite h100\">\n    <div class=\"headerContainer\">\n        <div class=\"headerLeftContainer\">\n            <div class=\"pageTitle\">By Parameter</div>\n        </div>\n    </div>\n\n    <div class=\"card-body\">\n        <div class=\"row\">\n            <div class=\"col-sm-3\">\n                <lib-date-input #customDateInput (emitFilter)=\"dateInpChange()\" [materialFieldWidthInp]=\"true\"\n                    [materialFormFieldAppearanceInp]=\"materialFormFieldAppearance.FORM_FIELD_APPEARANCE\"\n                    [isMandatoryFieldInp]=\"true\" [dateInputTypeInp]=\"dateInputTypeEnum.CUSTOM_INPUT\"\n                    [dateTypeInp]=\"dateTypeEnum.EXCLUSIVE\" [showDefaultDurationInp]=\"true\" [showCdrRangeLabelInp]=\"true\"\n                    [labelInp]=\"'Select date'\" [timezoneInp]=\"timezone\" [rangeInp]=\"customRangeConstant\"\n                    [showTimeInCDRInp]=\"true\" [showRangeInp]=\"true\"\n                    [cdrFormatInp]=\"'YYYY-MM-DD HH:mm:ss'\"></lib-date-input>\n            </div>\n\n            <div class=\"col-sm-3\">\n                <lib-aggregation-duration #aggDurationInput\n                    (emitFilter)=\"aggDurationInpChange()\"></lib-aggregation-duration>\n            </div>\n\n            <div class=\"col-sm-3\">\n                <lib-entity-type #entityTypeInput (emitFilter)=\"entityTypeInpChange()\"></lib-entity-type>\n            </div>\n\n            <div class=\"col-sm-3\">\n                <mat-form-field class=\"matFieldWidth100\"\n                    [appearance]=\"materialFormFieldAppearance.FORM_FIELD_APPEARANCE\">\n                    <mat-label>Select parameter</mat-label>\n                    <mat-select (selectionChange)=\"onParameterChange($event.value)\" [formControl]=\"parameterFC\"\n                        required>\n                        <ng-container\n                            *ngIf=\"parameterByEntityTypeM && parameterByEntityTypeM.length > 0 && parameterByEntityTypeM[0]['id']; else noDataFound\">\n                            <mat-option>\n                                <ngx-mat-select-search [formControl]=\"parameterSearchUtil.filterFC\"\n                                    placeholderLabel=\"Search by name\" noEntriesFoundLabel=\"No matching name found.\">\n                                </ngx-mat-select-search>\n                            </mat-option>\n                            <mat-option *ngFor=\"let parameter of parameterSearchUtil.filteredEntities | async\"\n                                [value]=\"parameter.paramMetric\">\n                                {{ parameter.label }}\n                            </mat-option>\n                        </ng-container>\n                        <ng-template #noDataFound>\n                            <mat-option disabled>\n                                {{ commonConstant.NO_DATA_FOUND }}\n                            </mat-option>\n                        </ng-template>\n                    </mat-select>\n                    <mat-error *ngIf=\"!entityType\">\n                        Please select entity type first\n                    </mat-error>\n                    <mat-error *ngIf=\"parameterFC.touched && parameterFC.hasError('required') && entityType\">\n                        {{ FormErrorEnum.REQUIRED }}\n                    </mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <div class=\"float-end\">\n                    <button class=\"btn btn-sm btn-primary\" type=\"button\" (click)=\"viewParameterData()\" matRipple\n                        [matRippleCentered]=\"materialConstant.MAT_RIPPLE_CENTER\">\n                        {{ buttonLabelEnum.READ_BTN_LABEL }}\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row mt-2\">\n            <div class=\"col-sm-12\">\n                <lib-message-alert *ngIf=\"alertObj.showAlert\" [labelInp]=\"alertObj.alertLabel\"\n                    [contentInp]=\"alertObj.alertContent\" [messageAlertTypeInp]=\"alertObj.messageAlertType\"\n                    [messageAlertIconInp]=\"alertObj.messageAlertIcon\">\n                </lib-message-alert>\n            </div>\n        </div>\n\n        <div class=\"row mt-2\">\n            <ng-container *ngIf=\"showLoader; else dataTemplate\">\n                <lib-skeleton-loader [count]=\"3\" [appearance]=\"''\"\n                    [theme]=\"{ 'border-radius': '16px', height: '40px', 'background-color': 'rgb(230 232 235)' }\"></lib-skeleton-loader>\n            </ng-container>\n\n            <ng-template #dataTemplate>\n                <div class=\"row\" *ngIf=\"chartData.length > 0\">\n                    <div class=\"col-sm-6\" *ngFor=\"let data of chartData\">\n                        <mat-card class=\"cardOverwrite cardBackgroundColor mb-3\">\n                            <lib-basic-area-line-bar [chartTypeInp]=\"chartType\" [chartTitleInp]=\"data.chartTitle\"\n                                [viewStateInp]=\"viewStateFlag\" [dataInp]=\"data\">\n                            </lib-basic-area-line-bar>\n                        </mat-card>\n                    </div>\n                </div>\n            </ng-template>\n        </div>\n\n    </div>\n</div>", components: [{ type: i8.DateInputComponent, selector: "lib-date-input", inputs: ["materialFormFieldAppearanceInp", "materialFieldWidthInp", "frequencyInp", "dateInputTypeInp", "dateTypeInp", "timezoneInp", "labelInp", "rangeInp", "cdrFormatInp", "isMandatoryFieldInp", "showRangeInp", "showCdrRangeLabelInp", "showDefaultDurationInp", "showTimeInCDRInp"], outputs: ["emitFilter"] }, { type: i9.AggregationDurationComponent, selector: "lib-aggregation-duration", outputs: ["emitFilter"] }, { type: i10.EntityTypeComponent, selector: "lib-entity-type", outputs: ["emitFilter"] }, { type: i11.MatFormField, selector: "mat-form-field", inputs: ["color", "floatLabel", "appearance", "hideRequiredMarker", "hintLabel"], exportAs: ["matFormField"] }, { type: i12.MatSelect, selector: "mat-select", inputs: ["disabled", "disableRipple", "tabIndex"], exportAs: ["matSelect"] }, { type: i13.MatOption, selector: "mat-option", exportAs: ["matOption"] }, { type: i14.MatSelectSearchComponent, selector: "ngx-mat-select-search", inputs: ["placeholderLabel", "type", "closeIcon", "closeSvgIcon", "noEntriesFoundLabel", "indexAndLengthScreenReaderText", "clearSearchInput", "searching", "disableInitialFocus", "enableClearOnEscapePressed", "preventHomeEndKeyPropagation", "disableScrollToActiveOnOptionsChanged", "ariaLabel", "showToggleAllCheckbox", "toggleAllCheckboxChecked", "toggleAllCheckboxIndeterminate", "toggleAllCheckboxTooltipMessage", "toogleAllCheckboxTooltipPosition", "hideClearSearchButton", "alwaysRestoreSelectedOptionsMulti"], outputs: ["toggleAll"] }, { type: i7.MessageAlertComponent, selector: "lib-message-alert", inputs: ["messageAlertTypeInp", "messageAlertIconInp", "labelInp", "contentInp", "showCloseBtnInp"] }, { type: i7.SkeletonComponent, selector: "lib-skeleton-loader", inputs: ["count", "appearance", "theme"] }, { type: i15.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i16.BasicAreaLineBarComponent, selector: "lib-basic-area-line-bar", inputs: ["chartTypeInp", "viewStateInp", "chartTitleInp", "dataInp"] }], directives: [{ type: i11.MatLabel, selector: "mat-label" }, { type: i17.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { type: i17.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i17.FormControlDirective, selector: "[formControl]", inputs: ["disabled", "formControl", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }, { type: i18.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i18.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i11.MatError, selector: "mat-error", inputs: ["id"] }, { type: i13.MatRipple, selector: "[mat-ripple], [matRipple]", inputs: ["matRippleRadius", "matRippleDisabled", "matRippleTrigger", "matRippleColor", "matRippleUnbounded", "matRippleCentered", "matRippleAnimation"], exportAs: ["matRipple"] }], pipes: { "async": i18.AsyncPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: ByParameterComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-by-parameter',
                    templateUrl: './by-parameter.component.html',
                    styles: []
                }]
        }], ctorParameters: function () { return [{ type: i1.StorageService }, { type: i2.AlertService }, { type: i3.ToastrService }, { type: i4.ParameterController }, { type: i5.ParameterService }, { type: i6.AggregateDataService }, { type: i7.TSCCommonService }]; }, propDecorators: { customDateInput: [{
                type: ViewChild,
                args: ['customDateInput']
            }], aggDurationInput: [{
                type: ViewChild,
                args: ['aggDurationInput']
            }], entityTypeInput: [{
                type: ViewChild,
                args: ['entityTypeInput']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnktcGFyYW1ldGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvdHNjLWxpdGUvc3JjL2xpYi90c2MvY29tcG9uZW50L2Rhc2hib2FyZC9wYXJhbWV0ZXIvYnktcGFyYW1ldGVyL2J5LXBhcmFtZXRlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L3RzYy1saXRlL3NyYy9saWIvdHNjL2NvbXBvbmVudC9kYXNoYm9hcmQvcGFyYW1ldGVyL2J5LXBhcmFtZXRlci9ieS1wYXJhbWV0ZXIuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzdELE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFekQsT0FBTyxLQUFLLE1BQU0sTUFBTSxRQUFRLENBQUM7QUFFakMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLGVBQWUsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRWxGLE9BQU8sRUFBRSxTQUFTLEVBQWMsTUFBTSxtQ0FBbUMsQ0FBQztBQUMxRSxPQUFPLEVBQUUsS0FBSyxFQUFVLE1BQU0sK0JBQStCLENBQUM7QUFDOUQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sd0NBQXdDLENBQUM7QUFhOUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxpQkFBaUIsRUFBRSxzQkFBc0IsRUFBRSwyQkFBMkIsRUFBRSxvQkFBb0IsRUFBRSxvQkFBb0IsRUFBb0IsTUFBTSxxQkFBcUIsQ0FBQztBQUN6TyxPQUFPLEVBQUUsb0NBQW9DLEVBQUUsY0FBYyxFQUFzQixpQkFBaUIsRUFBRSxZQUFZLEVBQUUsTUFBTSxl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SSxJQUFJLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLO2dCQUM1QixLQUFLLEVBQUUsS0FBSztnQkFDWixHQUFHLEVBQUUsS0FBSztnQkFDVixjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSTtnQkFDakQsY0FBYyxFQUFFLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUk7YUFDdkQ7U0FDSixDQUFDO1FBQ0YsV0FBVyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBRTVCLE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxnQkFBZ0I7UUFDaEMsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3hHLE9BQU8sU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbkQsQ0FBQzs7a0hBdE1RLG9CQUFvQjtzR0FBcEIsb0JBQW9CLHdYQ2xDakMsNHZLQXNHTTs0RkRwRU8sb0JBQW9CO2tCQU5oQyxTQUFTO21CQUFDO29CQUNQLFFBQVEsRUFBRSxrQkFBa0I7b0JBQzVCLFdBQVcsRUFBRSwrQkFBK0I7b0JBQzVDLE1BQU0sRUFBRSxFQUNQO2lCQUNKOytSQW9DaUMsZUFBZTtzQkFBNUMsU0FBUzt1QkFBQyxpQkFBaUI7Z0JBQ0csZ0JBQWdCO3NCQUE5QyxTQUFTO3VCQUFDLGtCQUFrQjtnQkFDQyxlQUFlO3NCQUE1QyxTQUFTO3VCQUFDLGlCQUFpQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Db250cm9sLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuaW1wb3J0IHsgRGFzaGJvYXJkRXJyb3JFbnVtLCBSZXBvcnRFcnJvckVudW0gfSBmcm9tICcuLi8uLi8uLi8uLi9lbnVtL2Vycm9yLmVudW0nO1xuXG5pbXBvcnQgeyBQYXJhbWV0ZXIsIFBhcmFtZXRlck0gfSBmcm9tICcuLi8uLi8uLi8uLi9tb2RlbC9wYXJhbWV0ZXIubW9kZWwnO1xuaW1wb3J0IHsgQWxlcnQsIEFsZXJ0TSB9IGZyb20gJy4uLy4uLy4uLy4uL21vZGVsL2FsZXJ0Lm1vZGVsJztcbmltcG9ydCB7IEFnZ3JlZ2F0ZURhdGFSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vbW9kZWwvYWdncmVnYXRlLWRhdGEubW9kZWwnO1xuXG5pbXBvcnQgeyBBZ2dyZWdhdGlvbkR1cmF0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vZHJvcGRvd24vYWdncmVnYXRpb24tZHVyYXRpb24vYWdncmVnYXRpb24tZHVyYXRpb24uY29tcG9uZW50JztcbmltcG9ydCB7IEVudGl0eVR5cGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi8uLi9kcm9wZG93bi9lbnRpdHktdHlwZS9lbnRpdHktdHlwZS5jb21wb25lbnQnO1xuXG5pbXBvcnQgeyBQYXJhbWV0ZXJDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29udHJvbGxlci9wYXJhbWV0ZXIuY29udHJvbGxlcic7XG5cbmltcG9ydCB7IEFnZ3JlZ2F0ZURhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZS9hZ2dyZWdhdGUtZGF0YS5zZXJ2aWNlJztcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XG5pbXBvcnQgeyBQYXJhbWV0ZXJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZS9wYXJhbWV0ZXIuc2VydmljZSc7XG5cbi8vIHRzYy1saWJyYXJ5XG5pbXBvcnQgeyBTdG9yYWdlU2VydmljZSB9IGZyb20gJ0BsaWJyYXJ5L3N0b3JhZ2Utc2VydmljZSc7XG5pbXBvcnQgeyBCdXR0b25MYWJlbEVudW0sIENPTU1PTl9DT05TVEFOVCwgRm9ybUVycm9yRW51bSwgSW52YWxpZEZvcm0sIE1BVEVSSUFMX0NPTlNUQU5ULCBNYXRTZWxlY3RTZWFyY2hTZXJ2aWNlLCBNYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2UsIE1lc3NhZ2VBbGVydEljb25FbnVtLCBNZXNzYWdlQWxlcnRUeXBlRW51bSwgVFNDQ29tbW9uU2VydmljZSB9IGZyb20gJ0BsaWJyYXJ5L3RzYy1jb21tb24nO1xuaW1wb3J0IHsgQ1VTVE9NX1JBTkdFX0NPTlNUQU5UX0VYQ0xVU0lWRV9EQVRFLCBEYXRlRm9ybWF0RW51bSwgRGF0ZUlucHV0Q29tcG9uZW50LCBEYXRlSW5wdXRUeXBlRW51bSwgRGF0ZVR5cGVFbnVtIH0gZnJvbSAnQGxpYnJhcnkvZGF0ZSc7XG5pbXBvcnQgeyBUb2FzdHJDb2xvciwgVG9hc3RyU2VydmljZSB9IGZyb20gJ0BsaWJyYXJ5L3RvYXN0ci1zZXJ2aWNlJztcbmltcG9ydCB7IEJhc2ljQXJlYUxpbmVCYXJDaGFydCwgQ2hhcnRUaXRsZSwgQ2hhcnRUeXBlRW51bSwgQ2hhcnRWaWV3U3RhdGVFbnVtIH0gZnJvbSAnQGxpYnJhcnkvZWNoYXJ0Jztcbi8vIC90c2MtbGlicmFyeS9cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdsaWItYnktcGFyYW1ldGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYnktcGFyYW1ldGVyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZXM6IFtcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIEJ5UGFyYW1ldGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIG1hdGVyaWFsQ29uc3RhbnQgPSBNQVRFUklBTF9DT05TVEFOVDtcbiAgICBjb21tb25Db25zdGFudCA9IENPTU1PTl9DT05TVEFOVDtcbiAgICBjdXN0b21SYW5nZUNvbnN0YW50ID0gQ1VTVE9NX1JBTkdFX0NPTlNUQU5UX0VYQ0xVU0lWRV9EQVRFO1xuXG4gICAgYnV0dG9uTGFiZWxFbnVtID0gQnV0dG9uTGFiZWxFbnVtO1xuICAgIG1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZSA9IE1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZTtcbiAgICBkYXRlRm9ybWF0RW51bSA9IERhdGVGb3JtYXRFbnVtO1xuICAgIGRhdGVJbnB1dFR5cGVFbnVtID0gRGF0ZUlucHV0VHlwZUVudW07XG4gICAgZGF0ZVR5cGVFbnVtID0gRGF0ZVR5cGVFbnVtO1xuICAgIEZvcm1FcnJvckVudW0gPSBGb3JtRXJyb3JFbnVtO1xuXG4gICAgb3JnSUQ6IGFueTtcbiAgICB0aW1lem9uZTogc3RyaW5nO1xuICAgIHN0YXJ0RGF0ZTogc3RyaW5nO1xuICAgIGVuZERhdGU6IHN0cmluZztcbiAgICBhZ2dEdXJhdGlvbjogc3RyaW5nO1xuICAgIGVudGl0eVR5cGU6IHN0cmluZztcbiAgICBlbnRpdHlJRDogYW55O1xuICAgIHNob3dBbGVydDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNob3dMb2FkZXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHBhcmFtZXRlck0gPSBbbmV3IFBhcmFtZXRlcigpXTtcbiAgICBwYXJhbWV0ZXJCeUVudGl0eVR5cGVNID0gW25ldyBQYXJhbWV0ZXIoKV07XG4gICAgYWxlcnRPYmo6IEFsZXJ0TSA9IG5ldyBBbGVydCgpO1xuXG4gICAgcGFyYW1ldGVyRkM6IEZvcm1Db250cm9sID0gbmV3IEZvcm1Db250cm9sKCcnLCBbVmFsaWRhdG9ycy5yZXF1aXJlZF0pO1xuICAgIHBhcmFtZXRlclNlYXJjaFV0aWw6IE1hdFNlbGVjdFNlYXJjaFNlcnZpY2UgPSBuZXcgTWF0U2VsZWN0U2VhcmNoU2VydmljZShbJ2xhYmVsJ10pO1xuXG4gICAgY2hhcnRUeXBlOiBzdHJpbmcgPSBDaGFydFR5cGVFbnVtLkJBU0lDX0xJTkVfQ0hBUlQ7XG4gICAgdmlld1N0YXRlRmxhZzogc3RyaW5nID0gQ2hhcnRWaWV3U3RhdGVFbnVtLkxPQURJTkc7XG4gICAgY2hhcnRUaXRsZSA9IG5ldyBDaGFydFRpdGxlKCk7XG4gICAgY2hhcnREYXRhOiBCYXNpY0FyZWFMaW5lQmFyQ2hhcnRbXSA9IFtdO1xuXG4gICAgQFZpZXdDaGlsZCgnY3VzdG9tRGF0ZUlucHV0JykgY3VzdG9tRGF0ZUlucHV0OiBEYXRlSW5wdXRDb21wb25lbnQ7XG4gICAgQFZpZXdDaGlsZCgnYWdnRHVyYXRpb25JbnB1dCcpIGFnZ0R1cmF0aW9uSW5wdXQ6IEFnZ3JlZ2F0aW9uRHVyYXRpb25Db21wb25lbnQ7XG4gICAgQFZpZXdDaGlsZCgnZW50aXR5VHlwZUlucHV0JykgZW50aXR5VHlwZUlucHV0OiBFbnRpdHlUeXBlQ29tcG9uZW50O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgc3RvcmFnZVNlcnZpY2U6IFN0b3JhZ2VTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHRvYXN0U2VydmljZTogVG9hc3RyU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBwYXJhbWV0ZXJDb250cm9sbGVyOiBQYXJhbWV0ZXJDb250cm9sbGVyLFxuICAgICAgICBwcml2YXRlIHBhcmFtZXRlclNlcnZpY2U6IFBhcmFtZXRlclNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYWdncmVnYXRlRGF0YVNlcnZpY2U6IEFnZ3JlZ2F0ZURhdGFTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHRzY0NvbW1vblNlcnZpY2U6IFRTQ0NvbW1vblNlcnZpY2UsXG4gICAgKSB7IH1cblxuICAgIG5nT25Jbml0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLm9yZ0lEID0gdGhpcy5zdG9yYWdlU2VydmljZS5nZXRTdG9yYWdlKCdjdXJyZW50T3JnSUQnKTtcbiAgICAgICAgdGhpcy50aW1lem9uZSA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgndGltZXpvbmUnKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRQYXJhbWV0ZXJCeUxheW91dElEKCkge1xuICAgICAgICB0aGlzLnBhcmFtZXRlck0gPSA8UGFyYW1ldGVyTVtdPmF3YWl0IHRoaXMucGFyYW1ldGVyU2VydmljZS5nZXRQYXJhbWV0ZXJCeUxheW91dElEKHRoaXMub3JnSUQpO1xuICAgIH1cblxuICAgIGRhdGVJbnBDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuc3RhcnREYXRlID0gdGhpcy5jdXN0b21EYXRlSW5wdXQuc3RhcnREYXRlRkMudmFsdWU7XG4gICAgICAgIHRoaXMuZW5kRGF0ZSA9IHRoaXMuY3VzdG9tRGF0ZUlucHV0LmVuZERhdGVGQy52YWx1ZTtcbiAgICB9XG5cbiAgICBhZ2dEdXJhdGlvbklucENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5hZ2dEdXJhdGlvbiA9IHRoaXMuYWdnRHVyYXRpb25JbnB1dC5hZ2dEdXJhdGlvbkZDLnZhbHVlO1xuICAgIH1cblxuICAgIGVudGl0eVR5cGVJbnBDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZW50aXR5VHlwZSA9IHRoaXMuZW50aXR5VHlwZUlucHV0LmVudGl0eVR5cGVGQy52YWx1ZTtcblxuICAgICAgICB0aGlzLmdldFBhcmFtZXRlckJ5RW50aXR5VHlwZSh0aGlzLmVudGl0eVR5cGUpO1xuICAgIH1cblxuICAgIGdldFBhcmFtZXRlckJ5RW50aXR5VHlwZShlbnRpdHlUeXBlKSB7XG4gICAgICAgIGxldCByZXF1ZXN0Qm9keSA9IHt9O1xuICAgICAgICByZXF1ZXN0Qm9keVsnZW50aXR5VHlwZSddID0gW2VudGl0eVR5cGVdO1xuXG4gICAgICAgIHRoaXMucGFyYW1ldGVyQ29udHJvbGxlci5nZXRQYXJhbWV0ZXJCeUVudGl0eVR5cGUodGhpcy5vcmdJRCwgcmVxdWVzdEJvZHkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChyZXM6IFBhcmFtZXRlck1bXSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1ldGVyQnlFbnRpdHlUeXBlTSA9IHJlcztcblxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1ldGVyU2VhcmNoVXRpbC5lbnRpdHlBcnIgPSB0aGlzLnBhcmFtZXRlckJ5RW50aXR5VHlwZU07XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJTZWFyY2hVdGlsLmNyZWF0ZVN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBpbiBnZXRQYXJhbWV0ZXJCeUVudGl0eVR5cGUoKSAtICcsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblBhcmFtZXRlckNoYW5nZShzZWxlY3RlZFBhcmFtZXRlcikge1xuICAgICAgICB0aGlzLnBhcmFtZXRlckZDLnBhdGNoVmFsdWUoc2VsZWN0ZWRQYXJhbWV0ZXIpO1xuICAgIH1cblxuICAgIGFzeW5jIHZpZXdQYXJhbWV0ZXJEYXRhKCkge1xuICAgICAgICB0aGlzLmNoYXJ0RGF0YSA9IFtdO1xuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5yZXNldEFsZXJ0UHJvcGVydGllcyh0aGlzLmFsZXJ0T2JqKTtcblxuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkSW5wdXRGaWVsZCgpKSB7XG4gICAgICAgICAgICB0aGlzLnRvYXN0U2VydmljZS5vcGVuVG9hc3QoSW52YWxpZEZvcm0uSU5WQUxJRF9GT1JNX1RJVExFLCBJbnZhbGlkRm9ybS5JTlZBTElEX0ZPUk1fTUVTU0FHRSwgVG9hc3RyQ29sb3IuRVJST1IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhcnREYXRlID09IHRoaXMuZW5kRGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc2V0QWxlcnRQcm9wZXJ0aWVzKHRoaXMuYWxlcnRPYmosIFJlcG9ydEVycm9yRW51bS5JTlZBTElEX0RBVEVfTEFCRUwsIFJlcG9ydEVycm9yRW51bS5JTlZBTElEX0RBVEVfTUVTU0FHRSwgTWVzc2FnZUFsZXJ0VHlwZUVudW0uSU5GTywgTWVzc2FnZUFsZXJ0SWNvbkVudW0uSU5GT19JQ09OKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hvd0xvYWRlciA9IHRydWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gdGhpcy5jcmVhdGVEYXRhUmVxdWVzdCgpO1xuICAgICAgICAgICAgY29uc3QgYWdncmVnYXRlUmVzID0gYXdhaXQgdGhpcy5hZ2dyZWdhdGVEYXRhU2VydmljZS5nZXRBZ2dyZWdhdGVEYXRhKHRoaXMub3JnSUQsIHJlcXVlc3REYXRhKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93TG9hZGVyID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChhZ2dyZWdhdGVSZXMgJiYgYWdncmVnYXRlUmVzLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5kYXRhLmxlbmd0aCA9PSAwICkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zZXRBbGVydFByb3BlcnRpZXModGhpcy5hbGVydE9iaiwgRGFzaGJvYXJkRXJyb3JFbnVtLkRBVEFfTk9UX0ZPVU5EX0xBQkVMLCBEYXNoYm9hcmRFcnJvckVudW0uREFUQV9OT1RfRk9VTkRfTUVTU0FHRSwgTWVzc2FnZUFsZXJ0VHlwZUVudW0uV0FSTklORywgTWVzc2FnZUFsZXJ0SWNvbkVudW0uV0FSTklOR19JQ09OKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3U3RhdGVGbGFnID0gQ2hhcnRWaWV3U3RhdGVFbnVtLkhBU19EQVRBO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnREYXRhID0gW107XG5cbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGVSZXMuZm9yRWFjaCgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NoYXJ0ZGF0YTogQmFzaWNBcmVhTGluZUJhckNoYXJ0ID0gbmV3IEJhc2ljQXJlYUxpbmVCYXJDaGFydCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGFydGRhdGEubWV0YURhdGEgPSByZXMuZGF0YS5tYXAoaXRlbSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG1vbWVudChuZXcgRGF0ZShpdGVtLmRhdGUpKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tOnNzXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGFydGRhdGEudW5pdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiByZXMudW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGFydGRhdGEueUF4aXNMYWJlbCA9IHJlcy5wYXJhbUxhYmVsICsgJyAoJyArIHJlcy51bml0ICsgJyknO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLnNob3dEYXRhVmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGFydGRhdGEuc2hvd01hZ2ljVHlwZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGFydGRhdGEuc2hvd1Jlc3RvcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLnNob3dEb3dubG9hZEltYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NoYXJ0ZGF0YS5jaGFydFRpdGxlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5lbnRpdHlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnZ3JheSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFydERhdGEucHVzaChuZXdDaGFydGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcblxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gZ2V0QWdncmVnYXRlRGF0YSgpYCwgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc2V0QWxlcnRQcm9wZXJ0aWVzKHRoaXMuYWxlcnRPYmosIERhc2hib2FyZEVycm9yRW51bS5JTlZBTElEX0VSUk9SX0xBQkVMLCBEYXNoYm9hcmRFcnJvckVudW0uSU5WQUxJRF9FUlJPUl9NRVNTQUdFLCBNZXNzYWdlQWxlcnRUeXBlRW51bS5EQU5HRVIsIE1lc3NhZ2VBbGVydEljb25FbnVtLkRBTkdFUl9JQ09OKTtcblxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5zaG93TG9hZGVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1ZhbGlkSW5wdXRGaWVsZCgpIHtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICAgICAgICB0aGlzLmN1c3RvbURhdGVJbnB1dC5zdGFydERhdGVGQyxcbiAgICAgICAgICAgIHRoaXMuYWdnRHVyYXRpb25JbnB1dC5hZ2dEdXJhdGlvbkZDLFxuICAgICAgICAgICAgdGhpcy5lbnRpdHlUeXBlSW5wdXQuZW50aXR5VHlwZUZDLFxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJGQ1xuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiBjb250cm9sLm1hcmtBc1RvdWNoZWQoKSk7XG4gICAgICAgIHJldHVybiBjb250cm9scy5zb21lKGNvbnRyb2wgPT4gY29udHJvbC5pbnZhbGlkKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEYXRhUmVxdWVzdCgpIHtcblxuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IG5ldyBBZ2dyZWdhdGVEYXRhUmVxdWVzdCgpO1xuXG4gICAgICAgIGNvbnN0IGlzQ291bnRlclBhcmFtZXRlciA9IHRoaXMuZ2V0Q291bnRlclBhcmFtZXRlcih0aGlzLnBhcmFtZXRlckZDLnZhbHVlKTtcblxuICAgICAgICByZXF1ZXN0RGF0YS5zdGFydFRpbWUgPSB0aGlzLnN0YXJ0RGF0ZTtcbiAgICAgICAgcmVxdWVzdERhdGEuZW5kVGltZSA9IHRoaXMuZW5kRGF0ZTtcbiAgICAgICAgcmVxdWVzdERhdGEuaW50ZXJ2YWwgPSB0aGlzLmFnZ0R1cmF0aW9uO1xuICAgICAgICByZXF1ZXN0RGF0YS5lbnRpdHlUeXBlID0gdGhpcy5lbnRpdHlUeXBlSW5wdXQuZW50aXR5VHlwZUZDLnZhbHVlO1xuICAgICAgICByZXF1ZXN0RGF0YS5wYXJhbXMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wYXJhbWV0ZXJGQy52YWx1ZSxcbiAgICAgICAgICAgICAgICBkc0FnZzogXCJhdmdcIixcbiAgICAgICAgICAgICAgICBhZ2c6IFwiYXZnXCIsXG4gICAgICAgICAgICAgICAgc291cmNlTG9hZFR5cGU6IGlzQ291bnRlclBhcmFtZXRlciA/IFwiYWxsXCIgOiBudWxsLFxuICAgICAgICAgICAgICAgIHNvdXJjZV9vcl9sb2FkOiBpc0NvdW50ZXJQYXJhbWV0ZXIgPyBcInNvdXJjZVwiIDogbnVsbCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgcmVxdWVzdERhdGEubnVsbGlmeVBhcmFtcygpO1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbiAgICB9XG5cbiAgICBnZXRDb3VudGVyUGFyYW1ldGVyKHBhcmFtTWV0cmljVmFsdWUpIHtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyID0gdGhpcy50c2NDb21tb25TZXJ2aWNlLmdldFVuaXF1ZU9iamVjdCh0aGlzLnBhcmFtZXRlck0sICdpc0NvdW50ZXInLCBwYXJhbU1ldHJpY1ZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlciA/IHBhcmFtZXRlci5pc0NvdW50ZXIgOiBmYWxzZTtcbiAgICB9XG5cbn0iLCI8ZGl2IGNsYXNzPVwiY2FyZCBtYWluLWNhcmQgY2FyZE92ZXJ3cml0ZSBoMTAwXCI+XG4gICAgPGRpdiBjbGFzcz1cImhlYWRlckNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyTGVmdENvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2VUaXRsZVwiPkJ5IFBhcmFtZXRlcjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPGxpYi1kYXRlLWlucHV0ICNjdXN0b21EYXRlSW5wdXQgKGVtaXRGaWx0ZXIpPVwiZGF0ZUlucENoYW5nZSgpXCIgW21hdGVyaWFsRmllbGRXaWR0aElucF09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgW21hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZUlucF09XCJtYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2UuRk9STV9GSUVMRF9BUFBFQVJBTkNFXCJcbiAgICAgICAgICAgICAgICAgICAgW2lzTWFuZGF0b3J5RmllbGRJbnBdPVwidHJ1ZVwiIFtkYXRlSW5wdXRUeXBlSW5wXT1cImRhdGVJbnB1dFR5cGVFbnVtLkNVU1RPTV9JTlBVVFwiXG4gICAgICAgICAgICAgICAgICAgIFtkYXRlVHlwZUlucF09XCJkYXRlVHlwZUVudW0uRVhDTFVTSVZFXCIgW3Nob3dEZWZhdWx0RHVyYXRpb25JbnBdPVwidHJ1ZVwiIFtzaG93Q2RyUmFuZ2VMYWJlbElucF09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgW2xhYmVsSW5wXT1cIidTZWxlY3QgZGF0ZSdcIiBbdGltZXpvbmVJbnBdPVwidGltZXpvbmVcIiBbcmFuZ2VJbnBdPVwiY3VzdG9tUmFuZ2VDb25zdGFudFwiXG4gICAgICAgICAgICAgICAgICAgIFtzaG93VGltZUluQ0RSSW5wXT1cInRydWVcIiBbc2hvd1JhbmdlSW5wXT1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBbY2RyRm9ybWF0SW5wXT1cIidZWVlZLU1NLUREIEhIOm1tOnNzJ1wiPjwvbGliLWRhdGUtaW5wdXQ+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPGxpYi1hZ2dyZWdhdGlvbi1kdXJhdGlvbiAjYWdnRHVyYXRpb25JbnB1dFxuICAgICAgICAgICAgICAgICAgICAoZW1pdEZpbHRlcik9XCJhZ2dEdXJhdGlvbklucENoYW5nZSgpXCI+PC9saWItYWdncmVnYXRpb24tZHVyYXRpb24+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPGxpYi1lbnRpdHktdHlwZSAjZW50aXR5VHlwZUlucHV0IChlbWl0RmlsdGVyKT1cImVudGl0eVR5cGVJbnBDaGFuZ2UoKVwiPjwvbGliLWVudGl0eS10eXBlPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz1cIm1hdEZpZWxkV2lkdGgxMDBcIlxuICAgICAgICAgICAgICAgICAgICBbYXBwZWFyYW5jZV09XCJtYXRlcmlhbEZvcm1GaWVsZEFwcGVhcmFuY2UuRk9STV9GSUVMRF9BUFBFQVJBTkNFXCI+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtbGFiZWw+U2VsZWN0IHBhcmFtZXRlcjwvbWF0LWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8bWF0LXNlbGVjdCAoc2VsZWN0aW9uQ2hhbmdlKT1cIm9uUGFyYW1ldGVyQ2hhbmdlKCRldmVudC52YWx1ZSlcIiBbZm9ybUNvbnRyb2xdPVwicGFyYW1ldGVyRkNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKm5nSWY9XCJwYXJhbWV0ZXJCeUVudGl0eVR5cGVNICYmIHBhcmFtZXRlckJ5RW50aXR5VHlwZU0ubGVuZ3RoID4gMCAmJiBwYXJhbWV0ZXJCeUVudGl0eVR5cGVNWzBdWydpZCddOyBlbHNlIG5vRGF0YUZvdW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZ3gtbWF0LXNlbGVjdC1zZWFyY2ggW2Zvcm1Db250cm9sXT1cInBhcmFtZXRlclNlYXJjaFV0aWwuZmlsdGVyRkNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJMYWJlbD1cIlNlYXJjaCBieSBuYW1lXCIgbm9FbnRyaWVzRm91bmRMYWJlbD1cIk5vIG1hdGNoaW5nIG5hbWUgZm91bmQuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmd4LW1hdC1zZWxlY3Qtc2VhcmNoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LW9wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgcGFyYW1ldGVyIG9mIHBhcmFtZXRlclNlYXJjaFV0aWwuZmlsdGVyZWRFbnRpdGllcyB8IGFzeW5jXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlXT1cInBhcmFtZXRlci5wYXJhbU1ldHJpY1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBwYXJhbWV0ZXIubGFiZWwgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjbm9EYXRhRm91bmQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1vcHRpb24gZGlzYWJsZWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7IGNvbW1vbkNvbnN0YW50Lk5PX0RBVEFfRk9VTkQgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICA8L21hdC1zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDxtYXQtZXJyb3IgKm5nSWY9XCIhZW50aXR5VHlwZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgUGxlYXNlIHNlbGVjdCBlbnRpdHkgdHlwZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICA8L21hdC1lcnJvcj5cbiAgICAgICAgICAgICAgICAgICAgPG1hdC1lcnJvciAqbmdJZj1cInBhcmFtZXRlckZDLnRvdWNoZWQgJiYgcGFyYW1ldGVyRkMuaGFzRXJyb3IoJ3JlcXVpcmVkJykgJiYgZW50aXR5VHlwZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3sgRm9ybUVycm9yRW51bS5SRVFVSVJFRCB9fVxuICAgICAgICAgICAgICAgICAgICA8L21hdC1lcnJvcj5cbiAgICAgICAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxvYXQtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5XCIgdHlwZT1cImJ1dHRvblwiIChjbGljayk9XCJ2aWV3UGFyYW1ldGVyRGF0YSgpXCIgbWF0UmlwcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICBbbWF0UmlwcGxlQ2VudGVyZWRdPVwibWF0ZXJpYWxDb25zdGFudC5NQVRfUklQUExFX0NFTlRFUlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3sgYnV0dG9uTGFiZWxFbnVtLlJFQURfQlROX0xBQkVMIH19XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXQtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMlwiPlxuICAgICAgICAgICAgICAgIDxsaWItbWVzc2FnZS1hbGVydCAqbmdJZj1cImFsZXJ0T2JqLnNob3dBbGVydFwiIFtsYWJlbElucF09XCJhbGVydE9iai5hbGVydExhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgW2NvbnRlbnRJbnBdPVwiYWxlcnRPYmouYWxlcnRDb250ZW50XCIgW21lc3NhZ2VBbGVydFR5cGVJbnBdPVwiYWxlcnRPYmoubWVzc2FnZUFsZXJ0VHlwZVwiXG4gICAgICAgICAgICAgICAgICAgIFttZXNzYWdlQWxlcnRJY29uSW5wXT1cImFsZXJ0T2JqLm1lc3NhZ2VBbGVydEljb25cIj5cbiAgICAgICAgICAgICAgICA8L2xpYi1tZXNzYWdlLWFsZXJ0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXQtMlwiPlxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInNob3dMb2FkZXI7IGVsc2UgZGF0YVRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgPGxpYi1za2VsZXRvbi1sb2FkZXIgW2NvdW50XT1cIjNcIiBbYXBwZWFyYW5jZV09XCInJ1wiXG4gICAgICAgICAgICAgICAgICAgIFt0aGVtZV09XCJ7ICdib3JkZXItcmFkaXVzJzogJzE2cHgnLCBoZWlnaHQ6ICc0MHB4JywgJ2JhY2tncm91bmQtY29sb3InOiAncmdiKDIzMCAyMzIgMjM1KScgfVwiPjwvbGliLXNrZWxldG9uLWxvYWRlcj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgI2RhdGFUZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJjaGFydERhdGEubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTZcIiAqbmdGb3I9XCJsZXQgZGF0YSBvZiBjaGFydERhdGFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXQtY2FyZCBjbGFzcz1cImNhcmRPdmVyd3JpdGUgY2FyZEJhY2tncm91bmRDb2xvciBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpYi1iYXNpYy1hcmVhLWxpbmUtYmFyIFtjaGFydFR5cGVJbnBdPVwiY2hhcnRUeXBlXCIgW2NoYXJ0VGl0bGVJbnBdPVwiZGF0YS5jaGFydFRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3ZpZXdTdGF0ZUlucF09XCJ2aWV3U3RhdGVGbGFnXCIgW2RhdGFJbnBdPVwiZGF0YVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGliLWJhc2ljLWFyZWEtbGluZS1iYXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L21hdC1jYXJkPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+XG48L2Rpdj4iXX0=