import { Component, ViewChild } from '@angular/core';
import * as moment from 'moment';
import { Alert } from '../../../../model/alert.model';
import { EntityWithChildren } from '../../../../model/entity.model';
import { DashboardErrorEnum, ReportErrorEnum } from '../../../../enum/error.enum';
import { EntityDialogComponent } from '../../../_shared/dialog/entity/entity.component';
import { ButtonLabelEnum, COMMON_CONSTANT, InvalidForm, MATERIAL_CONSTANT, MaterialFormFieldAppearance, MessageAlertIconEnum, MessageAlertTypeEnum } from '@library/tsc-common';
import { CUSTOM_RANGE_CONSTANT_EXCLUSIVE_DATE, DateFormatEnum, DateInputTypeEnum, DateTypeEnum } from '@library/date';
import { ToastrColor } from '@library/toastr-service';
import { BasicAreaLineBarChart, ChartTitle, ChartTypeEnum, ChartViewStateEnum } from '@library/echart';
import { FormControl, Validators } from '@angular/forms';
import * as i0 from "@angular/core";
import * as i1 from "@library/storage-service";
import * as i2 from "../../../../service/alert.service";
import * as i3 from "@library/toastr-service";
import * as i4 from "../../../../controller/entity.controller";
import * as i5 from "../../../../controller/aggregate-data.controller";
import * as i6 from "@angular/material/dialog";
import * as i7 from "@library/date";
import * as i8 from "../../../dropdown/aggregation-duration/aggregation-duration.component";
import * as i9 from "../../../dropdown/entity-type/entity-type.component";
import * as i10 from "@library/tsc-common";
import * as i11 from "@angular/material/card";
import * as i12 from "@library/echart";
import * as i13 from "@angular/common";
import * as i14 from "@angular/material/core";
// /tsc-library/
export class ByEntityComponent {
    constructor(storageService, alertService, toastService, entityController, aggregateDataController, dialog) {
        this.storageService = storageService;
        this.alertService = alertService;
        this.toastService = toastService;
        this.entityController = entityController;
        this.aggregateDataController = aggregateDataController;
        this.dialog = dialog;
        this.materialConstant = MATERIAL_CONSTANT;
        this.commonConstant = COMMON_CONSTANT;
        this.customRangeConstant = CUSTOM_RANGE_CONSTANT_EXCLUSIVE_DATE;
        this.materialFormFieldAppearance = MaterialFormFieldAppearance;
        this.dateFormatEnum = DateFormatEnum;
        this.dateInputTypeEnum = DateInputTypeEnum;
        this.dateTypeEnum = DateTypeEnum;
        this.buttonLabelEnum = ButtonLabelEnum;
        this.selectEntityType = false;
        this.isViewData = false;
        this.showAlert = false;
        this.showLoader = false;
        this.entityByEntityTypeM = [new EntityWithChildren()];
        this.alertObj = new Alert();
        this.entityFC = new FormControl([], [Validators.required]);
        this.chartType = ChartTypeEnum.BASIC_LINE_CHART;
        this.viewStateFlag = ChartViewStateEnum.LOADING;
        this.chartTitle = new ChartTitle();
        this.chartData = [];
    }
    ngOnInit() {
        this.orgID = this.storageService.getStorage('currentOrgID');
        this.timezone = this.storageService.getStorage('timezone');
    }
    dateInpChange() {
        this.startDate = this.customDateInput.startDateFC.value;
        this.endDate = this.customDateInput.endDateFC.value;
    }
    aggDurationInpChange() {
        this.aggDuration = this.aggDurationInput.aggDurationFC.value;
    }
    entityTypeInpChange() {
        this.entityType = this.entityTypeInput.entityTypeFC.value;
        this.entityFC.reset([]);
        this.getEntitiesByEntityType(this.entityType);
    }
    getEntitiesByEntityType(entityType) {
        let requestBody = {};
        requestBody['entityType'] = [entityType];
        this.entityController.getEntitiesByEntityType(this.orgID, requestBody)
            .subscribe((res) => {
            this.entityByEntityTypeM = [res];
        }, error => {
            console.log('error in getEntitiesByEntityType() - ', error);
        });
    }
    openEntityDialog() {
        if (this.entityType) {
            const dialog = this.dialog.open(EntityDialogComponent, {
                data: {
                    entityType: this.entityTypeInput.entityTypeFC.value,
                    entityObject: this.entityByEntityTypeM
                },
                width: '50vw',
                height: '100%',
                position: { right: '-2px', top: '0px' },
            });
            dialog.afterClosed().subscribe((dialogRes) => {
                if (dialogRes.entityID) {
                    this.entityID = dialogRes.entityID;
                    this.entityFC.patchValue(this.entityID);
                }
            });
        }
        else {
            this.selectEntityType = true;
        }
    }
    viewEntityParameterData() {
        this.chartData = [];
        this.isViewData = true;
        this.alertService.resetAlertProperties(this.alertObj);
        if (this.isValidInputField()) {
            this.toastService.openToast(InvalidForm.INVALID_FORM_TITLE, InvalidForm.INVALID_FORM_MESSAGE, ToastrColor.ERROR);
            return;
        }
        if (this.startDate == this.endDate) {
            this.alertService.setAlertProperties(this.alertObj, ReportErrorEnum.INVALID_DATE_LABEL, ReportErrorEnum.INVALID_DATE_MESSAGE, MessageAlertTypeEnum.INFO, MessageAlertIconEnum.INFO_ICON);
            return;
        }
        this.showLoader = true;
        try {
            const requestData = this.createDataRequest();
            this.aggregateDataController.getEntityParameterData(this.orgID, requestData)
                .subscribe((entityParamRes) => {
                let entityParameterData = entityParamRes === null || entityParamRes === void 0 ? void 0 : entityParamRes.paramData;
                this.showLoader = false;
                if (entityParameterData && entityParameterData.every(item => item.data.length == 0)) {
                    this.alertService.setAlertProperties(this.alertObj, DashboardErrorEnum.DATA_NOT_FOUND_LABEL, DashboardErrorEnum.DATA_NOT_FOUND_MESSAGE, MessageAlertTypeEnum.WARNING, MessageAlertIconEnum.WARNING_ICON);
                }
                else {
                    this.viewStateFlag = ChartViewStateEnum.HAS_DATA;
                    this.chartData = [];
                    entityParameterData.forEach((res) => {
                        if (res.data.length > 0) {
                            const newChartdata = new BasicAreaLineBarChart();
                            newChartdata.metaData = res.data.map(item => ({
                                name: moment(new Date(item.date)).format("YYYY-MM-DD HH:mm:ss"),
                                value: item.value
                            }));
                            newChartdata.unit = {
                                name: '',
                                code: res.unit,
                            };
                            newChartdata.markLine = [
                                {
                                    label: 'Avg',
                                    value: res.avgValue,
                                    color: '#e83e8c'
                                },
                                {
                                    label: 'Max',
                                    value: res.maxValue,
                                    color: '#e83e8c'
                                }
                            ];
                            newChartdata.yAxisLabel = res.label + ' (' + res.unit + ')';
                            newChartdata.yAxisNameGap = 25;
                            newChartdata.showDataView = true;
                            newChartdata.showMagicType = true;
                            newChartdata.showRestore = true;
                            newChartdata.showDownloadImage = true;
                            newChartdata.chartTitle = {
                                name: res.label,
                                color: 'gray'
                            };
                            this.chartData.push(newChartdata);
                        }
                    });
                }
            }, error => {
                console.log('error in viewParameterData() - ', error);
                this.alertService.setAlertProperties(this.alertObj, DashboardErrorEnum.INVALID_ERROR_LABEL, DashboardErrorEnum.INVALID_ERROR_MESSAGE, MessageAlertTypeEnum.DANGER, MessageAlertIconEnum.DANGER_ICON);
                throw error;
            });
        }
        catch (error) {
            console.error(`Error in viewEntityParameterData()`, error);
            this.alertService.setAlertProperties(this.alertObj, DashboardErrorEnum.INVALID_ERROR_LABEL, DashboardErrorEnum.INVALID_ERROR_MESSAGE, MessageAlertTypeEnum.DANGER, MessageAlertIconEnum.DANGER_ICON);
        }
        finally {
            this.showLoader = false;
        }
    }
    isValidInputField() {
        const controls = [
            this.customDateInput.startDateFC,
            this.aggDurationInput.aggDurationFC,
            this.entityTypeInput.entityTypeFC,
            this.entityFC
        ];
        controls.forEach(control => control.markAsTouched());
        return controls.some(control => control.invalid);
    }
    createDataRequest() {
        const requestData = {};
        requestData['startTime'] = this.startDate;
        requestData['endTime'] = this.endDate;
        requestData['interval'] = this.aggDuration;
        requestData['entityID'] = [this.entityID];
        requestData['entityType'] = [this.entityTypeInput.entityTypeFC.value];
        return requestData;
    }
}
ByEntityComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: ByEntityComponent, deps: [{ token: i1.StorageService }, { token: i2.AlertService }, { token: i3.ToastrService }, { token: i4.EntityController }, { token: i5.AggregateDataController }, { token: i6.MatDialog }], target: i0.ɵɵFactoryTarget.Component });
ByEntityComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: ByEntityComponent, selector: "lib-by-entity", viewQueries: [{ propertyName: "customDateInput", first: true, predicate: ["customDateInput"], descendants: true }, { propertyName: "aggDurationInput", first: true, predicate: ["aggDurationInput"], descendants: true }, { propertyName: "entityTypeInput", first: true, predicate: ["entityTypeInput"], descendants: true }], ngImport: i0, template: "<div class=\"card main-card cardOverwrite h100\">\n    <div class=\"headerContainer\">\n        <div class=\"headerLeftContainer\">\n            <div class=\"pageTitle\">By Entity</div>\n        </div>\n    </div>\n\n    <div class=\"card-body\">\n        <div class=\"row\">\n            <div class=\"col-sm-3\">\n                <lib-date-input #customDateInput (emitFilter)=\"dateInpChange()\" [materialFieldWidthInp]=\"true\"\n                    [materialFormFieldAppearanceInp]=\"materialFormFieldAppearance.FORM_FIELD_APPEARANCE\" [isMandatoryFieldInp]=\"true\"\n                    [dateInputTypeInp]=\"dateInputTypeEnum.CUSTOM_INPUT\" [dateTypeInp]=\"dateTypeEnum.EXCLUSIVE\"\n                    [showDefaultDurationInp]=\"true\" [showCdrRangeLabelInp]=\"true\" [labelInp]=\"'Select date'\" [timezoneInp]=\"timezone\"\n                    [rangeInp]=\"customRangeConstant\" [showTimeInCDRInp]=\"true\" [showRangeInp]=\"true\"\n                    [cdrFormatInp]=\"'YYYY-MM-DD HH:mm:ss'\"></lib-date-input>\n            </div>\n\n            <div class=\"col-sm-3\">\n                <lib-aggregation-duration #aggDurationInput (emitFilter)=\"aggDurationInpChange()\"></lib-aggregation-duration>\n            </div>\n            \n            <div class=\"col-sm-3\">\n                <lib-entity-type #entityTypeInput (emitFilter)=\"entityTypeInpChange()\"></lib-entity-type>\n            </div>\n\n            <div class=\"col-sm-3\">\n                <button class=\"btn btn-link selectEntityText\" [ngClass]=\"{'mt-2': !selectEntityType || (isViewData && entityFC.value.length == 0)}\" type=\"button\"\n                    (click)=\"openEntityDialog()\">\n                    Select entity *\n                </button>\n                <span class=\"textMatError\" *ngIf=\"selectEntityType\">\n                    <br />\n                    Please select entity type first\n                </span>\n                <span class=\"ms-2 textMatError\" *ngIf=\"!selectEntityType && isViewData && entityFC.value.length == 0\">\n                    <br />\n                    Select entity\n                </span>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-sm-12\">\n                <div class=\"float-end\">\n                    <button class=\"btn btn-sm btn-primary\" type=\"button\" (click)=\"viewEntityParameterData()\" matRipple\n                        [matRippleCentered]=\"materialConstant.MAT_RIPPLE_CENTER\">\n                        {{ buttonLabelEnum.READ_BTN_LABEL }}\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row mt-2\">\n            <div class=\"col-sm-12\">\n                <lib-message-alert *ngIf=\"alertObj.showAlert\" [labelInp]=\"alertObj.alertLabel\"\n                    [contentInp]=\"alertObj.alertContent\" [messageAlertTypeInp]=\"alertObj.messageAlertType\"\n                    [messageAlertIconInp]=\"alertObj.messageAlertIcon\">\n                </lib-message-alert>\n            </div>\n        </div>\n\n        <div class=\"row mt-2\">\n            <ng-container *ngIf=\"showLoader; else dataTemplate\">\n                <lib-skeleton-loader [count]=\"3\" [appearance]=\"''\"\n                    [theme]=\"{ 'border-radius': '16px', height: '40px', 'background-color': 'rgb(230 232 235)' }\"></lib-skeleton-loader>\n            </ng-container>\n\n            <ng-template #dataTemplate>\n                <div class=\"row\" *ngIf=\"chartData.length > 0\">\n                    <div class=\"col-sm-6\" *ngFor=\"let data of chartData\">\n                        <mat-card class=\"cardOverwrite cardBackgroundColor mb-3\">\n                            <lib-basic-area-line-bar [chartTypeInp]=\"chartType\" [chartTitleInp]=\"data.chartTitle\"\n                                [viewStateInp]=\"viewStateFlag\" [dataInp]=\"data\">\n                            </lib-basic-area-line-bar>\n                        </mat-card>\n                    </div>\n                </div>\n            </ng-template>\n        </div>\n    </div>\n</div>", styles: [".selectEntityText{font-size:.88rem}\n"], components: [{ type: i7.DateInputComponent, selector: "lib-date-input", inputs: ["materialFormFieldAppearanceInp", "materialFieldWidthInp", "frequencyInp", "dateInputTypeInp", "dateTypeInp", "timezoneInp", "labelInp", "rangeInp", "cdrFormatInp", "isMandatoryFieldInp", "showRangeInp", "showCdrRangeLabelInp", "showDefaultDurationInp", "showTimeInCDRInp"], outputs: ["emitFilter"] }, { type: i8.AggregationDurationComponent, selector: "lib-aggregation-duration", outputs: ["emitFilter"] }, { type: i9.EntityTypeComponent, selector: "lib-entity-type", outputs: ["emitFilter"] }, { type: i10.MessageAlertComponent, selector: "lib-message-alert", inputs: ["messageAlertTypeInp", "messageAlertIconInp", "labelInp", "contentInp", "showCloseBtnInp"] }, { type: i10.SkeletonComponent, selector: "lib-skeleton-loader", inputs: ["count", "appearance", "theme"] }, { type: i11.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i12.BasicAreaLineBarComponent, selector: "lib-basic-area-line-bar", inputs: ["chartTypeInp", "viewStateInp", "chartTitleInp", "dataInp"] }], directives: [{ type: i13.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i13.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i14.MatRipple, selector: "[mat-ripple], [matRipple]", inputs: ["matRippleRadius", "matRippleDisabled", "matRippleTrigger", "matRippleColor", "matRippleUnbounded", "matRippleCentered", "matRippleAnimation"], exportAs: ["matRipple"] }, { type: i13.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: ByEntityComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-by-entity',
                    templateUrl: './by-entity.component.html',
                    styleUrls: ['./by-entity.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.StorageService }, { type: i2.AlertService }, { type: i3.ToastrService }, { type: i4.EntityController }, { type: i5.AggregateDataController }, { type: i6.MatDialog }]; }, propDecorators: { customDateInput: [{
                type: ViewChild,
                args: ['customDateInput']
            }], aggDurationInput: [{
                type: ViewChild,
                args: ['aggDurationInput']
            }], entityTypeInput: [{
                type: ViewChild,
                args: ['entityTypeInput']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnktZW50aXR5LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvdHNjLWxpdGUvc3JjL2xpYi90c2MvY29tcG9uZW50L2Rhc2hib2FyZC9wYXJhbWV0ZXIvYnktZW50aXR5L2J5LWVudGl0eS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L3RzYy1saXRlL3NyYy9saWIvdHNjL2NvbXBvbmVudC9kYXNoYm9hcmQvcGFyYW1ldGVyL2J5LWVudGl0eS9ieS1lbnRpdHkuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHN0QsT0FBTyxLQUFLLE1BQU0sTUFBTSxRQUFRLENBQUM7QUFFakMsT0FBTyxFQUFFLEtBQUssRUFBVSxNQUFNLCtCQUErQixDQUFDO0FBQzlELE9BQU8sRUFBRSxrQkFBa0IsRUFBdUIsTUFBTSxnQ0FBZ0MsQ0FBQztBQUV6RixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsZUFBZSxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFJbEYsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0saURBQWlELENBQUM7QUFTeEYsT0FBTyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixFQUFFLDJCQUEyQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDaEwsT0FBTyxFQUFFLG9DQUFvQyxFQUFFLGNBQWMsRUFBc0IsaUJBQWlCLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFJLE9BQU8sRUFBRSxXQUFXLEVBQWlCLE1BQU0seUJBQXlCLENBQUM7QUFDckUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLFVBQVUsRUFB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QUM7b0JBQ1AsUUFBUSxFQUFFLGVBQWU7b0JBQ3pCLFdBQVcsRUFBRSw0QkFBNEI7b0JBQ3pDLFNBQVMsRUFBRSxDQUFDLDRCQUE0QixDQUFDO2lCQUM1Qzt5UEFtQ2lDLGVBQWU7c0JBQTVDLFNBQVM7dUJBQUMsaUJBQWlCO2dCQUNHLGdCQUFnQjtzQkFBOUMsU0FBUzt1QkFBQyxrQkFBa0I7Z0JBQ0MsZUFBZTtzQkFBNUMsU0FBUzt1QkFBQyxpQkFBaUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXREaWFsb2cgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xuXG5pbXBvcnQgKiBhcyBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuaW1wb3J0IHsgQWxlcnQsIEFsZXJ0TSB9IGZyb20gJy4uLy4uLy4uLy4uL21vZGVsL2FsZXJ0Lm1vZGVsJztcbmltcG9ydCB7IEVudGl0eVdpdGhDaGlsZHJlbiwgRW50aXR5V2l0aENoaWxkcmVuTSB9IGZyb20gJy4uLy4uLy4uLy4uL21vZGVsL2VudGl0eS5tb2RlbCc7XG5cbmltcG9ydCB7IERhc2hib2FyZEVycm9yRW51bSwgUmVwb3J0RXJyb3JFbnVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vZW51bS9lcnJvci5lbnVtJztcblxuaW1wb3J0IHsgQWdncmVnYXRpb25EdXJhdGlvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uL2Ryb3Bkb3duL2FnZ3JlZ2F0aW9uLWR1cmF0aW9uL2FnZ3JlZ2F0aW9uLWR1cmF0aW9uLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBFbnRpdHlUeXBlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vZHJvcGRvd24vZW50aXR5LXR5cGUvZW50aXR5LXR5cGUuY29tcG9uZW50JztcbmltcG9ydCB7IEVudGl0eURpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uL19zaGFyZWQvZGlhbG9nL2VudGl0eS9lbnRpdHkuY29tcG9uZW50JztcblxuaW1wb3J0IHsgRW50aXR5Q29udHJvbGxlciB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbnRyb2xsZXIvZW50aXR5LmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgQWdncmVnYXRlRGF0YUNvbnRyb2xsZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9jb250cm9sbGVyL2FnZ3JlZ2F0ZS1kYXRhLmNvbnRyb2xsZXInO1xuXG5pbXBvcnQgeyBBbGVydFNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlL2FsZXJ0LnNlcnZpY2UnO1xuXG4vLyB0c2MtbGlicmFyeVxuaW1wb3J0IHsgU3RvcmFnZVNlcnZpY2UgfSBmcm9tICdAbGlicmFyeS9zdG9yYWdlLXNlcnZpY2UnO1xuaW1wb3J0IHsgQnV0dG9uTGFiZWxFbnVtLCBDT01NT05fQ09OU1RBTlQsIEludmFsaWRGb3JtLCBNQVRFUklBTF9DT05TVEFOVCwgTWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlLCBNZXNzYWdlQWxlcnRJY29uRW51bSwgTWVzc2FnZUFsZXJ0VHlwZUVudW0gfSBmcm9tICdAbGlicmFyeS90c2MtY29tbW9uJztcbmltcG9ydCB7IENVU1RPTV9SQU5HRV9DT05TVEFOVF9FWENMVVNJVkVfREFURSwgRGF0ZUZvcm1hdEVudW0sIERhdGVJbnB1dENvbXBvbmVudCwgRGF0ZUlucHV0VHlwZUVudW0sIERhdGVUeXBlRW51bSB9IGZyb20gJ0BsaWJyYXJ5L2RhdGUnO1xuaW1wb3J0IHsgVG9hc3RyQ29sb3IsIFRvYXN0clNlcnZpY2UgfSBmcm9tICdAbGlicmFyeS90b2FzdHItc2VydmljZSc7XG5pbXBvcnQgeyBCYXNpY0FyZWFMaW5lQmFyQ2hhcnQsIENoYXJ0VGl0bGUsIENoYXJ0VHlwZUVudW0sIENoYXJ0Vmlld1N0YXRlRW51bSB9IGZyb20gJ0BsaWJyYXJ5L2VjaGFydCc7XG5pbXBvcnQgeyBGb3JtQ29udHJvbCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbi8vIC90c2MtbGlicmFyeS9cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdsaWItYnktZW50aXR5JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYnktZW50aXR5LmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9ieS1lbnRpdHkuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBCeUVudGl0eUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBtYXRlcmlhbENvbnN0YW50ID0gTUFURVJJQUxfQ09OU1RBTlQ7XG4gICAgY29tbW9uQ29uc3RhbnQgPSBDT01NT05fQ09OU1RBTlQ7XG4gICAgY3VzdG9tUmFuZ2VDb25zdGFudCA9IENVU1RPTV9SQU5HRV9DT05TVEFOVF9FWENMVVNJVkVfREFURTtcblxuICAgIG1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZSA9IE1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZTtcbiAgICBkYXRlRm9ybWF0RW51bSA9IERhdGVGb3JtYXRFbnVtO1xuICAgIGRhdGVJbnB1dFR5cGVFbnVtID0gRGF0ZUlucHV0VHlwZUVudW07XG4gICAgZGF0ZVR5cGVFbnVtID0gRGF0ZVR5cGVFbnVtO1xuICAgIGJ1dHRvbkxhYmVsRW51bSA9IEJ1dHRvbkxhYmVsRW51bTtcblxuICAgIG9yZ0lEOiBhbnk7XG4gICAgdGltZXpvbmU6IHN0cmluZztcbiAgICBzdGFydERhdGU6IHN0cmluZztcbiAgICBlbmREYXRlOiBzdHJpbmc7XG4gICAgYWdnRHVyYXRpb246IHN0cmluZztcbiAgICBlbnRpdHlUeXBlOiBzdHJpbmc7XG4gICAgZW50aXR5SUQ6IGFueTtcbiAgICBzZWxlY3RFbnRpdHlUeXBlOiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNWaWV3RGF0YTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNob3dBbGVydDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNob3dMb2FkZXI6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGVudGl0eUJ5RW50aXR5VHlwZU0gPSBbbmV3IEVudGl0eVdpdGhDaGlsZHJlbigpXTtcbiAgICBhbGVydE9iajogQWxlcnRNID0gbmV3IEFsZXJ0KCk7XG5cbiAgICBlbnRpdHlGQzogRm9ybUNvbnRyb2wgPSBuZXcgRm9ybUNvbnRyb2woW10sIFtWYWxpZGF0b3JzLnJlcXVpcmVkXSk7XG5cbiAgICBjaGFydFR5cGU6IHN0cmluZyA9IENoYXJ0VHlwZUVudW0uQkFTSUNfTElORV9DSEFSVDtcbiAgICB2aWV3U3RhdGVGbGFnOiBzdHJpbmcgPSBDaGFydFZpZXdTdGF0ZUVudW0uTE9BRElORztcbiAgICBjaGFydFRpdGxlID0gbmV3IENoYXJ0VGl0bGUoKTtcbiAgICBjaGFydERhdGE6IEJhc2ljQXJlYUxpbmVCYXJDaGFydFtdID0gW107XG5cbiAgICBAVmlld0NoaWxkKCdjdXN0b21EYXRlSW5wdXQnKSBjdXN0b21EYXRlSW5wdXQ6IERhdGVJbnB1dENvbXBvbmVudDtcbiAgICBAVmlld0NoaWxkKCdhZ2dEdXJhdGlvbklucHV0JykgYWdnRHVyYXRpb25JbnB1dDogQWdncmVnYXRpb25EdXJhdGlvbkNvbXBvbmVudDtcbiAgICBAVmlld0NoaWxkKCdlbnRpdHlUeXBlSW5wdXQnKSBlbnRpdHlUeXBlSW5wdXQ6IEVudGl0eVR5cGVDb21wb25lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBzdG9yYWdlU2VydmljZTogU3RvcmFnZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgdG9hc3RTZXJ2aWNlOiBUb2FzdHJTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGVudGl0eUNvbnRyb2xsZXI6IEVudGl0eUNvbnRyb2xsZXIsXG4gICAgICAgIHByaXZhdGUgYWdncmVnYXRlRGF0YUNvbnRyb2xsZXI6IEFnZ3JlZ2F0ZURhdGFDb250cm9sbGVyLFxuICAgICAgICBwcml2YXRlIGRpYWxvZzogTWF0RGlhbG9nLFxuICAgICkgeyB9XG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vcmdJRCA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgnY3VycmVudE9yZ0lEJyk7XG4gICAgICAgIHRoaXMudGltZXpvbmUgPSB0aGlzLnN0b3JhZ2VTZXJ2aWNlLmdldFN0b3JhZ2UoJ3RpbWV6b25lJyk7XG4gICAgfVxuXG4gICAgZGF0ZUlucENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5zdGFydERhdGUgPSB0aGlzLmN1c3RvbURhdGVJbnB1dC5zdGFydERhdGVGQy52YWx1ZTtcbiAgICAgICAgdGhpcy5lbmREYXRlID0gdGhpcy5jdXN0b21EYXRlSW5wdXQuZW5kRGF0ZUZDLnZhbHVlO1xuICAgIH1cblxuICAgIGFnZ0R1cmF0aW9uSW5wQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmFnZ0R1cmF0aW9uID0gdGhpcy5hZ2dEdXJhdGlvbklucHV0LmFnZ0R1cmF0aW9uRkMudmFsdWU7XG4gICAgfVxuXG4gICAgZW50aXR5VHlwZUlucENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5lbnRpdHlUeXBlID0gdGhpcy5lbnRpdHlUeXBlSW5wdXQuZW50aXR5VHlwZUZDLnZhbHVlO1xuXG4gICAgICAgIHRoaXMuZW50aXR5RkMucmVzZXQoW10pO1xuICAgICAgICB0aGlzLmdldEVudGl0aWVzQnlFbnRpdHlUeXBlKHRoaXMuZW50aXR5VHlwZSk7XG4gICAgfVxuXG4gICAgZ2V0RW50aXRpZXNCeUVudGl0eVR5cGUoZW50aXR5VHlwZSkge1xuICAgICAgICBsZXQgcmVxdWVzdEJvZHkgPSB7fTtcbiAgICAgICAgcmVxdWVzdEJvZHlbJ2VudGl0eVR5cGUnXSA9IFtlbnRpdHlUeXBlXTtcblxuICAgICAgICB0aGlzLmVudGl0eUNvbnRyb2xsZXIuZ2V0RW50aXRpZXNCeUVudGl0eVR5cGUodGhpcy5vcmdJRCwgcmVxdWVzdEJvZHkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChyZXM6IEVudGl0eVdpdGhDaGlsZHJlbk0pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGl0eUJ5RW50aXR5VHlwZU0gPSBbcmVzXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gZ2V0RW50aXRpZXNCeUVudGl0eVR5cGUoKSAtICcsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvcGVuRW50aXR5RGlhbG9nKCkge1xuICAgICAgICBpZiAodGhpcy5lbnRpdHlUeXBlKSB7XG4gICAgICAgICAgICBjb25zdCBkaWFsb2cgPSB0aGlzLmRpYWxvZy5vcGVuKEVudGl0eURpYWxvZ0NvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVR5cGU6IHRoaXMuZW50aXR5VHlwZUlucHV0LmVudGl0eVR5cGVGQy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eU9iamVjdDogdGhpcy5lbnRpdHlCeUVudGl0eVR5cGVNXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnNTB2dycsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyByaWdodDogJy0ycHgnLCB0b3A6ICcwcHgnIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaWFsb2cuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoKGRpYWxvZ1JlcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkaWFsb2dSZXMuZW50aXR5SUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdHlJRCA9IGRpYWxvZ1Jlcy5lbnRpdHlJRDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnRpdHlGQy5wYXRjaFZhbHVlKHRoaXMuZW50aXR5SUQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0RW50aXR5VHlwZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2aWV3RW50aXR5UGFyYW1ldGVyRGF0YSgpIHtcbiAgICAgICAgdGhpcy5jaGFydERhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5pc1ZpZXdEYXRhID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UucmVzZXRBbGVydFByb3BlcnRpZXModGhpcy5hbGVydE9iaik7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZElucHV0RmllbGQoKSkge1xuICAgICAgICAgICAgdGhpcy50b2FzdFNlcnZpY2Uub3BlblRvYXN0KEludmFsaWRGb3JtLklOVkFMSURfRk9STV9USVRMRSwgSW52YWxpZEZvcm0uSU5WQUxJRF9GT1JNX01FU1NBR0UsIFRvYXN0ckNvbG9yLkVSUk9SKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBcblxuICAgICAgICBpZiAodGhpcy5zdGFydERhdGUgPT0gdGhpcy5lbmREYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zZXRBbGVydFByb3BlcnRpZXModGhpcy5hbGVydE9iaiwgUmVwb3J0RXJyb3JFbnVtLklOVkFMSURfREFURV9MQUJFTCwgUmVwb3J0RXJyb3JFbnVtLklOVkFMSURfREFURV9NRVNTQUdFLCBNZXNzYWdlQWxlcnRUeXBlRW51bS5JTkZPLCBNZXNzYWdlQWxlcnRJY29uRW51bS5JTkZPX0lDT04pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaG93TG9hZGVyID0gdHJ1ZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSB0aGlzLmNyZWF0ZURhdGFSZXF1ZXN0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuYWdncmVnYXRlRGF0YUNvbnRyb2xsZXIuZ2V0RW50aXR5UGFyYW1ldGVyRGF0YSh0aGlzLm9yZ0lELCByZXF1ZXN0RGF0YSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChlbnRpdHlQYXJhbVJlczogYW55KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGVudGl0eVBhcmFtZXRlckRhdGEgPSBlbnRpdHlQYXJhbVJlcz8ucGFyYW1EYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dMb2FkZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5UGFyYW1ldGVyRGF0YSAmJiBlbnRpdHlQYXJhbWV0ZXJEYXRhLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5kYXRhLmxlbmd0aCA9PSAwICkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnNldEFsZXJ0UHJvcGVydGllcyh0aGlzLmFsZXJ0T2JqLCBEYXNoYm9hcmRFcnJvckVudW0uREFUQV9OT1RfRk9VTkRfTEFCRUwsIERhc2hib2FyZEVycm9yRW51bS5EQVRBX05PVF9GT1VORF9NRVNTQUdFLCBNZXNzYWdlQWxlcnRUeXBlRW51bS5XQVJOSU5HLCBNZXNzYWdlQWxlcnRJY29uRW51bS5XQVJOSU5HX0lDT04pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3U3RhdGVGbGFnID0gQ2hhcnRWaWV3U3RhdGVFbnVtLkhBU19EQVRBO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFydERhdGEgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5UGFyYW1ldGVyRGF0YS5mb3JFYWNoKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NoYXJ0ZGF0YTogQmFzaWNBcmVhTGluZUJhckNoYXJ0ID0gbmV3IEJhc2ljQXJlYUxpbmVCYXJDaGFydCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NoYXJ0ZGF0YS5tZXRhRGF0YSA9IHJlcy5kYXRhLm1hcChpdGVtID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBtb21lbnQobmV3IERhdGUoaXRlbS5kYXRlKSkuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbTpzc1wiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLnVuaXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IHJlcy51bml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGFydGRhdGEubWFya0xpbmUgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdBdmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXMuYXZnVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZTgzZThjJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ01heCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlcy5tYXhWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlODNlOGMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLnlBeGlzTGFiZWwgPSByZXMubGFiZWwgKyAnICgnICsgcmVzLnVuaXQgKyAnKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NoYXJ0ZGF0YS55QXhpc05hbWVHYXAgPSAyNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLnNob3dEYXRhVmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NoYXJ0ZGF0YS5zaG93TWFnaWNUeXBlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLnNob3dSZXN0b3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLnNob3dEb3dubG9hZEltYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hhcnRkYXRhLmNoYXJ0VGl0bGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiByZXMubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyYXknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0RGF0YS5wdXNoKG5ld0NoYXJ0ZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBpbiB2aWV3UGFyYW1ldGVyRGF0YSgpIC0gJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc2V0QWxlcnRQcm9wZXJ0aWVzKHRoaXMuYWxlcnRPYmosIERhc2hib2FyZEVycm9yRW51bS5JTlZBTElEX0VSUk9SX0xBQkVMLCBEYXNoYm9hcmRFcnJvckVudW0uSU5WQUxJRF9FUlJPUl9NRVNTQUdFLCBNZXNzYWdlQWxlcnRUeXBlRW51bS5EQU5HRVIsIE1lc3NhZ2VBbGVydEljb25FbnVtLkRBTkdFUl9JQ09OKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiB2aWV3RW50aXR5UGFyYW1ldGVyRGF0YSgpYCwgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc2V0QWxlcnRQcm9wZXJ0aWVzKHRoaXMuYWxlcnRPYmosIERhc2hib2FyZEVycm9yRW51bS5JTlZBTElEX0VSUk9SX0xBQkVMLCBEYXNoYm9hcmRFcnJvckVudW0uSU5WQUxJRF9FUlJPUl9NRVNTQUdFLCBNZXNzYWdlQWxlcnRUeXBlRW51bS5EQU5HRVIsIE1lc3NhZ2VBbGVydEljb25FbnVtLkRBTkdFUl9JQ09OKTtcblxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5zaG93TG9hZGVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc1ZhbGlkSW5wdXRGaWVsZCgpIHtcbiAgICAgICAgY29uc3QgY29udHJvbHMgPSBbXG4gICAgICAgICAgICB0aGlzLmN1c3RvbURhdGVJbnB1dC5zdGFydERhdGVGQyxcbiAgICAgICAgICAgIHRoaXMuYWdnRHVyYXRpb25JbnB1dC5hZ2dEdXJhdGlvbkZDLFxuICAgICAgICAgICAgdGhpcy5lbnRpdHlUeXBlSW5wdXQuZW50aXR5VHlwZUZDLFxuICAgICAgICAgICAgdGhpcy5lbnRpdHlGQ1xuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiBjb250cm9sLm1hcmtBc1RvdWNoZWQoKSk7XG4gICAgICAgIHJldHVybiBjb250cm9scy5zb21lKGNvbnRyb2wgPT4gY29udHJvbC5pbnZhbGlkKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEYXRhUmVxdWVzdCgpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSB7fTtcblxuICAgICAgICByZXF1ZXN0RGF0YVsnc3RhcnRUaW1lJ10gPSB0aGlzLnN0YXJ0RGF0ZTtcbiAgICAgICAgcmVxdWVzdERhdGFbJ2VuZFRpbWUnXSA9IHRoaXMuZW5kRGF0ZTtcbiAgICAgICAgcmVxdWVzdERhdGFbJ2ludGVydmFsJ10gPSB0aGlzLmFnZ0R1cmF0aW9uO1xuICAgICAgICByZXF1ZXN0RGF0YVsnZW50aXR5SUQnXSA9IFt0aGlzLmVudGl0eUlEXTtcbiAgICAgICAgcmVxdWVzdERhdGFbJ2VudGl0eVR5cGUnXSA9IFt0aGlzLmVudGl0eVR5cGVJbnB1dC5lbnRpdHlUeXBlRkMudmFsdWVdO1xuXG4gICAgICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbiAgICB9XG5cbn1cbiIsIjxkaXYgY2xhc3M9XCJjYXJkIG1haW4tY2FyZCBjYXJkT3ZlcndyaXRlIGgxMDBcIj5cbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyQ29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJMZWZ0Q29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFnZVRpdGxlXCI+QnkgRW50aXR5PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgICA8bGliLWRhdGUtaW5wdXQgI2N1c3RvbURhdGVJbnB1dCAoZW1pdEZpbHRlcik9XCJkYXRlSW5wQ2hhbmdlKClcIiBbbWF0ZXJpYWxGaWVsZFdpZHRoSW5wXT1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICBbbWF0ZXJpYWxGb3JtRmllbGRBcHBlYXJhbmNlSW5wXT1cIm1hdGVyaWFsRm9ybUZpZWxkQXBwZWFyYW5jZS5GT1JNX0ZJRUxEX0FQUEVBUkFOQ0VcIiBbaXNNYW5kYXRvcnlGaWVsZElucF09XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgW2RhdGVJbnB1dFR5cGVJbnBdPVwiZGF0ZUlucHV0VHlwZUVudW0uQ1VTVE9NX0lOUFVUXCIgW2RhdGVUeXBlSW5wXT1cImRhdGVUeXBlRW51bS5FWENMVVNJVkVcIlxuICAgICAgICAgICAgICAgICAgICBbc2hvd0RlZmF1bHREdXJhdGlvbklucF09XCJ0cnVlXCIgW3Nob3dDZHJSYW5nZUxhYmVsSW5wXT1cInRydWVcIiBbbGFiZWxJbnBdPVwiJ1NlbGVjdCBkYXRlJ1wiIFt0aW1lem9uZUlucF09XCJ0aW1lem9uZVwiXG4gICAgICAgICAgICAgICAgICAgIFtyYW5nZUlucF09XCJjdXN0b21SYW5nZUNvbnN0YW50XCIgW3Nob3dUaW1lSW5DRFJJbnBdPVwidHJ1ZVwiIFtzaG93UmFuZ2VJbnBdPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgIFtjZHJGb3JtYXRJbnBdPVwiJ1lZWVktTU0tREQgSEg6bW06c3MnXCI+PC9saWItZGF0ZS1pbnB1dD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgICA8bGliLWFnZ3JlZ2F0aW9uLWR1cmF0aW9uICNhZ2dEdXJhdGlvbklucHV0IChlbWl0RmlsdGVyKT1cImFnZ0R1cmF0aW9uSW5wQ2hhbmdlKClcIj48L2xpYi1hZ2dyZWdhdGlvbi1kdXJhdGlvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgICA8bGliLWVudGl0eS10eXBlICNlbnRpdHlUeXBlSW5wdXQgKGVtaXRGaWx0ZXIpPVwiZW50aXR5VHlwZUlucENoYW5nZSgpXCI+PC9saWItZW50aXR5LXR5cGU+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tbGluayBzZWxlY3RFbnRpdHlUZXh0XCIgW25nQ2xhc3NdPVwieydtdC0yJzogIXNlbGVjdEVudGl0eVR5cGUgfHwgKGlzVmlld0RhdGEgJiYgZW50aXR5RkMudmFsdWUubGVuZ3RoID09IDApfVwiIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwib3BlbkVudGl0eURpYWxvZygpXCI+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCBlbnRpdHkgKlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dE1hdEVycm9yXCIgKm5nSWY9XCJzZWxlY3RFbnRpdHlUeXBlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICAgICAgICBQbGVhc2Ugc2VsZWN0IGVudGl0eSB0eXBlIGZpcnN0XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXMtMiB0ZXh0TWF0RXJyb3JcIiAqbmdJZj1cIiFzZWxlY3RFbnRpdHlUeXBlICYmIGlzVmlld0RhdGEgJiYgZW50aXR5RkMudmFsdWUubGVuZ3RoID09IDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCBlbnRpdHlcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbG9hdC1lbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnlcIiB0eXBlPVwiYnV0dG9uXCIgKGNsaWNrKT1cInZpZXdFbnRpdHlQYXJhbWV0ZXJEYXRhKClcIiBtYXRSaXBwbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIFttYXRSaXBwbGVDZW50ZXJlZF09XCJtYXRlcmlhbENvbnN0YW50Lk1BVF9SSVBQTEVfQ0VOVEVSXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7eyBidXR0b25MYWJlbEVudW0uUkVBRF9CVE5fTEFCRUwgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBtdC0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyXCI+XG4gICAgICAgICAgICAgICAgPGxpYi1tZXNzYWdlLWFsZXJ0ICpuZ0lmPVwiYWxlcnRPYmouc2hvd0FsZXJ0XCIgW2xhYmVsSW5wXT1cImFsZXJ0T2JqLmFsZXJ0TGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICBbY29udGVudElucF09XCJhbGVydE9iai5hbGVydENvbnRlbnRcIiBbbWVzc2FnZUFsZXJ0VHlwZUlucF09XCJhbGVydE9iai5tZXNzYWdlQWxlcnRUeXBlXCJcbiAgICAgICAgICAgICAgICAgICAgW21lc3NhZ2VBbGVydEljb25JbnBdPVwiYWxlcnRPYmoubWVzc2FnZUFsZXJ0SWNvblwiPlxuICAgICAgICAgICAgICAgIDwvbGliLW1lc3NhZ2UtYWxlcnQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBtdC0yXCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2hvd0xvYWRlcjsgZWxzZSBkYXRhVGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICA8bGliLXNrZWxldG9uLWxvYWRlciBbY291bnRdPVwiM1wiIFthcHBlYXJhbmNlXT1cIicnXCJcbiAgICAgICAgICAgICAgICAgICAgW3RoZW1lXT1cInsgJ2JvcmRlci1yYWRpdXMnOiAnMTZweCcsIGhlaWdodDogJzQwcHgnLCAnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2IoMjMwIDIzMiAyMzUpJyB9XCI+PC9saWItc2tlbGV0b24tbG9hZGVyPlxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjZGF0YVRlbXBsYXRlPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIiAqbmdJZj1cImNoYXJ0RGF0YS5sZW5ndGggPiAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiICpuZ0Zvcj1cImxldCBkYXRhIG9mIGNoYXJ0RGF0YVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1jYXJkIGNsYXNzPVwiY2FyZE92ZXJ3cml0ZSBjYXJkQmFja2dyb3VuZENvbG9yIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGliLWJhc2ljLWFyZWEtbGluZS1iYXIgW2NoYXJ0VHlwZUlucF09XCJjaGFydFR5cGVcIiBbY2hhcnRUaXRsZUlucF09XCJkYXRhLmNoYXJ0VGl0bGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdmlld1N0YXRlSW5wXT1cInZpZXdTdGF0ZUZsYWdcIiBbZGF0YUlucF09XCJkYXRhXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saWItYmFzaWMtYXJlYS1saW5lLWJhcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQ+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj4iXX0=