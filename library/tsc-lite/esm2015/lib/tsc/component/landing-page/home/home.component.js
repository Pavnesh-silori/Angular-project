import { __awaiter } from "tslib";
import { Component } from '@angular/core';
import { DeviceInfo } from '../../../model/device.model';
import { EntityLevelConsumption } from '../../../model/entity.model';
import { AggregateDataRequest } from '../../../model/aggregate-data.model';
// tsc-library
import { DateTimeIntervalEnum } from '@library/date';
import { COMMON_CONSTANT } from '@library/tsc-common';
import { ApplicationKeyID } from '@library/application-service';
import * as i0 from "@angular/core";
import * as i1 from "@library/storage-service";
import * as i2 from "@library/date";
import * as i3 from "@library/tsc-common";
import * as i4 from "../../../service/aggregate-data.service";
import * as i5 from "../../../controller/entity.controller";
import * as i6 from "../../../controller/device.controller";
import * as i7 from "@angular/material/card";
import * as i8 from "ng-circle-progress";
import * as i9 from "@angular/common";
// /tsc-library/
export class HomeComponent {
    constructor(storageService, dateService, tscCommonService, aggregateDataService, entityController, deviceController) {
        this.storageService = storageService;
        this.dateService = dateService;
        this.tscCommonService = tscCommonService;
        this.aggregateDataService = aggregateDataService;
        this.entityController = entityController;
        this.deviceController = deviceController;
        this.commonConstant = COMMON_CONSTANT;
        this.entityConsumption = [new EntityLevelConsumption()];
        this.deviceInfoM = new DeviceInfo();
    }
    ngOnInit() {
        this.orgID = this.storageService.getStorage('currentOrgID');
        this.applicationKeyID = this.storageService.getStorage('applicationKeyID');
        if (this.applicationKeyID == ApplicationKeyID.ENERGY_KEY_ID) {
            this.label = "Energy";
            this.icon = "bolt";
            this.paramKey = "engEnergyUsed";
            this.outerStrokeColor = "#fa9200";
            this.outerStrokeGradientStopColor = "#fdd130";
            this.innerStrokeColor = "#fbe2a6";
        }
        else if (this.applicationKeyID == ApplicationKeyID.WATER_KEY_ID) {
            this.label = "Water";
            this.icon = "water_drop";
            this.paramKey = "gwFlowTotalizer";
            this.outerStrokeColor = "#4882c2";
            this.outerStrokeGradientStopColor = "#53a9ff";
            this.innerStrokeColor = "#dbe7ff";
        }
        this.getTotalConsumption(DateTimeIntervalEnum.CURRENT_DAY)
            .then(app => {
            this.todayConsumption = app;
        });
        this.getTotalConsumption(DateTimeIntervalEnum.CURRENT_MONTH)
            .then(app => {
            var _a, _b, _c, _d, _e, _f;
            this.currentMonthConsumption = app;
            const totalConsumptionValue = (_d = (_c = (_b = (_a = this.currentMonthConsumption) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b['data']) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d['value'];
            this.totalConsumptionCircleData = {
                percent: this.tscCommonService.formatLargeNumber(totalConsumptionValue, 'false', 1),
                maxPercent: 999999999,
                units: (_f = (_e = this.currentMonthConsumption) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? void 0 : _f.unit,
                showUnits: true,
                radius: 75,
                space: 4,
                outerStrokeGradient: true,
                outerStrokeWidth: 10,
                outerStrokeColor: this.outerStrokeColor,
                outerStrokeGradientStopColor: this.outerStrokeGradientStopColor,
                innerStrokeColor: this.innerStrokeColor,
                showBackground: false,
                innerStrokeWidth: 5,
                showSubtitle: false,
                subtitleFormat: false,
                startFromZero: false,
                animationDuration: 500,
                backgroundColor: '#ffffff',
            };
        });
        this.getTotalConsumption(DateTimeIntervalEnum.CURRENT_YEAR)
            .then(app => {
            this.currentYearConsumption = app;
        });
        this.getTotalEntitiesConsumption();
        this.getEntityLevelConsumption();
        this.getDeviceInfo();
    }
    getTotalConsumption(selectedRange) {
        return __awaiter(this, void 0, void 0, function* () {
            try {
                const requestData = new AggregateDataRequest();
                if (selectedRange == DateTimeIntervalEnum.CURRENT_DAY) {
                    requestData.startTime = this.dateService.getStartDateTime(DateTimeIntervalEnum.CURRENT_DAY);
                    requestData.interval = 'day_1';
                }
                else if (selectedRange == DateTimeIntervalEnum.CURRENT_MONTH) {
                    requestData.startTime = this.dateService.getStartDateTime(DateTimeIntervalEnum.CURRENT_MONTH);
                    requestData.interval = 'month_1';
                }
                else if (selectedRange == DateTimeIntervalEnum.CURRENT_YEAR) {
                    requestData.startTime = this.dateService.getStartDateTime(DateTimeIntervalEnum.CURRENT_YEAR);
                    requestData.interval = 'year_1';
                }
                requestData.endTime = this.dateService.getEndDateTime(DateTimeIntervalEnum.CURRENT_TIME);
                requestData.params = [
                    {
                        name: this.paramKey,
                        dsAgg: "sum",
                        agg: "sum",
                        source_or_load: "source",
                        sourceLoadType: "all"
                    }
                ];
                requestData.nullifyParams();
                requestData.groupAll = true;
                const result = yield this.aggregateDataService.getAggregateData(this.orgID, requestData);
                return result;
            }
            catch (error) {
                console.error(`Error in getTotalConsumption for (${selectedRange})`, error);
            }
        });
    }
    getTotalEntitiesConsumption() {
        var _a, _b, _c, _d;
        return __awaiter(this, void 0, void 0, function* () {
            try {
                let requestData = new AggregateDataRequest();
                requestData.startTime = this.dateService.getStartDateTime(DateTimeIntervalEnum.CURRENT_MONTH);
                requestData.endTime = this.dateService.getEndDateTime(DateTimeIntervalEnum.CURRENT_TIME);
                requestData.interval = "month_1";
                requestData.params = [
                    {
                        name: this.paramKey,
                        dsAgg: "sum",
                        agg: "sum",
                        source_or_load: "load",
                        sourceLoadType: "all"
                    }
                ];
                requestData.nullifyParams();
                requestData.groupAll = true;
                const totalEntitiesConsumData = yield this.aggregateDataService.getAggregateData(this.orgID, requestData);
                const consumptionBreakupValue = (_c = (_b = (_a = totalEntitiesConsumData === null || totalEntitiesConsumData === void 0 ? void 0 : totalEntitiesConsumData[0]) === null || _a === void 0 ? void 0 : _a['data']) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c['value'];
                this.consumptionBreakupCircleData = {
                    percent: this.tscCommonService.formatLargeNumber(consumptionBreakupValue, 'false', 1),
                    maxPercent: 999999999,
                    units: (_d = totalEntitiesConsumData === null || totalEntitiesConsumData === void 0 ? void 0 : totalEntitiesConsumData[0]) === null || _d === void 0 ? void 0 : _d.unit,
                    showUnits: true,
                    radius: 75,
                    space: 4,
                    outerStrokeGradient: true,
                    outerStrokeWidth: 10,
                    outerStrokeColor: this.outerStrokeColor,
                    outerStrokeGradientStopColor: this.outerStrokeGradientStopColor,
                    innerStrokeColor: this.innerStrokeColor,
                    showBackground: false,
                    innerStrokeWidth: 5,
                    showSubtitle: false,
                    subtitleFormat: false,
                    startFromZero: false,
                    animationDuration: 500,
                    backgroundColor: '#ffffff',
                };
            }
            catch (error) {
                console.error(`Error in getTotalEntitiesConsumption()`, error);
            }
        });
    }
    getEntityLevelConsumption() {
        let requestData = new AggregateDataRequest();
        requestData.startTime = this.dateService.getStartDateTime(DateTimeIntervalEnum.CURRENT_MONTH);
        requestData.endTime = this.dateService.getEndDateTime(DateTimeIntervalEnum.CURRENT_TIME);
        requestData.interval = "month_1";
        requestData.params = [
            {
                name: this.paramKey,
                dsAgg: "sum",
                agg: "sum",
                source_or_load: "load",
                sourceLoadType: "all"
            }
        ];
        requestData.nullifyParams();
        requestData.groupAll = false;
        this.entityController.getEntityLevelConsumption(this.orgID, requestData)
            .subscribe((entityConsumRes) => {
            this.entityConsumption = entityConsumRes;
        }, error => {
            console.log('error in getEntityLevelConsumption() -', error);
        });
    }
    highestConsumptionEntity() {
        var _a, _b, _c;
        if (((_a = this.entityConsumption) === null || _a === void 0 ? void 0 : _a.length) == 0) {
            return null;
        }
        return (_b = this.entityConsumption) === null || _b === void 0 ? void 0 : _b.reduce((maxEntity, currentEntity) => {
            return currentEntity.value > maxEntity.value ? currentEntity : maxEntity;
        }, (_c = this.entityConsumption) === null || _c === void 0 ? void 0 : _c[0]);
    }
    calculateProgress(entity) {
        const highestConsumption = this.highestConsumptionEntity();
        if (!highestConsumption) {
            return 0;
        }
        const progress = (entity.value / highestConsumption.value) * 100;
        return progress;
    }
    getDeviceInfo() {
        this.deviceController.getDeviceInfo(this.orgID)
            .subscribe((deviceRes) => {
            this.deviceInfoM = deviceRes;
        }, error => {
            console.log('error in getDeviceInfo() -', error);
        });
    }
}
HomeComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: HomeComponent, deps: [{ token: i1.StorageService }, { token: i2.DateService }, { token: i3.TSCCommonService }, { token: i4.AggregateDataService }, { token: i5.EntityController }, { token: i6.DeviceController }], target: i0.ɵɵFactoryTarget.Component });
HomeComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: HomeComponent, selector: "lib-home", ngImport: i0, template: "<div class=\"card main-card cardOverwrite h100\">\n    <div class=\"headerContainer\">\n        <div class=\"headerLeftContainer\">\n            <div class=\"pageTitle\">Home</div>\n        </div>\n    </div>\n\n    <div class=\"card-body pt-0\">\n        <div class=\"row\">\n            <div class=\"col-sm-6\">\n                <mat-card class=\"cardOverwrite cardBackgroundColor cardHeight\">\n                    <div class=\"row\">\n                        <div class=\"col-sm-12\">\n                            <span class=\"cardTitle\">\n                                Total {{ label }} Consumption\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"d-flex align-items-center\">\n                            <div class=\"col-sm-6\">\n                                <span class=\"centerAlign\">\n                                    <circle-progress [options]=\"totalConsumptionCircleData\" [renderOnClick]=\"false\"\n                                        class=\"copy\"></circle-progress>\n                                </span>\n                                <span class=\"centerAlign\">\n                                    This Month\n                                </span>\n                            </div>\n                            <div class=\"col-sm-6 ms-4\">\n                                <div class=\"row\">\n                                    <ng-container *ngTemplateOutlet=\"totalConsumption; context: {\n                                        label: 'Today',\n                                        value: todayConsumption?.[0]?.['data']?.[0]?.['value'],\n                                        unit: todayConsumption?.[0]?.['unit'],\n                                        matCardClass: 'today'\n                                    }\"></ng-container>\n                                </div>\n                                <div class=\"row mt-4\">\n                                    <ng-container *ngTemplateOutlet=\"totalConsumption; context: {\n                                        label: 'This Month',\n                                        value: currentMonthConsumption?.[0]?.['data']?.[0]?.['value'],\n                                        unit: currentMonthConsumption?.[0]?.['unit'],\n                                        matCardClass: 'month'\n                                    }\"></ng-container>\n                                </div>\n                                <div class=\"row mt-4\">\n                                    <ng-container *ngTemplateOutlet=\"totalConsumption; context: {\n                                        label: 'This Year',\n                                        value: currentYearConsumption?.[0]?.['data']?.[0]?.['value'],\n                                        unit: currentYearConsumption?.[0]?.['unit'],\n                                        matCardClass: 'year'\n                                    }\"></ng-container>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </mat-card>\n            </div>\n            <div class=\"col-sm-6\">\n                <mat-card class=\"cardOverwrite cardBackgroundColor cardHeight\">\n                    <div class=\"row\">\n                        <div class=\"col-sm-12\">\n                            <span class=\"cardTitle\">\n                                {{ label }} Consumption Breakup\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"d-flex align-items-center\">\n                            <div class=\"col-sm-6\">\n                                <span class=\"centerAlign\">\n                                    <circle-progress [options]=\"consumptionBreakupCircleData\" [renderOnClick]=\"false\"\n                                        class=\"copy\"></circle-progress>\n                                </span>\n                                <span class=\"centerAlign\">\n                                    This Month\n                                </span>\n                            </div>\n                            <div class=\"col-sm-6\">\n                                <div class=\"row\" *ngIf=\"entityConsumption?.[0]?.id\">\n                                    <ng-container *ngTemplateOutlet=\"entityProgress; context: {\n                                        name: entityConsumption[0].name,\n                                        value: entityConsumption[0].value,\n                                        unit: entityConsumption[0].unit,\n                                        entityObj: entityConsumption[0],\n                                        outerProgressBarClass: 'progress1BGColor',\n                                        innerProgressBarClass: 'progress1Color'\n                                    }\"></ng-container>\n                                </div>\n                                <div class=\"row mt-4\" *ngIf=\"entityConsumption?.[1]\">\n                                    <ng-container *ngTemplateOutlet=\"entityProgress; context: {\n                                        name: entityConsumption[1].name,\n                                        value: entityConsumption[1].value,\n                                        unit: entityConsumption[1].unit,\n                                        entityObj: entityConsumption[1],\n                                        outerProgressBarClass: 'progress2BGColor',\n                                        innerProgressBarClass: 'progress2Color'\n                                    }\"></ng-container>\n                                </div>\n                                <div class=\"row mt-4\" *ngIf=\"entityConsumption?.[2]\">\n                                    <ng-container *ngTemplateOutlet=\"entityProgress; context: {\n                                        name: entityConsumption[2].name,\n                                        value: entityConsumption[2].value,\n                                        unit: entityConsumption[2].unit,\n                                        entityObj: entityConsumption[2],\n                                        outerProgressBarClass: 'progress3BGColor',\n                                        innerProgressBarClass: 'progress3Color'\n                                    }\"></ng-container>\n                                </div>\n                                <div class=\"row mt-4\" *ngIf=\"entityConsumption?.[3]\">\n                                    <ng-container *ngTemplateOutlet=\"entityProgress; context: {\n                                        name: entityConsumption[3].name,\n                                        value: entityConsumption[3].value,\n                                        unit: entityConsumption[3].unit,\n                                        entityObj: entityConsumption[3],\n                                        outerProgressBarClass: 'progress4BGColor',\n                                        innerProgressBarClass: 'progress4Color'\n                                    }\"></ng-container>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </mat-card>\n            </div>\n        </div>\n\n        <div class=\"row mt-4\">\n            <div class=\"col-sm-3\">\n                <mat-card class=\"card main-card cardOverwrite card-info\">\n                    <ng-container *ngTemplateOutlet=\"deviceStatus; context: {\n                        label: 'Total devices',\n                        count: deviceInfoM.total\n                    }\"></ng-container>\n                </mat-card>\n            </div>\n            <div class=\"col-sm-3\">\n                <mat-card class=\"card main-card cardOverwrite card-success\">\n                    <ng-container *ngTemplateOutlet=\"deviceStatus; context: {\n                        label: 'Online devices',\n                        count: deviceInfoM.online\n                    }\"></ng-container>\n                </mat-card>\n            </div>\n            <div class=\"col-sm-3\">\n                <mat-card class=\"card main-card cardOverwrite card-warning\">\n                    <ng-container *ngTemplateOutlet=\"deviceStatus; context: {\n                        label: 'Delayed devices',\n                        count: deviceInfoM.delay\n                    }\"></ng-container>\n                </mat-card>\n            </div>\n            <div class=\"col-sm-3\">\n                <mat-card class=\"card main-card cardOverwrite card-danger\">\n                    <ng-container *ngTemplateOutlet=\"deviceStatus; context: {\n                        label: 'Offline devices',\n                        count: deviceInfoM.offline\n                    }\"></ng-container>\n                </mat-card>\n            </div>\n        </div>\n    </div>\n</div>\n\n<ng-template #totalConsumption let-label=\"label\" let-value=\"value\" let-unit=\"unit\" let-matCardClass=\"matCardClass\"\n    let-outerProgressBarClass=\"outerProgressBarClass\" let-innerProgressBarClass=\"innerProgressBarClass\">\n    <div class=\"col-sm-12\">\n        <div class=\"d-flex align-items-center\">\n            <mat-card class=\"card main-card square d-flex justify-content-center me-2\" [class]=\"matCardClass\">\n                <span class=\"material-symbols-outlined\">\n                    {{ icon }}\n                </span>\n            </mat-card>\n            <div class=\"row\">\n                <span>{{ label }}</span><br />\n                <span class=\"text-primary fw-bold\">{{ value ? value : commonConstant.HYPHEN }} <span\n                        class=\"unitSize\">{{ value ? unit : '' }}</span></span>\n            </div>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #entityProgress let-name=\"name\" let-value=\"value\" let-unit=\"unit\" let-entityObj=\"entityObj\"\n    let-outerProgressBarClass=\"outerProgressBarClass\" let-innerProgressBarClass=\"innerProgressBarClass\">\n    <div class=\"col-sm-12\">\n        <span>\n            {{ name }}\n        </span>\n        <span class=\"float-end text-primary fw-bold\"> {{ value ? value : commonConstant.HYPHEN }}\n            <span class=\"unitSize\"> {{ value ? unit : '' }} </span>\n        </span>\n        <div class=\"progress progressBarRadius\" [class]=\"outerProgressBarClass\">\n            <div class=\"progress-bar progressBarRadius\" [class]=\"innerProgressBarClass\" role=\"progressbar\"\n                [style.width.%]=\"calculateProgress(entityObj)\"></div>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #deviceStatus let-label=\"label\" let-count=\"count\">\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <span class=\"material-symbols-outlined\">\n                devices\n            </span>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-12 fs-1 fw-bold centerAlign\">\n            {{ count != undefined && count != null ? count : commonConstant.HYPHEN }}\n        </div>\n    </div>\n    <div class=\"row mt-1\">\n        <div class=\"col-sm-12 fs-5 centerAlign\">\n            {{ label }}\n        </div>\n    </div>\n</ng-template>", styles: [".cardHeight{height:280px}.square{box-shadow:none!important;border-radius:6px!important;height:50px;width:50px}.unitSize{font-size:.66rem}.today{background-color:#f9dedc;color:#fa7d74}.month{background-color:#c2e7ff;color:#21a1f7}.year{background-color:#c4eed0;color:#04942d}.progressBarRadius{border-radius:16px!important}.progress1BGColor{background-color:#f9dedc}.progress2BGColor{background-color:#c2e7ff}.progress3BGColor{background-color:#fff0d1}.progress4BGColor{background-color:#c4eed0}.progress1Color{background-color:#fa7d74}.progress2Color{background-color:#21a1f7}.progress3Color{background-color:#ffbb29}.progress4Color{background-color:#04942d}.card-info{background-color:#cfe2ff;color:#084298}.card-success{background-color:#c3f1d9;color:#058844}.card-warning{background-color:#fff3cd;color:#664d03}.card-danger{background-color:#f8d7da;color:#842029}\n"], components: [{ type: i7.MatCard, selector: "mat-card", exportAs: ["matCard"] }, { type: i8.CircleProgressComponent, selector: "circle-progress", inputs: ["name", "class", "backgroundGradient", "backgroundColor", "backgroundGradientStopColor", "backgroundOpacity", "backgroundStroke", "backgroundStrokeWidth", "backgroundPadding", "radius", "space", "percent", "toFixed", "maxPercent", "renderOnClick", "units", "unitsFontSize", "unitsFontWeight", "unitsColor", "outerStrokeGradient", "outerStrokeWidth", "outerStrokeColor", "outerStrokeGradientStopColor", "outerStrokeLinecap", "innerStrokeColor", "innerStrokeWidth", "titleFormat", "title", "titleColor", "titleFontSize", "titleFontWeight", "subtitleFormat", "subtitle", "subtitleColor", "subtitleFontSize", "subtitleFontWeight", "imageSrc", "imageHeight", "imageWidth", "animation", "animateTitle", "animateSubtitle", "animationDuration", "showTitle", "showSubtitle", "showUnits", "showImage", "showBackground", "showInnerStroke", "clockwise", "responsive", "startFromZero", "showZeroOuterStroke", "lazy", "options"], outputs: ["onClick"] }], directives: [{ type: i9.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }, { type: i9.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: HomeComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'lib-home',
                    templateUrl: './home.component.html',
                    styleUrls: ['./home.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i1.StorageService }, { type: i2.DateService }, { type: i3.TSCCommonService }, { type: i4.AggregateDataService }, { type: i5.EntityController }, { type: i6.DeviceController }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9tZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9saWJyYXJ5L3RzYy1saXRlL3NyYy9saWIvdHNjL2NvbXBvbmVudC9sYW5kaW5nLXBhZ2UvaG9tZS9ob21lLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2xpYnJhcnkvdHNjLWxpdGUvc3JjL2xpYi90c2MvY29tcG9uZW50L2xhbmRpbmctcGFnZS9ob21lL2hvbWUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQVUsTUFBTSxlQUFlLENBQUM7QUFFbEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3pELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBTzNFLGNBQWM7QUFDZCxPQUFPLEVBQUUsb0JBQW9CLEVBQWUsTUFBTSxlQUFlLENBQUM7QUFDbEUsT0FBTyxFQUFFLGVBQWUsRUFBb0IsTUFBTSxxQkFBcUIsQ0FBQztBQUV4RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQzs7Ozs7Ozs7Ozs7QUFDaEUsZ0JBQWdCO0FBUWhCLE1BQU0sT0FBTyxhQUFhO0lBc0J0QixZQUNZLGNBQThCLEVBQzlCLFdBQXdCLEVBQ3hCLGdCQUFrQyxFQUNsQyxvQkFBMEMsRUFDMUMsZ0JBQWtDLEVBQ2xDLGdCQUFrQztRQUxsQyxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDOUIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFDeEIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtRQUNsQyx5QkFBb0IsR0FBcEIsb0JBQW9CLENBQXNCO1FBQzFDLHFCQUFnQixHQUFoQixnQkFBZ0Is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SUFDZixDQUFDOzsyR0FwT1EsYUFBYTsrRkFBYixhQUFhLGdEQ3hCMUIseXVXQXdOYzs0RkRoTUQsYUFBYTtrQkFOekIsU0FBUzttQkFBQztvQkFDUCxRQUFRLEVBQUUsVUFBVTtvQkFDcEIsV0FBVyxFQUFFLHVCQUF1QjtvQkFDcEMsU0FBUyxFQUFFLENBQUMsdUJBQXVCLENBQUM7aUJBQ3ZDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRGV2aWNlSW5mbyB9IGZyb20gJy4uLy4uLy4uL21vZGVsL2RldmljZS5tb2RlbCc7XG5pbXBvcnQgeyBFbnRpdHlMZXZlbENvbnN1bXB0aW9uIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvZW50aXR5Lm1vZGVsJztcbmltcG9ydCB7IEFnZ3JlZ2F0ZURhdGFSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vbW9kZWwvYWdncmVnYXRlLWRhdGEubW9kZWwnO1xuXG5pbXBvcnQgeyBFbnRpdHlDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9lbnRpdHkuY29udHJvbGxlcic7XG5pbXBvcnQgeyBEZXZpY2VDb250cm9sbGVyIH0gZnJvbSAnLi4vLi4vLi4vY29udHJvbGxlci9kZXZpY2UuY29udHJvbGxlcic7XG5cbmltcG9ydCB7IEFnZ3JlZ2F0ZURhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZS9hZ2dyZWdhdGUtZGF0YS5zZXJ2aWNlJztcblxuLy8gdHNjLWxpYnJhcnlcbmltcG9ydCB7IERhdGVUaW1lSW50ZXJ2YWxFbnVtLCBEYXRlU2VydmljZSB9IGZyb20gJ0BsaWJyYXJ5L2RhdGUnO1xuaW1wb3J0IHsgQ09NTU9OX0NPTlNUQU5ULCBUU0NDb21tb25TZXJ2aWNlIH0gZnJvbSAnQGxpYnJhcnkvdHNjLWNvbW1vbic7XG5pbXBvcnQgeyBTdG9yYWdlU2VydmljZSB9IGZyb20gJ0BsaWJyYXJ5L3N0b3JhZ2Utc2VydmljZSc7XG5pbXBvcnQgeyBBcHBsaWNhdGlvbktleUlEIH0gZnJvbSAnQGxpYnJhcnkvYXBwbGljYXRpb24tc2VydmljZSc7XG4vLyAvdHNjLWxpYnJhcnkvXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbGliLWhvbWUnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9ob21lLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9ob21lLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5cbmV4cG9ydCBjbGFzcyBIb21lQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBjb21tb25Db25zdGFudCA9IENPTU1PTl9DT05TVEFOVDtcblxuICAgIG9yZ0lEOiBhbnk7XG4gICAgYXBwbGljYXRpb25LZXlJRDogYW55O1xuICAgIHBhcmFtS2V5OiBhbnk7XG4gICAgbGFiZWw6IGFueTtcbiAgICBpY29uO1xuXG4gICAgb3V0ZXJTdHJva2VDb2xvcjogYW55O1xuICAgIG91dGVyU3Ryb2tlR3JhZGllbnRTdG9wQ29sb3I6IGFueTtcbiAgICBpbm5lclN0cm9rZUNvbG9yOiBhbnk7XG5cbiAgICB0b3RhbENvbnN1bXB0aW9uQ2lyY2xlRGF0YTogYW55O1xuICAgIGNvbnN1bXB0aW9uQnJlYWt1cENpcmNsZURhdGE6IGFueTtcblxuICAgIHRvZGF5Q29uc3VtcHRpb246IGFueTtcbiAgICBjdXJyZW50TW9udGhDb25zdW1wdGlvbjogYW55O1xuICAgIGN1cnJlbnRZZWFyQ29uc3VtcHRpb246IGFueTtcbiAgICBlbnRpdHlDb25zdW1wdGlvbiA9IFtuZXcgRW50aXR5TGV2ZWxDb25zdW1wdGlvbigpXTtcbiAgICBkZXZpY2VJbmZvTSA9IG5ldyBEZXZpY2VJbmZvKCk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBzdG9yYWdlU2VydmljZTogU3RvcmFnZVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZGF0ZVNlcnZpY2U6IERhdGVTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHRzY0NvbW1vblNlcnZpY2U6IFRTQ0NvbW1vblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgYWdncmVnYXRlRGF0YVNlcnZpY2U6IEFnZ3JlZ2F0ZURhdGFTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGVudGl0eUNvbnRyb2xsZXI6IEVudGl0eUNvbnRyb2xsZXIsXG4gICAgICAgIHByaXZhdGUgZGV2aWNlQ29udHJvbGxlcjogRGV2aWNlQ29udHJvbGxlclxuICAgICkgeyB9XG5cbiAgICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vcmdJRCA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgnY3VycmVudE9yZ0lEJyk7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb25LZXlJRCA9IHRoaXMuc3RvcmFnZVNlcnZpY2UuZ2V0U3RvcmFnZSgnYXBwbGljYXRpb25LZXlJRCcpO1xuXG4gICAgICAgIGlmICh0aGlzLmFwcGxpY2F0aW9uS2V5SUQgPT0gQXBwbGljYXRpb25LZXlJRC5FTkVSR1lfS0VZX0lEKSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gXCJFbmVyZ3lcIjtcbiAgICAgICAgICAgIHRoaXMuaWNvbiA9IFwiYm9sdFwiO1xuICAgICAgICAgICAgdGhpcy5wYXJhbUtleSA9IFwiZW5nRW5lcmd5VXNlZFwiO1xuICAgICAgICAgICAgdGhpcy5vdXRlclN0cm9rZUNvbG9yID0gXCIjZmE5MjAwXCI7XG4gICAgICAgICAgICB0aGlzLm91dGVyU3Ryb2tlR3JhZGllbnRTdG9wQ29sb3IgPSBcIiNmZGQxMzBcIjtcbiAgICAgICAgICAgIHRoaXMuaW5uZXJTdHJva2VDb2xvciA9IFwiI2ZiZTJhNlwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYXBwbGljYXRpb25LZXlJRCA9PSBBcHBsaWNhdGlvbktleUlELldBVEVSX0tFWV9JRCkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IFwiV2F0ZXJcIjtcbiAgICAgICAgICAgIHRoaXMuaWNvbiA9IFwid2F0ZXJfZHJvcFwiO1xuICAgICAgICAgICAgdGhpcy5wYXJhbUtleSA9IFwiZ3dGbG93VG90YWxpemVyXCI7XG4gICAgICAgICAgICB0aGlzLm91dGVyU3Ryb2tlQ29sb3IgPSBcIiM0ODgyYzJcIjtcbiAgICAgICAgICAgIHRoaXMub3V0ZXJTdHJva2VHcmFkaWVudFN0b3BDb2xvciA9IFwiIzUzYTlmZlwiO1xuICAgICAgICAgICAgdGhpcy5pbm5lclN0cm9rZUNvbG9yID0gXCIjZGJlN2ZmXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdldFRvdGFsQ29uc3VtcHRpb24oRGF0ZVRpbWVJbnRlcnZhbEVudW0uQ1VSUkVOVF9EQVkpXG4gICAgICAgICAgICAudGhlbihhcHAgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudG9kYXlDb25zdW1wdGlvbiA9IGFwcDtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5nZXRUb3RhbENvbnN1bXB0aW9uKERhdGVUaW1lSW50ZXJ2YWxFbnVtLkNVUlJFTlRfTU9OVEgpXG4gICAgICAgICAgICAudGhlbihhcHAgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoQ29uc3VtcHRpb24gPSBhcHA7XG4gICAgICAgICAgICAgICAgY29uc3QgdG90YWxDb25zdW1wdGlvblZhbHVlID0gdGhpcy5jdXJyZW50TW9udGhDb25zdW1wdGlvbj8uWzBdPy5bJ2RhdGEnXT8uWzBdPy5bJ3ZhbHVlJ107XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsQ29uc3VtcHRpb25DaXJjbGVEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBwZXJjZW50OiB0aGlzLnRzY0NvbW1vblNlcnZpY2UuZm9ybWF0TGFyZ2VOdW1iZXIodG90YWxDb25zdW1wdGlvblZhbHVlLCAnZmFsc2UnLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4UGVyY2VudDogOTk5OTk5OTk5LFxuICAgICAgICAgICAgICAgICAgICB1bml0czogdGhpcy5jdXJyZW50TW9udGhDb25zdW1wdGlvbj8uWzBdPy51bml0LFxuICAgICAgICAgICAgICAgICAgICBzaG93VW5pdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJhZGl1czogNzUsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlOiA0LFxuICAgICAgICAgICAgICAgICAgICBvdXRlclN0cm9rZUdyYWRpZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBvdXRlclN0cm9rZVdpZHRoOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgb3V0ZXJTdHJva2VDb2xvcjogdGhpcy5vdXRlclN0cm9rZUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBvdXRlclN0cm9rZUdyYWRpZW50U3RvcENvbG9yOiB0aGlzLm91dGVyU3Ryb2tlR3JhZGllbnRTdG9wQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGlubmVyU3Ryb2tlQ29sb3I6IHRoaXMuaW5uZXJTdHJva2VDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbm5lclN0cm9rZVdpZHRoOiA1LFxuICAgICAgICAgICAgICAgICAgICBzaG93U3VidGl0bGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZUZvcm1hdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RnJvbVplcm86IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZ2V0VG90YWxDb25zdW1wdGlvbihEYXRlVGltZUludGVydmFsRW51bS5DVVJSRU5UX1lFQVIpXG4gICAgICAgICAgICAudGhlbihhcHAgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFllYXJDb25zdW1wdGlvbiA9IGFwcDtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5nZXRUb3RhbEVudGl0aWVzQ29uc3VtcHRpb24oKTtcbiAgICAgICAgdGhpcy5nZXRFbnRpdHlMZXZlbENvbnN1bXB0aW9uKCk7XG4gICAgICAgIHRoaXMuZ2V0RGV2aWNlSW5mbygpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFRvdGFsQ29uc3VtcHRpb24oc2VsZWN0ZWRSYW5nZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSBuZXcgQWdncmVnYXRlRGF0YVJlcXVlc3QoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUmFuZ2UgPT0gRGF0ZVRpbWVJbnRlcnZhbEVudW0uQ1VSUkVOVF9EQVkpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0RGF0YS5zdGFydFRpbWUgPSB0aGlzLmRhdGVTZXJ2aWNlLmdldFN0YXJ0RGF0ZVRpbWUoRGF0ZVRpbWVJbnRlcnZhbEVudW0uQ1VSUkVOVF9EQVkpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLmludGVydmFsID0gJ2RheV8xJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRSYW5nZSA9PSBEYXRlVGltZUludGVydmFsRW51bS5DVVJSRU5UX01PTlRIKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEuc3RhcnRUaW1lID0gdGhpcy5kYXRlU2VydmljZS5nZXRTdGFydERhdGVUaW1lKERhdGVUaW1lSW50ZXJ2YWxFbnVtLkNVUlJFTlRfTU9OVEgpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLmludGVydmFsID0gJ21vbnRoXzEnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFJhbmdlID09IERhdGVUaW1lSW50ZXJ2YWxFbnVtLkNVUlJFTlRfWUVBUikge1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLnN0YXJ0VGltZSA9IHRoaXMuZGF0ZVNlcnZpY2UuZ2V0U3RhcnREYXRlVGltZShEYXRlVGltZUludGVydmFsRW51bS5DVVJSRU5UX1lFQVIpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLmludGVydmFsID0gJ3llYXJfMSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlcXVlc3REYXRhLmVuZFRpbWUgPSB0aGlzLmRhdGVTZXJ2aWNlLmdldEVuZERhdGVUaW1lKERhdGVUaW1lSW50ZXJ2YWxFbnVtLkNVUlJFTlRfVElNRSk7XG4gICAgICAgICAgICByZXF1ZXN0RGF0YS5wYXJhbXMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnBhcmFtS2V5LFxuICAgICAgICAgICAgICAgICAgICBkc0FnZzogXCJzdW1cIixcbiAgICAgICAgICAgICAgICAgICAgYWdnOiBcInN1bVwiLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2Vfb3JfbG9hZDogXCJzb3VyY2VcIixcbiAgICAgICAgICAgICAgICAgICAgc291cmNlTG9hZFR5cGU6IFwiYWxsXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmVxdWVzdERhdGEubnVsbGlmeVBhcmFtcygpO1xuICAgICAgICAgICAgcmVxdWVzdERhdGEuZ3JvdXBBbGwgPSB0cnVlO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFnZ3JlZ2F0ZURhdGFTZXJ2aWNlLmdldEFnZ3JlZ2F0ZURhdGEodGhpcy5vcmdJRCwgcmVxdWVzdERhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGdldFRvdGFsQ29uc3VtcHRpb24gZm9yICgke3NlbGVjdGVkUmFuZ2V9KWAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGdldFRvdGFsRW50aXRpZXNDb25zdW1wdGlvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXF1ZXN0RGF0YSA9IG5ldyBBZ2dyZWdhdGVEYXRhUmVxdWVzdCgpO1xuXG4gICAgICAgICAgICByZXF1ZXN0RGF0YS5zdGFydFRpbWUgPSB0aGlzLmRhdGVTZXJ2aWNlLmdldFN0YXJ0RGF0ZVRpbWUoRGF0ZVRpbWVJbnRlcnZhbEVudW0uQ1VSUkVOVF9NT05USCk7XG4gICAgICAgICAgICByZXF1ZXN0RGF0YS5lbmRUaW1lID0gdGhpcy5kYXRlU2VydmljZS5nZXRFbmREYXRlVGltZShEYXRlVGltZUludGVydmFsRW51bS5DVVJSRU5UX1RJTUUpO1xuICAgICAgICAgICAgcmVxdWVzdERhdGEuaW50ZXJ2YWwgPSBcIm1vbnRoXzFcIjtcbiAgICAgICAgICAgIHJlcXVlc3REYXRhLnBhcmFtcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMucGFyYW1LZXksXG4gICAgICAgICAgICAgICAgICAgIGRzQWdnOiBcInN1bVwiLFxuICAgICAgICAgICAgICAgICAgICBhZ2c6IFwic3VtXCIsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZV9vcl9sb2FkOiBcImxvYWRcIixcbiAgICAgICAgICAgICAgICAgICAgc291cmNlTG9hZFR5cGU6IFwiYWxsXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgcmVxdWVzdERhdGEubnVsbGlmeVBhcmFtcygpO1xuICAgICAgICAgICAgcmVxdWVzdERhdGEuZ3JvdXBBbGwgPSB0cnVlO1xuXG4gICAgICAgICAgICBjb25zdCB0b3RhbEVudGl0aWVzQ29uc3VtRGF0YSA9IGF3YWl0IHRoaXMuYWdncmVnYXRlRGF0YVNlcnZpY2UuZ2V0QWdncmVnYXRlRGF0YSh0aGlzLm9yZ0lELCByZXF1ZXN0RGF0YSk7XG4gICAgICAgICAgICBjb25zdCBjb25zdW1wdGlvbkJyZWFrdXBWYWx1ZSA9IHRvdGFsRW50aXRpZXNDb25zdW1EYXRhPy5bMF0/LlsnZGF0YSddPy5bMF0/LlsndmFsdWUnXTtcblxuICAgICAgICAgICAgdGhpcy5jb25zdW1wdGlvbkJyZWFrdXBDaXJjbGVEYXRhID0ge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHRoaXMudHNjQ29tbW9uU2VydmljZS5mb3JtYXRMYXJnZU51bWJlcihjb25zdW1wdGlvbkJyZWFrdXBWYWx1ZSwgJ2ZhbHNlJywgMSksXG4gICAgICAgICAgICAgICAgbWF4UGVyY2VudDogOTk5OTk5OTk5LFxuICAgICAgICAgICAgICAgIHVuaXRzOiB0b3RhbEVudGl0aWVzQ29uc3VtRGF0YT8uWzBdPy51bml0LFxuICAgICAgICAgICAgICAgIHNob3dVbml0czogdHJ1ZSxcbiAgICAgICAgICAgICAgICByYWRpdXM6IDc1LFxuICAgICAgICAgICAgICAgIHNwYWNlOiA0LFxuICAgICAgICAgICAgICAgIG91dGVyU3Ryb2tlR3JhZGllbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgb3V0ZXJTdHJva2VXaWR0aDogMTAsXG4gICAgICAgICAgICAgICAgb3V0ZXJTdHJva2VDb2xvcjogdGhpcy5vdXRlclN0cm9rZUNvbG9yLFxuICAgICAgICAgICAgICAgIG91dGVyU3Ryb2tlR3JhZGllbnRTdG9wQ29sb3I6IHRoaXMub3V0ZXJTdHJva2VHcmFkaWVudFN0b3BDb2xvcixcbiAgICAgICAgICAgICAgICBpbm5lclN0cm9rZUNvbG9yOiB0aGlzLmlubmVyU3Ryb2tlQ29sb3IsXG4gICAgICAgICAgICAgICAgc2hvd0JhY2tncm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlubmVyU3Ryb2tlV2lkdGg6IDUsXG4gICAgICAgICAgICAgICAgc2hvd1N1YnRpdGxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZUZvcm1hdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc3RhcnRGcm9tWmVybzogZmFsc2UsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGdldFRvdGFsRW50aXRpZXNDb25zdW1wdGlvbigpYCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RW50aXR5TGV2ZWxDb25zdW1wdGlvbigpIHtcbiAgICAgICAgbGV0IHJlcXVlc3REYXRhID0gbmV3IEFnZ3JlZ2F0ZURhdGFSZXF1ZXN0KCk7XG5cbiAgICAgICAgcmVxdWVzdERhdGEuc3RhcnRUaW1lID0gdGhpcy5kYXRlU2VydmljZS5nZXRTdGFydERhdGVUaW1lKERhdGVUaW1lSW50ZXJ2YWxFbnVtLkNVUlJFTlRfTU9OVEgpO1xuICAgICAgICByZXF1ZXN0RGF0YS5lbmRUaW1lID0gdGhpcy5kYXRlU2VydmljZS5nZXRFbmREYXRlVGltZShEYXRlVGltZUludGVydmFsRW51bS5DVVJSRU5UX1RJTUUpO1xuICAgICAgICByZXF1ZXN0RGF0YS5pbnRlcnZhbCA9IFwibW9udGhfMVwiO1xuICAgICAgICByZXF1ZXN0RGF0YS5wYXJhbXMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5wYXJhbUtleSxcbiAgICAgICAgICAgICAgICBkc0FnZzogXCJzdW1cIixcbiAgICAgICAgICAgICAgICBhZ2c6IFwic3VtXCIsXG4gICAgICAgICAgICAgICAgc291cmNlX29yX2xvYWQ6IFwibG9hZFwiLFxuICAgICAgICAgICAgICAgIHNvdXJjZUxvYWRUeXBlOiBcImFsbFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIHJlcXVlc3REYXRhLm51bGxpZnlQYXJhbXMoKTtcbiAgICAgICAgcmVxdWVzdERhdGEuZ3JvdXBBbGwgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmVudGl0eUNvbnRyb2xsZXIuZ2V0RW50aXR5TGV2ZWxDb25zdW1wdGlvbih0aGlzLm9yZ0lELCByZXF1ZXN0RGF0YSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKGVudGl0eUNvbnN1bVJlczogRW50aXR5TGV2ZWxDb25zdW1wdGlvbltdKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRpdHlDb25zdW1wdGlvbiA9IGVudGl0eUNvbnN1bVJlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gZ2V0RW50aXR5TGV2ZWxDb25zdW1wdGlvbigpIC0nLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGlnaGVzdENvbnN1bXB0aW9uRW50aXR5KCkge1xuICAgICAgICBpZiAodGhpcy5lbnRpdHlDb25zdW1wdGlvbj8ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmVudGl0eUNvbnN1bXB0aW9uPy5yZWR1Y2UoKG1heEVudGl0eSwgY3VycmVudEVudGl0eSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbnRpdHkudmFsdWUgPiBtYXhFbnRpdHkudmFsdWUgPyBjdXJyZW50RW50aXR5IDogbWF4RW50aXR5O1xuICAgICAgICB9LCB0aGlzLmVudGl0eUNvbnN1bXB0aW9uPy5bMF0pO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZVByb2dyZXNzKGVudGl0eSkge1xuICAgICAgICBjb25zdCBoaWdoZXN0Q29uc3VtcHRpb24gPSB0aGlzLmhpZ2hlc3RDb25zdW1wdGlvbkVudGl0eSgpO1xuICAgICAgICBpZiAoIWhpZ2hlc3RDb25zdW1wdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAoZW50aXR5LnZhbHVlIC8gaGlnaGVzdENvbnN1bXB0aW9uLnZhbHVlKSAqIDEwMDtcbiAgICAgICAgcmV0dXJuIHByb2dyZXNzO1xuICAgIH1cblxuICAgIGdldERldmljZUluZm8oKSB7XG4gICAgICAgIHRoaXMuZGV2aWNlQ29udHJvbGxlci5nZXREZXZpY2VJbmZvKHRoaXMub3JnSUQpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChkZXZpY2VSZXM6IERldmljZUluZm8pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRldmljZUluZm9NID0gZGV2aWNlUmVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBpbiBnZXREZXZpY2VJbmZvKCkgLScsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICB9XG5cbn0iLCI8ZGl2IGNsYXNzPVwiY2FyZCBtYWluLWNhcmQgY2FyZE92ZXJ3cml0ZSBoMTAwXCI+XG4gICAgPGRpdiBjbGFzcz1cImhlYWRlckNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyTGVmdENvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2VUaXRsZVwiPkhvbWU8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5IHB0LTBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XG4gICAgICAgICAgICAgICAgPG1hdC1jYXJkIGNsYXNzPVwiY2FyZE92ZXJ3cml0ZSBjYXJkQmFja2dyb3VuZENvbG9yIGNhcmRIZWlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZFRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvdGFsIHt7IGxhYmVsIH19IENvbnN1bXB0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNlbnRlckFsaWduXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlLXByb2dyZXNzIFtvcHRpb25zXT1cInRvdGFsQ29uc3VtcHRpb25DaXJjbGVEYXRhXCIgW3JlbmRlck9uQ2xpY2tdPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29weVwiPjwvY2lyY2xlLXByb2dyZXNzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2VudGVyQWxpZ25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgTW9udGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNiBtcy00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJ0b3RhbENvbnN1bXB0aW9uOyBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdUb2RheScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRvZGF5Q29uc3VtcHRpb24/LlswXT8uWydkYXRhJ10/LlswXT8uWyd2YWx1ZSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IHRvZGF5Q29uc3VtcHRpb24/LlswXT8uWyd1bml0J10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Q2FyZENsYXNzOiAndG9kYXknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IG10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJ0b3RhbENvbnN1bXB0aW9uOyBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdUaGlzIE1vbnRoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudE1vbnRoQ29uc3VtcHRpb24/LlswXT8uWydkYXRhJ10/LlswXT8uWyd2YWx1ZSddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IGN1cnJlbnRNb250aENvbnN1bXB0aW9uPy5bMF0/LlsndW5pdCddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdENhcmRDbGFzczogJ21vbnRoJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwidG90YWxDb25zdW1wdGlvbjsgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnVGhpcyBZZWFyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudFllYXJDb25zdW1wdGlvbj8uWzBdPy5bJ2RhdGEnXT8uWzBdPy5bJ3ZhbHVlJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdDogY3VycmVudFllYXJDb25zdW1wdGlvbj8uWzBdPy5bJ3VuaXQnXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRDYXJkQ2xhc3M6ICd5ZWFyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L21hdC1jYXJkPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJjYXJkT3ZlcndyaXRlIGNhcmRCYWNrZ3JvdW5kQ29sb3IgY2FyZEhlaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJkVGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgbGFiZWwgfX0gQ29uc3VtcHRpb24gQnJlYWt1cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjZW50ZXJBbGlnblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZS1wcm9ncmVzcyBbb3B0aW9uc109XCJjb25zdW1wdGlvbkJyZWFrdXBDaXJjbGVEYXRhXCIgW3JlbmRlck9uQ2xpY2tdPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29weVwiPjwvY2lyY2xlLXByb2dyZXNzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2VudGVyQWxpZ25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgTW9udGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgKm5nSWY9XCJlbnRpdHlDb25zdW1wdGlvbj8uWzBdPy5pZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImVudGl0eVByb2dyZXNzOyBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZW50aXR5Q29uc3VtcHRpb25bMF0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50aXR5Q29uc3VtcHRpb25bMF0udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdDogZW50aXR5Q29uc3VtcHRpb25bMF0udW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlPYmo6IGVudGl0eUNvbnN1bXB0aW9uWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyUHJvZ3Jlc3NCYXJDbGFzczogJ3Byb2dyZXNzMUJHQ29sb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUHJvZ3Jlc3NCYXJDbGFzczogJ3Byb2dyZXNzMUNvbG9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyBtdC00XCIgKm5nSWY9XCJlbnRpdHlDb25zdW1wdGlvbj8uWzFdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiZW50aXR5UHJvZ3Jlc3M7IGNvbnRleHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlbnRpdHlDb25zdW1wdGlvblsxXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlbnRpdHlDb25zdW1wdGlvblsxXS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0OiBlbnRpdHlDb25zdW1wdGlvblsxXS51bml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eU9iajogZW50aXR5Q29uc3VtcHRpb25bMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJQcm9ncmVzc0JhckNsYXNzOiAncHJvZ3Jlc3MyQkdDb2xvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJQcm9ncmVzc0JhckNsYXNzOiAncHJvZ3Jlc3MyQ29sb3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IG10LTRcIiAqbmdJZj1cImVudGl0eUNvbnN1bXB0aW9uPy5bMl1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nVGVtcGxhdGVPdXRsZXQ9XCJlbnRpdHlQcm9ncmVzczsgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGVudGl0eUNvbnN1bXB0aW9uWzJdLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGVudGl0eUNvbnN1bXB0aW9uWzJdLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXQ6IGVudGl0eUNvbnN1bXB0aW9uWzJdLnVuaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5T2JqOiBlbnRpdHlDb25zdW1wdGlvblsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRlclByb2dyZXNzQmFyQ2xhc3M6ICdwcm9ncmVzczNCR0NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclByb2dyZXNzQmFyQ2xhc3M6ICdwcm9ncmVzczNDb2xvcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXQtNFwiICpuZ0lmPVwiZW50aXR5Q29uc3VtcHRpb24/LlszXVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImVudGl0eVByb2dyZXNzOyBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZW50aXR5Q29uc3VtcHRpb25bM10ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZW50aXR5Q29uc3VtcHRpb25bM10udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdDogZW50aXR5Q29uc3VtcHRpb25bM10udW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlPYmo6IGVudGl0eUNvbnN1bXB0aW9uWzNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dGVyUHJvZ3Jlc3NCYXJDbGFzczogJ3Byb2dyZXNzNEJHQ29sb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyUHJvZ3Jlc3NCYXJDbGFzczogJ3Byb2dyZXNzNENvbG9yJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L21hdC1jYXJkPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXQtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPG1hdC1jYXJkIGNsYXNzPVwiY2FyZCBtYWluLWNhcmQgY2FyZE92ZXJ3cml0ZSBjYXJkLWluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImRldmljZVN0YXR1czsgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdUb3RhbCBkZXZpY2VzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiBkZXZpY2VJbmZvTS50b3RhbFxuICAgICAgICAgICAgICAgICAgICB9XCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9tYXQtY2FyZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0zXCI+XG4gICAgICAgICAgICAgICAgPG1hdC1jYXJkIGNsYXNzPVwiY2FyZCBtYWluLWNhcmQgY2FyZE92ZXJ3cml0ZSBjYXJkLXN1Y2Nlc3NcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImRldmljZVN0YXR1czsgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdPbmxpbmUgZGV2aWNlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogZGV2aWNlSW5mb00ub25saW5lXG4gICAgICAgICAgICAgICAgICAgIH1cIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8L21hdC1jYXJkPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTNcIj5cbiAgICAgICAgICAgICAgICA8bWF0LWNhcmQgY2xhc3M9XCJjYXJkIG1haW4tY2FyZCBjYXJkT3ZlcndyaXRlIGNhcmQtd2FybmluZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ1RlbXBsYXRlT3V0bGV0PVwiZGV2aWNlU3RhdHVzOyBjb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0RlbGF5ZWQgZGV2aWNlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogZGV2aWNlSW5mb00uZGVsYXlcbiAgICAgICAgICAgICAgICAgICAgfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tM1wiPlxuICAgICAgICAgICAgICAgIDxtYXQtY2FyZCBjbGFzcz1cImNhcmQgbWFpbi1jYXJkIGNhcmRPdmVyd3JpdGUgY2FyZC1kYW5nZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImRldmljZVN0YXR1czsgY29udGV4dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdPZmZsaW5lIGRldmljZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGRldmljZUluZm9NLm9mZmxpbmVcbiAgICAgICAgICAgICAgICAgICAgfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDwvbWF0LWNhcmQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5cblxuPG5nLXRlbXBsYXRlICN0b3RhbENvbnN1bXB0aW9uIGxldC1sYWJlbD1cImxhYmVsXCIgbGV0LXZhbHVlPVwidmFsdWVcIiBsZXQtdW5pdD1cInVuaXRcIiBsZXQtbWF0Q2FyZENsYXNzPVwibWF0Q2FyZENsYXNzXCJcbiAgICBsZXQtb3V0ZXJQcm9ncmVzc0JhckNsYXNzPVwib3V0ZXJQcm9ncmVzc0JhckNsYXNzXCIgbGV0LWlubmVyUHJvZ3Jlc3NCYXJDbGFzcz1cImlubmVyUHJvZ3Jlc3NCYXJDbGFzc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxtYXQtY2FyZCBjbGFzcz1cImNhcmQgbWFpbi1jYXJkIHNxdWFyZSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBtZS0yXCIgW2NsYXNzXT1cIm1hdENhcmRDbGFzc1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZFwiPlxuICAgICAgICAgICAgICAgICAgICB7eyBpY29uIH19XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9tYXQtY2FyZD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj57eyBsYWJlbCB9fTwvc3Bhbj48YnIgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtcHJpbWFyeSBmdy1ib2xkXCI+e3sgdmFsdWUgPyB2YWx1ZSA6IGNvbW1vbkNvbnN0YW50LkhZUEhFTiB9fSA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ1bml0U2l6ZVwiPnt7IHZhbHVlID8gdW5pdCA6ICcnIH19PC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjZW50aXR5UHJvZ3Jlc3MgbGV0LW5hbWU9XCJuYW1lXCIgbGV0LXZhbHVlPVwidmFsdWVcIiBsZXQtdW5pdD1cInVuaXRcIiBsZXQtZW50aXR5T2JqPVwiZW50aXR5T2JqXCJcbiAgICBsZXQtb3V0ZXJQcm9ncmVzc0JhckNsYXNzPVwib3V0ZXJQcm9ncmVzc0JhckNsYXNzXCIgbGV0LWlubmVyUHJvZ3Jlc3NCYXJDbGFzcz1cImlubmVyUHJvZ3Jlc3NCYXJDbGFzc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cbiAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICB7eyBuYW1lIH19XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmbG9hdC1lbmQgdGV4dC1wcmltYXJ5IGZ3LWJvbGRcIj4ge3sgdmFsdWUgPyB2YWx1ZSA6IGNvbW1vbkNvbnN0YW50LkhZUEhFTiB9fVxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1bml0U2l6ZVwiPiB7eyB2YWx1ZSA/IHVuaXQgOiAnJyB9fSA8L3NwYW4+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzIHByb2dyZXNzQmFyUmFkaXVzXCIgW2NsYXNzXT1cIm91dGVyUHJvZ3Jlc3NCYXJDbGFzc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhciBwcm9ncmVzc0JhclJhZGl1c1wiIFtjbGFzc109XCJpbm5lclByb2dyZXNzQmFyQ2xhc3NcIiByb2xlPVwicHJvZ3Jlc3NiYXJcIlxuICAgICAgICAgICAgICAgIFtzdHlsZS53aWR0aC4lXT1cImNhbGN1bGF0ZVByb2dyZXNzKGVudGl0eU9iailcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuXG48bmctdGVtcGxhdGUgI2RldmljZVN0YXR1cyBsZXQtbGFiZWw9XCJsYWJlbFwiIGxldC1jb3VudD1cImNvdW50XCI+XG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWRcIj5cbiAgICAgICAgICAgICAgICBkZXZpY2VzXG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMiBmcy0xIGZ3LWJvbGQgY2VudGVyQWxpZ25cIj5cbiAgICAgICAgICAgIHt7IGNvdW50ICE9IHVuZGVmaW5lZCAmJiBjb3VudCAhPSBudWxsID8gY291bnQgOiBjb21tb25Db25zdGFudC5IWVBIRU4gfX1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInJvdyBtdC0xXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTIgZnMtNSBjZW50ZXJBbGlnblwiPlxuICAgICAgICAgICAge3sgbGFiZWwgfX1cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L25nLXRlbXBsYXRlPiJdfQ==