import { Component, ElementRef, Input, Output, EventEmitter, } from '@angular/core';
import Gauge from 'svg-gauge';
import { GaugeDefaults } from './gauge-defaults.service';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './gauge-defaults.service';
export class GaugeComponent {
    constructor(elm, defaults) {
        this.elm = elm;
        this.defaults = defaults;
        /**
         * Called when the gauge is created
         */
        this.gaugeCreated = new EventEmitter();
    }
    ngAfterViewInit() {
        const options = {
            dialStartAngle: this.dialStartAngle,
            dialEndAngle: this.dialEndAngle,
            dialRadius: this.dialRadius,
            min: this.min,
            max: this.max,
            label: this.label,
            showValue: this.showValue,
            gaugeClass: this.gaugeClass,
            dialClass: this.dialClass,
            valueDialClass: this.valueDialClass,
            valueClass: this.valueClass,
            value: this.value,
            color: this.color,
        };
        Object.keys(this.defaults).forEach((optionKey) => {
            if (typeof options[optionKey] === 'undefined') {
                options[optionKey] = this.defaults[optionKey];
            }
        });
        Object.keys(options).forEach((optionKey) => {
            if (typeof options[optionKey] === 'undefined') {
                delete options[optionKey];
            }
        });
        this.gauge = Gauge(this.elm.nativeElement, options);
        this.gaugeCreated.emit({ gauge: this.gauge });
        this.updateValue();
    }
    ngOnChanges(changes) {
        if (changes['value']) {
            this.updateValue();
        }
    }
    updateValue() {
        if (this.gauge) {
            if (this.animated) {
                this.gauge.setValueAnimated(this.value, this.animationDuration);
            }
            else {
                this.gauge.setValue(this.value);
            }
        }
    }
}
GaugeComponent.ɵfac = function GaugeComponent_Factory(t) { return new (t || GaugeComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.GaugeDefaults)); };
GaugeComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: GaugeComponent, selectors: [["mwl-gauge"]], inputs: { dialStartAngle: "dialStartAngle", dialEndAngle: "dialEndAngle", dialRadius: "dialRadius", min: "min", max: "max", label: "label", color: "color", showValue: "showValue", gaugeClass: "gaugeClass", dialClass: "dialClass", valueDialClass: "valueDialClass", valueClass: "valueClass", value: "value", animated: "animated", animationDuration: "animationDuration" }, outputs: { gaugeCreated: "gaugeCreated" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function GaugeComponent_Template(rf, ctx) { }, encapsulation: 2 });
GaugeComponent.ctorParameters = () => [
    { type: ElementRef },
    { type: GaugeDefaults }
];
GaugeComponent.propDecorators = {
    dialStartAngle: [{ type: Input }],
    dialEndAngle: [{ type: Input }],
    dialRadius: [{ type: Input }],
    min: [{ type: Input }],
    max: [{ type: Input }],
    label: [{ type: Input }],
    color: [{ type: Input }],
    showValue: [{ type: Input }],
    gaugeClass: [{ type: Input }],
    dialClass: [{ type: Input }],
    valueDialClass: [{ type: Input }],
    valueClass: [{ type: Input }],
    value: [{ type: Input }],
    animated: [{ type: Input }],
    animationDuration: [{ type: Input }],
    gaugeCreated: [{ type: Output }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(GaugeComponent, [{
        type: Component,
        args: [{
                selector: 'mwl-gauge',
                template: ''
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.GaugeDefaults }]; }, { gaugeCreated: [{
            type: Output
        }], dialStartAngle: [{
            type: Input
        }], dialEndAngle: [{
            type: Input
        }], dialRadius: [{
            type: Input
        }], min: [{
            type: Input
        }], max: [{
            type: Input
        }], label: [{
            type: Input
        }], color: [{
            type: Input
        }], showValue: [{
            type: Input
        }], gaugeClass: [{
            type: Input
        }], dialClass: [{
            type: Input
        }], valueDialClass: [{
            type: Input
        }], valueClass: [{
            type: Input
        }], value: [{
            type: Input
        }], animated: [{
            type: Input
        }], animationDuration: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2F1Z2UuY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9Vc2Vycy9tYXR0bGV3aXMvQ29kZS9vcGVuLXNvdXJjZS9hbmd1bGFyLWdhdWdlL3NyYy9nYXVnZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFNBQVMsRUFDVCxVQUFVLEVBQ1YsS0FBSyxFQUNMLE1BQU0sRUFDTixZQUFZLEdBSWIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxLQUFLLE1BQU0sV0FBVyxDQUFDO0FBQzlCLE9BQU8sRUFBRSxhQUFhLEVBQWdCLE1BQU0sMEJBQTBCLENBQUM7OztBQU12RSxNQUFNLE9BQU8sY0FBYztBQUFHLElBbUY1QixZQUFvQixHQUFlLEVBQVUsUUFBdUI7QUFBSSxRQUFwRCxRQUFHLEdBQUgsR0FBRyxDQUFZO0FBQUMsUUFBUyxhQUFRLEdBQVIsUUFBUSxDQUFlO0FBQUMsUUFQckU7QUFDRjtBQUVBLFdBREs7QUFDTCxRQUFZLGlCQUFZLEdBQWlDLElBQUksWUFBWSxFQUFFLENBQUM7QUFDNUUsSUFHeUUsQ0FBQztBQUMxRSxJQUNFLGVBQWU7QUFBSyxRQUNsQixNQUFNLE9BQU8sR0FBaUI7QUFDbEMsWUFBTSxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWM7QUFDekMsWUFBTSxZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7QUFDckMsWUFBTSxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7QUFDakMsWUFBTSxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7QUFDbkIsWUFBTSxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7QUFDbkIsWUFBTSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7QUFDdkIsWUFBTSxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7QUFDL0IsWUFBTSxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7QUFDakMsWUFBTSxTQUFTLEVBQUUsSUFBSSxDQUFDLFNBQVM7QUFDL0IsWUFBTSxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWM7QUFDekMsWUFBTSxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVU7QUFDakMsWUFBTSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7QUFDdkIsWUFBTSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7QUFDdkIsU0FBSyxDQUFDO0FBQ04sUUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtBQUNyRCxZQUFNLElBQUksT0FBTyxPQUFPLENBQUMsU0FBUyxDQUFDLEtBQUssV0FBVyxFQUFFO0FBQ3JELGdCQUFRLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3RELGFBQU87QUFDUCxRQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ1AsUUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFO0FBQy9DLFlBQU0sSUFBSSxPQUFPLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxXQUFXLEVBQUU7QUFDckQsZ0JBQVEsT0FBTyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDbEMsYUFBTztBQUNQLFFBQUksQ0FBQyxDQUFDLENBQUM7QUFDUCxRQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3hELFFBQ0ksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7QUFDbEQsUUFDSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDdkIsSUFBRSxDQUFDO0FBQ0gsSUFDRSxXQUFXLENBQUMsT0FBc0I7QUFBSSxRQUNwQyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUMxQixZQUFNLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUN6QixTQUFLO0FBQ0wsSUFBRSxDQUFDO0FBQ0gsSUFDVSxXQUFXO0FBQUssUUFDdEIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQ3BCLFlBQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO0FBQ3pCLGdCQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUN4RSxhQUFPO0FBQUMsaUJBQUs7QUFDYixnQkFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDeEMsYUFBTztBQUNQLFNBQUs7QUFDTCxJQUFFLENBQUM7QUFDSDswQ0E1SUMsU0FBUyxTQUFDLGtCQUNULFFBQVEsRUFBRSxXQUFXLGtCQUNyQixRQUFRLEVBQUUsRUFBRSxjQUNiO3VwQkFDSTtBQUFDO0FBQXdDLFlBZjVDLFVBQVU7QUFDVixZQVFPLGFBQWE7QUFBRztBQUFHO0FBQWtDLDZCQVUzRCxLQUFLO0FBQUssMkJBS1YsS0FBSztBQUFLLHlCQUtWLEtBQUs7QUFBSyxrQkFLVixLQUFLO0FBQUssa0JBS1YsS0FBSztBQUFLLG9CQUtWLEtBQUs7QUFBSyxvQkFLVixLQUFLO0FBQUssd0JBS1YsS0FBSztBQUFLLHlCQUtWLEtBQUs7QUFBSyx3QkFLVixLQUFLO0FBQUssNkJBS1YsS0FBSztBQUFLLHlCQUtWLEtBQUs7QUFBSyxvQkFLVixLQUFLO0FBQUssdUJBS1YsS0FBSztBQUFLLGdDQUtWLEtBQUs7QUFBSywyQkFLVixNQUFNO0FBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFBRTtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXIsXG4gIEFmdGVyVmlld0luaXQsXG4gIE9uQ2hhbmdlcyxcbiAgU2ltcGxlQ2hhbmdlcyxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgR2F1Z2UgZnJvbSAnc3ZnLWdhdWdlJztcbmltcG9ydCB7IEdhdWdlRGVmYXVsdHMsIEdhdWdlT3B0aW9ucyB9IGZyb20gJy4vZ2F1Z2UtZGVmYXVsdHMuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ213bC1nYXVnZScsXG4gIHRlbXBsYXRlOiAnJyxcbn0pXG5leHBvcnQgY2xhc3MgR2F1Z2VDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkNoYW5nZXMsIEdhdWdlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgYW5nbGUgaW4gZGVncmVlcyB0byBzdGFydCB0aGUgZGlhbFxuICAgKi9cbiAgQElucHV0KCkgZGlhbFN0YXJ0QW5nbGU6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIGFuZ2xlIGluIGRlZ3JlZXMgdG8gZW5kIHRoZSBkaWFsLiBUaGlzIE1VU1QgYmUgbGVzcyB0aGFuIGRpYWxTdGFydEFuZ2xlXG4gICAqL1xuICBASW5wdXQoKSBkaWFsRW5kQW5nbGU6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgZ2F1Z2VcbiAgICovXG4gIEBJbnB1dCgpIGRpYWxSYWRpdXM6IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIG1pbmltdW0gdmFsdWUgZm9yIHRoZSBnYXVnZVxuICAgKi9cbiAgQElucHV0KCkgbWluOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIHZhbHVlIGZvciB0aGUgZ2F1Z2VcbiAgICovXG4gIEBJbnB1dCgpIG1heDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzdHJpbmcgbGFiZWwgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGluIHRoZSBjZW50ZXIuIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBwYXNzZWQgdGhlIGN1cnJlbnQgdmFsdWVcbiAgICovXG4gIEBJbnB1dCgpIGxhYmVsOiAodmFsdWU6IG51bWJlcikgPT4gc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzdHJpbmcgY29sb3IgdmFsdWUgZm9yIHRoZSBnYXVnZScncyBmaWxsICh2YWx1ZSBkaWFsKVxuICAgKi9cbiAgQElucHV0KCkgY29sb3I6ICh2YWx1ZTogbnVtYmVyKSA9PiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc2hvdyB0aGUgdmFsdWUgYXQgdGhlIGNlbnRlciBvZiB0aGUgZ2F1Z2VcbiAgICovXG4gIEBJbnB1dCgpIHNob3dWYWx1ZTogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIENTUyBjbGFzcyBvZiB0aGUgZ2F1Z2VcbiAgICovXG4gIEBJbnB1dCgpIGdhdWdlQ2xhc3M6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIENTUyBjbGFzcyBvZiB0aGUgZ2F1Z2UncyBkaWFsXG4gICAqL1xuICBASW5wdXQoKSBkaWFsQ2xhc3M6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIENTUyBjbGFzcyBvZiB0aGUgZ2F1Z2UncyBmaWxsICh2YWx1ZSBkaWFsKVxuICAgKi9cbiAgQElucHV0KCkgdmFsdWVEaWFsQ2xhc3M6IHN0cmluZztcblxuICAvKipcbiAgICogXHRUaGUgQ1NTIGNsYXNzIG9mIHRoZSBnYXVnZSdzIHRleHRcbiAgICovXG4gIEBJbnB1dCgpIHZhbHVlQ2xhc3M6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHZhbHVlIG9mIHRoZSBnYXVnZVxuICAgKi9cbiAgQElucHV0KCkgdmFsdWU6IG51bWJlcjtcblxuICAvKipcbiAgICogV2hldGhlciB0byBhbmltYXRlIGNoYW5naW5nIHRoZSBnYXVnZVxuICAgKi9cbiAgQElucHV0KCkgYW5pbWF0ZWQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFuaW1hdGlvbiBkdXJhdGlvbiBpbiBzZWNvbmRzXG4gICAqL1xuICBASW5wdXQoKSBhbmltYXRpb25EdXJhdGlvbjogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgZ2F1Z2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgQE91dHB1dCgpIGdhdWdlQ3JlYXRlZDogRXZlbnRFbWl0dGVyPHsgZ2F1Z2U6IGFueSB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBwcml2YXRlIGdhdWdlOiBhbnk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbG06IEVsZW1lbnRSZWYsIHByaXZhdGUgZGVmYXVsdHM6IEdhdWdlRGVmYXVsdHMpIHt9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIGNvbnN0IG9wdGlvbnM6IEdhdWdlT3B0aW9ucyA9IHtcbiAgICAgIGRpYWxTdGFydEFuZ2xlOiB0aGlzLmRpYWxTdGFydEFuZ2xlLFxuICAgICAgZGlhbEVuZEFuZ2xlOiB0aGlzLmRpYWxFbmRBbmdsZSxcbiAgICAgIGRpYWxSYWRpdXM6IHRoaXMuZGlhbFJhZGl1cyxcbiAgICAgIG1pbjogdGhpcy5taW4sXG4gICAgICBtYXg6IHRoaXMubWF4LFxuICAgICAgbGFiZWw6IHRoaXMubGFiZWwsXG4gICAgICBzaG93VmFsdWU6IHRoaXMuc2hvd1ZhbHVlLFxuICAgICAgZ2F1Z2VDbGFzczogdGhpcy5nYXVnZUNsYXNzLFxuICAgICAgZGlhbENsYXNzOiB0aGlzLmRpYWxDbGFzcyxcbiAgICAgIHZhbHVlRGlhbENsYXNzOiB0aGlzLnZhbHVlRGlhbENsYXNzLFxuICAgICAgdmFsdWVDbGFzczogdGhpcy52YWx1ZUNsYXNzLFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICB9O1xuXG4gICAgT2JqZWN0LmtleXModGhpcy5kZWZhdWx0cykuZm9yRWFjaCgob3B0aW9uS2V5KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnNbb3B0aW9uS2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb3B0aW9uc1tvcHRpb25LZXldID0gdGhpcy5kZWZhdWx0c1tvcHRpb25LZXldO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uS2V5KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnNbb3B0aW9uS2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnNbb3B0aW9uS2V5XTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZ2F1Z2UgPSBHYXVnZSh0aGlzLmVsbS5uYXRpdmVFbGVtZW50LCBvcHRpb25zKTtcblxuICAgIHRoaXMuZ2F1Z2VDcmVhdGVkLmVtaXQoeyBnYXVnZTogdGhpcy5nYXVnZSB9KTtcblxuICAgIHRoaXMudXBkYXRlVmFsdWUoKTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoY2hhbmdlc1sndmFsdWUnXSkge1xuICAgICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlVmFsdWUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZ2F1Z2UpIHtcbiAgICAgIGlmICh0aGlzLmFuaW1hdGVkKSB7XG4gICAgICAgIHRoaXMuZ2F1Z2Uuc2V0VmFsdWVBbmltYXRlZCh0aGlzLnZhbHVlLCB0aGlzLmFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ2F1Z2Uuc2V0VmFsdWUodGhpcy52YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=