{"ast":null,"code":"import { NearTermComponent } from '../near-term/near-term.component';\nimport { LongTermComponent } from '../long-term/long-term.component';\nimport { BaseYearEnum } from '@carbon/enum/base-year.enum';\nimport { ScopeCoverageEnum } from '@carbon/enum/sbti.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@carbon/controller/sbti.controller\";\nimport * as i3 from \"@carbon/controller/base-year.controller\";\nimport * as i4 from \"@library/storage-service\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/tooltip\";\nimport * as i7 from \"@angular/common\";\n// /tsc-library\nexport let CreateHomeComponent = /*#__PURE__*/(() => {\n  class CreateHomeComponent {\n    constructor(dialog, selfDialogRef, sbtiController, baseYearController, storageService) {\n      this.dialog = dialog;\n      this.selfDialogRef = selfDialogRef;\n      this.sbtiController = sbtiController;\n      this.baseYearController = baseYearController;\n      this.storageService = storageService;\n      this.isEmissionConfirmed = false;\n      this.isNearTermReductionTargetSet = false; //NEAR_TERM_REDUCTION\n      this.isNearTermRenewableTargetSet = false; //NEAR_TERM_RENEWABLE\n      this.isNearTermEngagementTargetSet = false; //NEAR_TERM_ENGAGEMENT\n      this.isLongTermNetzeroTargetSet = false; //LONG_TERM_NETZERO\n      this.isLongTermRenewableTargetSet = false; //LONG_TERM_RENEWABLE\n      this.isNearTermReductionTargetSetForScope1And2 = false;\n      this.isNearTermReductionTargetSetForScope3 = false;\n      this.isLongTermNetzeroTargetSetForScope1And2 = false;\n      this.isLongTermNetzeroTargetSetForScope3 = false;\n    }\n    ngOnInit() {\n      this.currentOrgID = this.storageService.getStorage('currentOrgID');\n      this.getScienceBasedTarget();\n      this.getBaseYearByType();\n    }\n    getBaseYearByType() {\n      this.baseYearController.getBaseYearByType(this.currentOrgID, BaseYearEnum.SBTI_BASE_YEAR).subscribe(baseYear => {\n        if (baseYear) {\n          this.isEmissionConfirmed = true;\n        }\n      });\n    }\n    getScienceBasedTarget() {\n      this.sbtiController.isSBTiEnterpriseTargetSet(this.currentOrgID).subscribe(response => {\n        //NEAR_TERM_REDUCTION target\n        this.isNearTermReductionTargetSet = response.reductionTarget.flag;\n        this.nearTermReductionTargetMsg = response.reductionTarget.message;\n        this.isNearTermReductionTargetSetForScope1And2 = response.reductionTarget.scopeCheck.isScope1AndTwoSet;\n        this.isNearTermReductionTargetSetForScope3 = response.reductionTarget.scopeCheck.isScope3Set;\n        //LONG_TERM_NETZERO target\n        this.isLongTermNetzeroTargetSet = response.netzeroTarget.flag;\n        this.longTermNetzeroTargetMsg = response.netzeroTarget.message;\n        this.isLongTermNetzeroTargetSetForScope1And2 = response.netzeroTarget.scopeCheck.isScope1AndTwoSet;\n        this.isLongTermNetzeroTargetSetForScope3 = response.netzeroTarget.scopeCheck.isScope3Set;\n      }, error => {\n        console.log(\"error--\", error);\n      });\n    }\n    setNearTermTarget() {\n      this.dialog.open(NearTermComponent, {\n        data: {\n          scope: this.getScope(this.isNearTermReductionTargetSetForScope1And2, this.isNearTermReductionTargetSetForScope3)\n        },\n        minWidth: '40vw',\n        maxWidth: '40vw',\n        height: '100%',\n        position: {\n          right: '-2px',\n          top: '0px'\n        }\n      });\n      this.selfDialogRef.close();\n    }\n    setLongTermTarget() {\n      this.dialog.open(LongTermComponent, {\n        data: {\n          scope: this.getScope(this.isLongTermNetzeroTargetSetForScope1And2, this.isLongTermNetzeroTargetSetForScope3)\n        },\n        minWidth: '40vw',\n        maxWidth: '40vw',\n        height: '100%',\n        position: {\n          right: '-2px',\n          top: '0px'\n        }\n      });\n      this.selfDialogRef.close();\n    }\n    getScope(isForScope1_2, isForScope3) {\n      if (isForScope1_2 && isForScope3) {\n        return null;\n      } else if (isForScope1_2) {\n        return ScopeCoverageEnum.SCOPE_1_2;\n      } else {\n        return ScopeCoverageEnum.SCOPE_3;\n      }\n    }\n  }\n  CreateHomeComponent.ɵfac = function CreateHomeComponent_Factory(t) {\n    return new (t || CreateHomeComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(i2.SbtiController), i0.ɵɵdirectiveInject(i3.BaseYearController), i0.ɵɵdirectiveInject(i4.StorageService));\n  };\n  CreateHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateHomeComponent,\n    selectors: [[\"app-create-home\"]],\n    decls: 107,\n    vars: 13,\n    consts: [[\"mat-dialog-title\", \"\"], [1, \"dialogTitle\"], [\"mat-icon-button\", \"\", \"mat-dialog-close\", \"\", \"cdkFocusInitial\", \"\", \"matTooltip\", \"Close\", \"matTooltipPosition\", \"before\", 1, \"float-end\", \"matDialogClose\"], [1, \"material-symbols-outlined\"], [\"mat-dialog-content\", \"\", 1, \"matDialogContent\"], [1, \"cardTitle\"], [1, \"cardSubtitle\", \"pt-1\"], [1, \"row\", \"pt-4\"], [1, \"col-sm-4\"], [1, \"cardOverwrite\", \"cardHeight\", \"bg-light\", \"border\"], [1, \"card-body\"], [1, \"cardSubtitle\", \"pt-2\"], [1, \"fw-bold\"], [1, \"row\"], [1, \"col-sm-12\"], [1, \"card-1\"], [\"type\", \"button\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"infoTooltip\", 1, \"btn\", \"centerAlign\", \"mt-1\", 3, \"ngClass\", \"matTooltip\", \"click\"], [1, \"iconStyle\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"infoTooltip\", 1, \"material-symbols-outlined\", \"cursorPointer\", 3, \"matTooltip\", \"matTooltipHideDelay\"], [\"myTooltip\", \"matTooltip\"], [1, \"cardTitle\", \"row\", \"ps-3\"], [1, \"cardSubtitle\", \"pt-2\", \"me-3\"], [1, \"btnPadding\"], [\"type\", \"button\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"infoTooltip\", 1, \"btn\", \"centerAlign\", \"mt-1\", \"disableButton\", 3, \"matTooltip\"], [1, \"card-3\"], [1, \"pt-3\"], [1, \"cardTitle\", \"pt-3\"], [1, \"col-sm-4\", \"pt-4\"], [1, \"card-4\"], [\"type\", \"button\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"infoTooltip\", 1, \"btn\", \"centerAlign\", \"disableButton\", \"mt-1\", 3, \"matTooltip\"]],\n    template: function CreateHomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"strong\", 1);\n        i0.ɵɵtext(2, \" New science based target \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵelementStart(4, \"span\", 3);\n        i0.ɵɵtext(5, \" close \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtext(8, \"Set a near term target\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵtext(10, \" Near-term science-based targets are absolute scope 1, 2 and 3 GHG emissions reduction, engagement or renewable electricity targets that should be achieved within 5-10 years from the date of submission to the SBTi \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelementStart(14, \"div\", 10);\n        i0.ɵɵelementStart(15, \"div\", 5);\n        i0.ɵɵtext(16, \"Reduction target\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"p\", 11);\n        i0.ɵɵtext(18, \"Set a reduction target for scope 1, 2 and 3 emissions based on your base year emissions. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"p\", 12);\n        i0.ɵɵtext(20, \"Minimum Ambition - 1.5C for Scope 1 and 2 Well below 2C for Scope 3 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 13);\n        i0.ɵɵelementStart(22, \"div\", 14);\n        i0.ɵɵelementStart(23, \"div\", 15);\n        i0.ɵɵelementStart(24, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function CreateHomeComponent_Template_button_click_24_listener() {\n          return ctx.isNearTermReductionTargetSet ? ctx.setNearTermTarget() : \"\";\n        });\n        i0.ɵɵtext(25, \" Set custom target \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 8);\n        i0.ɵɵelementStart(27, \"div\", 9);\n        i0.ɵɵelementStart(28, \"div\", 10);\n        i0.ɵɵelementStart(29, \"div\", 17);\n        i0.ɵɵelementStart(30, \"span\", 18, 19);\n        i0.ɵɵtext(32, \"info\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\");\n        i0.ɵɵelementStart(34, \"div\", 20);\n        i0.ɵɵtext(35, \"Renewable \");\n        i0.ɵɵelement(36, \"br\");\n        i0.ɵɵtext(37, \" electricity target \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"p\", 21);\n        i0.ɵɵtext(39, \"Set a renewable electricity target for scope 2 emissions to source 80% RE by 2025 and 100% RE by 2030. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"p\", 12);\n        i0.ɵɵtext(41, \"Minimum Ambition -1.5C Aligned with RE100 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"div\", 13);\n        i0.ɵɵelementStart(43, \"div\", 14);\n        i0.ɵɵelementStart(44, \"div\", 22);\n        i0.ɵɵelementStart(45, \"button\", 23);\n        i0.ɵɵtext(46, \" Set target \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"div\", 8);\n        i0.ɵɵelementStart(48, \"div\", 9);\n        i0.ɵɵelementStart(49, \"div\", 10);\n        i0.ɵɵelementStart(50, \"div\", 17);\n        i0.ɵɵelementStart(51, \"span\", 18, 19);\n        i0.ɵɵtext(53, \"info\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(54, \"div\");\n        i0.ɵɵelementStart(55, \"div\", 20);\n        i0.ɵɵtext(56, \"Engagement target\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"p\", 21);\n        i0.ɵɵtext(58, \"Set a supplier/ customer engagement target for upstream and downstream scope 3 emissions. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"p\", 12);\n        i0.ɵɵtext(60, \"Minimum Ambition -1.5C \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"div\", 13);\n        i0.ɵɵelementStart(62, \"div\", 14);\n        i0.ɵɵelementStart(63, \"div\", 24);\n        i0.ɵɵelementStart(64, \"button\", 23);\n        i0.ɵɵtext(65, \" Set target \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"div\", 25);\n        i0.ɵɵelementStart(67, \"div\", 26);\n        i0.ɵɵtext(68, \"Set a long term target\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(69, \"div\", 6);\n        i0.ɵɵtext(70, \" Long-term science-based targets are absolute scope 1, 2 and 3 GHG emissions reduction targets that should be achieved by 2050 at the latest, from a predefined base year. They also include a commitment to neutralize any unabated emissions when the long-term science-based target is achieved. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(71, \"div\", 27);\n        i0.ɵɵelementStart(72, \"div\", 9);\n        i0.ɵɵelementStart(73, \"div\", 10);\n        i0.ɵɵelementStart(74, \"div\");\n        i0.ɵɵelementStart(75, \"div\", 5);\n        i0.ɵɵtext(76, \"Netzero target\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(77, \"p\", 6);\n        i0.ɵɵtext(78, \"Set a netzero target for scope 1, 2 and 3 based on your base year emissions.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(79, \"p\", 12);\n        i0.ɵɵtext(80, \"Minimum Ambition- 1.5C\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(81, \"div\", 13);\n        i0.ɵɵelementStart(82, \"div\", 14);\n        i0.ɵɵelementStart(83, \"div\", 28);\n        i0.ɵɵelementStart(84, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function CreateHomeComponent_Template_button_click_84_listener() {\n          return ctx.isLongTermNetzeroTargetSet ? ctx.setLongTermTarget() : \"\";\n        });\n        i0.ɵɵtext(85, \" Set target \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(86, \"div\", 27);\n        i0.ɵɵelementStart(87, \"div\", 9);\n        i0.ɵɵelementStart(88, \"div\", 10);\n        i0.ɵɵelementStart(89, \"div\", 17);\n        i0.ɵɵelementStart(90, \"span\", 18, 19);\n        i0.ɵɵtext(92, \"info\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(93, \"div\");\n        i0.ɵɵelementStart(94, \"div\", 20);\n        i0.ɵɵtext(95, \"Renewable \");\n        i0.ɵɵelement(96, \"br\");\n        i0.ɵɵtext(97, \" electricity target\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(98, \"p\", 21);\n        i0.ɵɵtext(99, \"Set a renewable electricity target for scope 2 emissions to source 100% renewable electricity. \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(100, \"p\", 12);\n        i0.ɵɵtext(101, \"Minimum Ambition -1.5C Aligned with RE100 \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(102, \"div\", 13);\n        i0.ɵɵelementStart(103, \"div\", 14);\n        i0.ɵɵelementStart(104, \"div\", 22);\n        i0.ɵɵelementStart(105, \"button\", 29);\n        i0.ɵɵtext(106, \" Set target \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngClass\", ctx.isNearTermReductionTargetSet ? \"btn-success\" : \"btn-secondary disableButton\")(\"matTooltip\", ctx.isNearTermReductionTargetSet ? \"\" : ctx.nearTermReductionTargetMsg);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matTooltip\", \"Targets to actively source renewable electricity at a rate that is consistent with 1.5\\u00B0C scenarios are an acceptable alternative to scope 2 emission reduction targets. The SBTi has identified 80% renewable electricity procurement by 2025 and 100% by 2030 as thresholds (portion of renewable electricity over \\n                            total electricity use) for this approach in line with the recommendations of RE100. Companies that already source electricity at or above these thresholds shall maintain or increase their use of renewable electricity to qualify.\")(\"matTooltipHideDelay\", 1000);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"matTooltip\", \"Renewable electricity target coming soon\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matTooltip\", \"Companies can set an engagement target that specifies percentage of suppliers or customers by emissions that will set a science based target within 5 years from the date of submission of your target. Information on the\\n                            percentage of emissions and the relevant\\n                            categories the target covers has to be disclosed. Eg. 80% of suppliers by emissions by 2025.\")(\"matTooltipHideDelay\", 1000);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"matTooltip\", \"Engagement target coming soon\");\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"ngClass\", ctx.isLongTermNetzeroTargetSet ? \"btn-success\" : \"btn-secondary disableButton\")(\"matTooltip\", ctx.isLongTermNetzeroTargetSet ? \"\" : ctx.longTermNetzeroTargetMsg);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"matTooltip\", \"Targets to actively source renewable electricity at a rate that is consistent with 1.5\\u00B0C scenarios are an acceptable \\n                            alternative to scope 2 emission reduction targets. The SBTi has identified 80% renewable electricity procurement by 2025 and 100% by 2030 as thresholds \\n                            (portion of renewable electricity over total electricity use) for this approach in line with the recommendations of RE100. Companies that already source electricity at or above \\n                            these thresholds shall maintain or increase their use of renewable electricity to qualify\")(\"matTooltipHideDelay\", 1000);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"matTooltip\", \"Renewable electricity target coming soon\");\n      }\n    },\n    directives: [i1.MatDialogTitle, i5.MatButton, i1.MatDialogClose, i6.MatTooltip, i1.MatDialogContent, i7.NgClass],\n    styles: [\".cardOverwrite[_ngcontent-%COMP%]{position:relative}.disabledCard[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;cursor:none}.iconStyle[_ngcontent-%COMP%]{position:absolute;top:16px;right:10px;z-index:1;color:#fff}.material-symbols-outlined[_ngcontent-%COMP%]{color:#6c757d}.disableButton[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#b5b2b2;border-color:#b5b2b2;color:#fff}.cardHeight[_ngcontent-%COMP%]{height:270px;min-width:280px;max-width:280px}.card-1[_ngcontent-%COMP%]{margin-top:1.8rem}.card-3[_ngcontent-%COMP%]{margin-top:3rem}.card-4[_ngcontent-%COMP%]{margin-top:4.6rem}\"]\n  });\n  return CreateHomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}