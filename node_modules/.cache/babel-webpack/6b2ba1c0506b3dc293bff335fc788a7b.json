{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, Component, NgModule, Inject, Directive, Input } from '@angular/core';\nimport { ApplicationKeyID } from '@library/application-service';\nimport { __awaiter } from 'tslib';\nimport * as i1 from '@angular/common/http';\nimport * as i2 from '@library/storage-service';\nimport * as i1$1 from '@angular/router';\nclass RbacServiceService {\n  constructor() {}\n}\nRbacServiceService.ɵfac = function RbacServiceService_Factory(t) {\n  return new (t || RbacServiceService)();\n};\nRbacServiceService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RbacServiceService,\n  factory: RbacServiceService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RbacServiceService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [];\n  }, null);\n})();\nclass RbacServiceComponent {\n  constructor() {}\n  ngOnInit() {}\n}\nRbacServiceComponent.ɵfac = function RbacServiceComponent_Factory(t) {\n  return new (t || RbacServiceComponent)();\n};\nRbacServiceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: RbacServiceComponent,\n  selectors: [[\"lib-rbac-service\"]],\n  decls: 2,\n  vars: 0,\n  template: function RbacServiceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \" rbac-service works! \");\n      i0.ɵɵelementEnd();\n    }\n  },\n  encapsulation: 2\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RbacServiceComponent, [{\n    type: Component,\n    args: [{\n      selector: 'lib-rbac-service',\n      template: `\n    <p>\n      rbac-service works!\n    </p>\n  `,\n      styles: []\n    }]\n  }], function () {\n    return [];\n  }, null);\n})();\nclass RbacServiceModule {\n  static forRoot(environment) {\n    return {\n      ngModule: RbacServiceModule,\n      providers: [{\n        provide: 'environment',\n        useValue: environment\n      }]\n    };\n  }\n}\nRbacServiceModule.ɵfac = function RbacServiceModule_Factory(t) {\n  return new (t || RbacServiceModule)();\n};\nRbacServiceModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RbacServiceModule\n});\nRbacServiceModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RbacServiceModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [RbacServiceComponent],\n      imports: [],\n      exports: [RbacServiceComponent]\n    }]\n  }], null, null);\n})();\nclass RBACJson {}\nRBACJson.noAuthorization = {\n  body: \"You don't have authorization.\"\n};\nvar ApplicationResourcePermission;\n(function (ApplicationResourcePermission) {\n  ApplicationResourcePermission[\"NETZERO_ADMIN_RESOURCE_PERMISSION\"] = \"NETZERO_ADMIN_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"ADMIN_RESOURCE_PERMISSION\"] = \"ADMIN_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"NETZERO_RESOURCE_PERMISSION\"] = \"NETZERO_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"ENERGY_RESOURCE_PERMISSION\"] = \"ENERGY_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"WATER_RESOURCE_PERMISSION\"] = \"WATER_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"ENVIRO_RESOURCE_PERMISSION\"] = \"ENVIRO_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"CONNECT_RESOURCE_PERMISSION\"] = \"CONNECT_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"OFFSET_RESOURCE_PERMISSION\"] = \"OFFSET_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"SUPPLIER_RESOURCE_PERMISSION\"] = \"SUPPLIER_RESOURCE_PERMISSION\";\n  ApplicationResourcePermission[\"EMPLOYEE_RESOURCE_PERMISSION\"] = \"EMPLOYEE_RESOURCE_PERMISSION\";\n})(ApplicationResourcePermission || (ApplicationResourcePermission = {}));\nconst ADMIN_RBAC_CONSTANT = {\n  BY_DEFAULT_PERMISSION: 'BY_DEFAULT_PERMISSION',\n  PRODUCT_READ: [ApplicationKeyID.ADMIN_KEY_ID, 'PRODUCT', 'BY_DEFAULT_PERMISSION'],\n  ORGANIZATION_CREATE: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION'],\n  ORGANIZATION_READ: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION'],\n  ORGANIZATION_UPDATE: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION'],\n  ORGANIZATION_DELETE: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION']\n};\nconst CONNECT_RBAC_CONSTANT = {\n  BY_DEFAULT_PERMISSION: 'BY_DEFAULT_PERMISSION',\n  DEVICE_READ: [ApplicationKeyID.CONNECT_KEY_ID, 'DEVICE', 'BY_DEFAULT_PERMISSION']\n};\nconst ENERGY_RBAC_CONSTANT = {\n  BY_DEFAULT_PERMISSION: 'BY_DEFAULT_PERMISSION',\n  //HOME\n  HOME_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'HOME', 'BY_DEFAULT_PERMISSION'],\n  //DASHBOARD\n  DASHBOARDS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'DASHBOARDS', 'BY_DEFAULT_PERMISSION'],\n  FACILITY_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'FACILITY_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  TEMPERATURE_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'TEMPERATURE_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  PRESSURE_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'PRESSURE_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_ACCOUNTING_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_ACCOUNTING_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_DISTRIBUTION_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_DISTRIBUTION_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_COMPARISON_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_COMPARISON_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_METER_DATA_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_METER_DATA_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n  //REPORT\n  REPORTS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'REPORTS', 'BY_DEFAULT_PERMISSION'],\n  AMBIENT_TEMPERATURE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'AMBIENT_TEMPERATURE_REPORT', 'BY_DEFAULT_FEATURE'],\n  TEMPERATURE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'TEMPERATURE_REPORT', 'BY_DEFAULT_PERMISSION'],\n  PRESSURE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'PRESSURE_REPORT', 'BY_DEFAULT_PERMISSION'],\n  HUMIDITY_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'HUMIDITY_REPORT', 'BY_DEFAULT_PERMISSION'],\n  PARAMETER_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'PARAMETER_REPORT', 'BY_DEFAULT_PERMISSION'],\n  RAW_DATA_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'RAW_DATA_REPORT', 'BY_DEFAULT_PERMISSION'],\n  DATA_AVAILABILITY_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'DATA_AVAILABILITY_REPORT', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_USAGE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_REPORT', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_USAGE_BY_FACILITY_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_BY_FACILITY_REPORT', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_USAGE_BY_SOURCE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_BY_SOURCE_REPORT', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_USAGE_BY_LOAD_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_BY_LOAD_REPORT', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_METER_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_METER_REPORT', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_COST_ANALYSIS_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_COST_ANALYSIS_REPORT', 'BY_DEFAULT_PERMISSION'],\n  //ANALYTICS AND INSIGHTS\n  ANALTICS_INSIGHTS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ANALTICS_INSIGHTS', 'BY_DEFAULT_PERMISSION'],\n  CONSUMPTION_ANALYSIS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'CONSUMPTION_ANALYSIS', 'BY_DEFAULT_PERMISSION'],\n  //TARGETING AND PLANNING\n  TARGETING_PLANNING_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'TARGETING_PLANNING', 'BY_DEFAULT_PERMISSION'],\n  ENERGY_BUDGET_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_BUDGET', 'BY_DEFAULT_PERMISSION'],\n  //LAYOUT: Settings Sidebar\n  LAYOUT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'LAYOUT', 'BY_DEFAULT_PERMISSION'],\n  LAYOUT_PAGE_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'LAYOUT_PAGE', 'BY_DEFAULT_PERMISSION'],\n  //BUDGETING AND PLANNING: Setting Sidebar\n  BUDGET_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'BUDGET', 'BY_DEFAULT_PERMISSION'],\n  BUDGET_PREFERENCE_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'BUDGET_PREFERENCE', 'BY_DEFAULT_PERMISSION']\n};\nclass RBACController {\n  constructor(http, environment) {\n    this.http = http;\n    this.environment = environment;\n  }\n  getResourcePermissionByOrgIDAndUserID(orgID, userID) {\n    return this.http.get(`${this.environment.ORGANIZATION_API_URL}organizations/${orgID}/users/${userID}/resource-permissions`);\n    // return this.http.get(`${this.environment.MOCK_SERVER}resourcePermission`);\n  }\n}\n\nRBACController.ɵfac = function RBACController_Factory(t) {\n  return new (t || RBACController)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject('environment'));\n};\nRBACController.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RBACController,\n  factory: RBACController.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RBACController, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: ['environment']\n      }]\n    }];\n  }, null);\n})();\nclass RBACService {\n  constructor(rBACController) {\n    this.rBACController = rBACController;\n  }\n  getResourcePermissionByOrgIDAndUserID(orgID, userID) {\n    return __awaiter(this, void 0, void 0, function* () {\n      let resourcePermission;\n      try {\n        resourcePermission = yield this.rBACController.getResourcePermissionByOrgIDAndUserID(orgID, userID).toPromise();\n        return resourcePermission;\n      } catch (error) {\n        console.error('Error -', error);\n      }\n    });\n  }\n}\nRBACService.ɵfac = function RBACService_Factory(t) {\n  return new (t || RBACService)(i0.ɵɵinject(RBACController));\n};\nRBACService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RBACService,\n  factory: RBACService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RBACService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: RBACController\n    }];\n  }, null);\n})();\nclass IsResourcePermission {\n  constructor(storageService) {\n    this.storageService = storageService;\n    this.netzeroAdminResourcePermission = [];\n    this.adminResourcePermission = [];\n    this.netzeroResourcePermission = [];\n    this.energyResourcePermission = [];\n    this.waterResourcePermission = [];\n    this.enviroResourcePermission = [];\n    this.connectResourcePermission = [];\n    this.offsetResourcePermission = [];\n    this.supplierResourcePermission = [];\n    this.employeeResourcePermission = [];\n    this.netzeroAdminResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.NETZERO_ADMIN_RESOURCE_PERMISSION));\n    this.adminResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.ADMIN_RESOURCE_PERMISSION));\n    this.netzeroResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.NETZERO_RESOURCE_PERMISSION));\n    this.energyResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.ENERGY_RESOURCE_PERMISSION));\n    this.waterResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.WATER_RESOURCE_PERMISSION));\n    this.enviroResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.ENVIRO_RESOURCE_PERMISSION));\n    this.connectResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.CONNECT_RESOURCE_PERMISSION));\n    this.offsetResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.OFFSET_RESOURCE_PERMISSION));\n    this.supplierResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.SUPPLIER_RESOURCE_PERMISSION));\n    this.employeeResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.EMPLOYEE_RESOURCE_PERMISSION));\n  }\n  isResourcePermission(resourcePermissionP) {\n    let resourcePermission = [];\n    for (const resourcePermissionPs of resourcePermissionP || []) {\n      if (resourcePermissionPs[2] == 'BY_DEFAULT_PERMISSION') {\n        return true;\n      }\n      switch (resourcePermissionPs[0]) {\n        case ApplicationKeyID.NETZERO_ADMIN_KEY_ID:\n          resourcePermission = this.netzeroAdminResourcePermission;\n          break;\n        case ApplicationKeyID.ADMIN_KEY_ID:\n          resourcePermission = this.adminResourcePermission;\n          break;\n        case ApplicationKeyID.NETZERO_KEY_ID:\n          resourcePermission = this.netzeroResourcePermission;\n          break;\n        case ApplicationKeyID.ENERGY_KEY_ID:\n          resourcePermission = this.energyResourcePermission;\n          break;\n        case ApplicationKeyID.WATER_KEY_ID:\n          resourcePermission = this.waterResourcePermission;\n          break;\n        case ApplicationKeyID.ENVIRO_KEY_ID:\n          resourcePermission = this.enviroResourcePermission;\n          break;\n        case ApplicationKeyID.CONNECT_KEY_ID:\n          resourcePermission = this.connectResourcePermission;\n          break;\n        case ApplicationKeyID.OFFSET_KEY_ID:\n          resourcePermission = this.offsetResourcePermission;\n          break;\n        case ApplicationKeyID.SUPPLIER_KEY_ID:\n          resourcePermission = this.supplierResourcePermission;\n          break;\n        case ApplicationKeyID.EMPLOYEE_KEY_ID:\n          resourcePermission = this.employeeResourcePermission;\n          break;\n        default:\n          resourcePermission = [];\n          break;\n      }\n      for (const resource of resourcePermission || []) {\n        if (resourcePermissionPs[1] == resource.resource) {\n          for (const permission of resource.permissions || []) {\n            if (permission == resourcePermissionPs[2]) {\n              return true;\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n}\nIsResourcePermission.ɵfac = function IsResourcePermission_Factory(t) {\n  return new (t || IsResourcePermission)(i0.ɵɵinject(i2.StorageService));\n};\nIsResourcePermission.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: IsResourcePermission,\n  factory: IsResourcePermission.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(IsResourcePermission, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i2.StorageService\n    }];\n  }, null);\n})();\nclass RBACGuard {\n  constructor(router, isResourcePermission) {\n    this.router = router;\n    this.isResourcePermission = isResourcePermission;\n  }\n  canActivate(next) {\n    let rBACGuard = false;\n    const resourcePermission = next.data.resourcePermission;\n    rBACGuard = this.isResourcePermission.isResourcePermission(resourcePermission);\n    if (rBACGuard) {\n      return true;\n    } else {\n      return this.router.createUrlTree(['/no-authorization']);\n    }\n  }\n}\nRBACGuard.ɵfac = function RBACGuard_Factory(t) {\n  return new (t || RBACGuard)(i0.ɵɵinject(i1$1.Router), i0.ɵɵinject(IsResourcePermission));\n};\nRBACGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: RBACGuard,\n  factory: RBACGuard.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RBACGuard, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1$1.Router\n    }, {\n      type: IsResourcePermission\n    }];\n  }, null);\n})();\nclass RBACDirective2 {\n  constructor(templateRef, viewContainer, isResourcePermission) {\n    this.templateRef = templateRef;\n    this.viewContainer = viewContainer;\n    this.isResourcePermission = isResourcePermission;\n  }\n  set isRenderRBAC(resourcePermission) {\n    let renderRBAC = false;\n    renderRBAC = resourcePermission ? this.isResourcePermission.isResourcePermission(resourcePermission) : true;\n    if (renderRBAC) {\n      this.viewContainer.createEmbeddedView(this.templateRef);\n    } else {\n      this.viewContainer.clear();\n    }\n  }\n}\nRBACDirective2.ɵfac = function RBACDirective2_Factory(t) {\n  return new (t || RBACDirective2)(i0.ɵɵdirectiveInject(i0.TemplateRef), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(IsResourcePermission));\n};\nRBACDirective2.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n  type: RBACDirective2,\n  selectors: [[\"\", \"isRenderRBAC\", \"\"]],\n  inputs: {\n    isRenderRBAC: \"isRenderRBAC\"\n  }\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RBACDirective2, [{\n    type: Directive,\n    args: [{\n      selector: '[isRenderRBAC]'\n    }]\n  }], function () {\n    return [{\n      type: i0.TemplateRef\n    }, {\n      type: i0.ViewContainerRef\n    }, {\n      type: IsResourcePermission\n    }];\n  }, {\n    isRenderRBAC: [{\n      type: Input\n    }]\n  });\n})();\nclass RBACDirectiveModule2 {}\nRBACDirectiveModule2.ɵfac = function RBACDirectiveModule2_Factory(t) {\n  return new (t || RBACDirectiveModule2)();\n};\nRBACDirectiveModule2.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: RBACDirectiveModule2\n});\nRBACDirectiveModule2.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(RBACDirectiveModule2, [{\n    type: NgModule,\n    args: [{\n      declarations: [RBACDirective2],\n      exports: [RBACDirective2]\n    }]\n  }], null, null);\n})();\n\n/*\n * Public API Surface of rbac-service\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ADMIN_RBAC_CONSTANT, ApplicationResourcePermission, CONNECT_RBAC_CONSTANT, ENERGY_RBAC_CONSTANT, IsResourcePermission, RBACDirective2, RBACDirectiveModule2, RBACGuard, RBACJson, RBACService, RbacServiceComponent, RbacServiceModule, RbacServiceService };","map":{"version":3,"names":["i0","Injectable","Component","NgModule","Inject","Directive","Input","ApplicationKeyID","__awaiter","i1","i2","i1$1","RbacServiceService","constructor","ɵfac","RbacServiceService_Factory","t","ɵprov","ɵɵdefineInjectable","token","factory","providedIn","ngDevMode","ɵsetClassMetadata","type","args","RbacServiceComponent","ngOnInit","RbacServiceComponent_Factory","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","template","RbacServiceComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","encapsulation","selector","styles","RbacServiceModule","forRoot","environment","ngModule","providers","provide","useValue","RbacServiceModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","RBACJson","noAuthorization","body","ApplicationResourcePermission","ADMIN_RBAC_CONSTANT","BY_DEFAULT_PERMISSION","PRODUCT_READ","ADMIN_KEY_ID","ORGANIZATION_CREATE","ORGANIZATION_READ","ORGANIZATION_UPDATE","ORGANIZATION_DELETE","CONNECT_RBAC_CONSTANT","DEVICE_READ","CONNECT_KEY_ID","ENERGY_RBAC_CONSTANT","HOME_READ","ENERGY_KEY_ID","DASHBOARDS_READ","FACILITY_DASHBOARD_READ","ENERGY_DASHBOARD_READ","TEMPERATURE_DASHBOARD_READ","PRESSURE_DASHBOARD_READ","ENERGY_ACCOUNTING_DASHBOARD_READ","ENERGY_DISTRIBUTION_DASHBOARD_READ","ENERGY_COMPARISON_DASHBOARD_READ","ENERGY_METER_DATA_DASHBOARD_READ","REPORTS_READ","AMBIENT_TEMPERATURE_REPORT_READ","TEMPERATURE_REPORT_READ","PRESSURE_REPORT_READ","HUMIDITY_REPORT_READ","PARAMETER_REPORT_READ","RAW_DATA_REPORT_READ","DATA_AVAILABILITY_REPORT_READ","ENERGY_USAGE_REPORT_READ","ENERGY_USAGE_BY_FACILITY_REPORT_READ","ENERGY_USAGE_BY_SOURCE_REPORT_READ","ENERGY_USAGE_BY_LOAD_REPORT_READ","ENERGY_METER_REPORT_READ","ENERGY_COST_ANALYSIS_REPORT_READ","ANALTICS_INSIGHTS_READ","CONSUMPTION_ANALYSIS_READ","TARGETING_PLANNING_READ","ENERGY_BUDGET_READ","LAYOUT_READ","LAYOUT_PAGE_READ","BUDGET_READ","BUDGET_PREFERENCE_READ","RBACController","http","getResourcePermissionByOrgIDAndUserID","orgID","userID","get","ORGANIZATION_API_URL","RBACController_Factory","ɵɵinject","HttpClient","undefined","decorators","RBACService","rBACController","resourcePermission","toPromise","error","console","RBACService_Factory","IsResourcePermission","storageService","netzeroAdminResourcePermission","adminResourcePermission","netzeroResourcePermission","energyResourcePermission","waterResourcePermission","enviroResourcePermission","connectResourcePermission","offsetResourcePermission","supplierResourcePermission","employeeResourcePermission","JSON","parse","getStorage","NETZERO_ADMIN_RESOURCE_PERMISSION","ADMIN_RESOURCE_PERMISSION","NETZERO_RESOURCE_PERMISSION","ENERGY_RESOURCE_PERMISSION","WATER_RESOURCE_PERMISSION","ENVIRO_RESOURCE_PERMISSION","CONNECT_RESOURCE_PERMISSION","OFFSET_RESOURCE_PERMISSION","SUPPLIER_RESOURCE_PERMISSION","EMPLOYEE_RESOURCE_PERMISSION","isResourcePermission","resourcePermissionP","resourcePermissionPs","NETZERO_ADMIN_KEY_ID","NETZERO_KEY_ID","WATER_KEY_ID","ENVIRO_KEY_ID","OFFSET_KEY_ID","SUPPLIER_KEY_ID","EMPLOYEE_KEY_ID","resource","permission","permissions","IsResourcePermission_Factory","StorageService","RBACGuard","router","canActivate","next","rBACGuard","data","createUrlTree","RBACGuard_Factory","Router","RBACDirective2","templateRef","viewContainer","isRenderRBAC","renderRBAC","createEmbeddedView","clear","RBACDirective2_Factory","ɵɵdirectiveInject","TemplateRef","ViewContainerRef","ɵdir","ɵɵdefineDirective","inputs","RBACDirectiveModule2","RBACDirectiveModule2_Factory"],"sources":["/home/silori/projects/gitClones/admin-ui/library/rbac-service/fesm2015/library-rbac-service.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, Component, NgModule, Inject, Directive, Input } from '@angular/core';\nimport { ApplicationKeyID } from '@library/application-service';\nimport { __awaiter } from 'tslib';\nimport * as i1 from '@angular/common/http';\nimport * as i2 from '@library/storage-service';\nimport * as i1$1 from '@angular/router';\n\nclass RbacServiceService {\n    constructor() { }\n}\nRbacServiceService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nRbacServiceService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return []; } });\n\nclass RbacServiceComponent {\n    constructor() { }\n    ngOnInit() {\n    }\n}\nRbacServiceComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nRbacServiceComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.17\", type: RbacServiceComponent, selector: \"lib-rbac-service\", ngImport: i0, template: `\n    <p>\n      rbac-service works!\n    </p>\n  `, isInline: true });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'lib-rbac-service',\n                    template: `\n    <p>\n      rbac-service works!\n    </p>\n  `,\n                    styles: []\n                }]\n        }], ctorParameters: function () { return []; } });\n\nclass RbacServiceModule {\n    static forRoot(environment) {\n        return {\n            ngModule: RbacServiceModule,\n            providers: [\n                { provide: 'environment', useValue: environment }\n            ]\n        };\n    }\n}\nRbacServiceModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRbacServiceModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceModule, declarations: [RbacServiceComponent], exports: [RbacServiceComponent] });\nRbacServiceModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceModule, imports: [[]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RbacServiceModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        RbacServiceComponent\n                    ],\n                    imports: [],\n                    exports: [\n                        RbacServiceComponent\n                    ]\n                }]\n        }] });\n\nclass RBACJson {\n}\nRBACJson.noAuthorization = {\n    body: \"You don't have authorization.\"\n};\n\nvar ApplicationResourcePermission;\n(function (ApplicationResourcePermission) {\n    ApplicationResourcePermission[\"NETZERO_ADMIN_RESOURCE_PERMISSION\"] = \"NETZERO_ADMIN_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"ADMIN_RESOURCE_PERMISSION\"] = \"ADMIN_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"NETZERO_RESOURCE_PERMISSION\"] = \"NETZERO_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"ENERGY_RESOURCE_PERMISSION\"] = \"ENERGY_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"WATER_RESOURCE_PERMISSION\"] = \"WATER_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"ENVIRO_RESOURCE_PERMISSION\"] = \"ENVIRO_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"CONNECT_RESOURCE_PERMISSION\"] = \"CONNECT_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"OFFSET_RESOURCE_PERMISSION\"] = \"OFFSET_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"SUPPLIER_RESOURCE_PERMISSION\"] = \"SUPPLIER_RESOURCE_PERMISSION\";\n    ApplicationResourcePermission[\"EMPLOYEE_RESOURCE_PERMISSION\"] = \"EMPLOYEE_RESOURCE_PERMISSION\";\n})(ApplicationResourcePermission || (ApplicationResourcePermission = {}));\n\nconst ADMIN_RBAC_CONSTANT = {\n    BY_DEFAULT_PERMISSION: 'BY_DEFAULT_PERMISSION',\n    PRODUCT_READ: [ApplicationKeyID.ADMIN_KEY_ID, 'PRODUCT', 'BY_DEFAULT_PERMISSION'],\n    ORGANIZATION_CREATE: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION'],\n    ORGANIZATION_READ: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION'],\n    ORGANIZATION_UPDATE: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION'],\n    ORGANIZATION_DELETE: [ApplicationKeyID.ADMIN_KEY_ID, 'ORGANIZATION', 'BY_DEFAULT_PERMISSION']\n};\n\nconst CONNECT_RBAC_CONSTANT = {\n    BY_DEFAULT_PERMISSION: 'BY_DEFAULT_PERMISSION',\n    DEVICE_READ: [ApplicationKeyID.CONNECT_KEY_ID, 'DEVICE', 'BY_DEFAULT_PERMISSION'],\n};\n\nconst ENERGY_RBAC_CONSTANT = {\n    BY_DEFAULT_PERMISSION: 'BY_DEFAULT_PERMISSION',\n    //HOME\n    HOME_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'HOME', 'BY_DEFAULT_PERMISSION'],\n    //DASHBOARD\n    DASHBOARDS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'DASHBOARDS', 'BY_DEFAULT_PERMISSION'],\n    FACILITY_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'FACILITY_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    TEMPERATURE_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'TEMPERATURE_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    PRESSURE_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'PRESSURE_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_ACCOUNTING_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_ACCOUNTING_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_DISTRIBUTION_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_DISTRIBUTION_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_COMPARISON_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_COMPARISON_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_METER_DATA_DASHBOARD_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_METER_DATA_DASHBOARD', 'BY_DEFAULT_PERMISSION'],\n    //REPORT\n    REPORTS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'REPORTS', 'BY_DEFAULT_PERMISSION'],\n    AMBIENT_TEMPERATURE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'AMBIENT_TEMPERATURE_REPORT', 'BY_DEFAULT_FEATURE'],\n    TEMPERATURE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'TEMPERATURE_REPORT', 'BY_DEFAULT_PERMISSION'],\n    PRESSURE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'PRESSURE_REPORT', 'BY_DEFAULT_PERMISSION'],\n    HUMIDITY_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'HUMIDITY_REPORT', 'BY_DEFAULT_PERMISSION'],\n    PARAMETER_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'PARAMETER_REPORT', 'BY_DEFAULT_PERMISSION'],\n    RAW_DATA_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'RAW_DATA_REPORT', 'BY_DEFAULT_PERMISSION'],\n    DATA_AVAILABILITY_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'DATA_AVAILABILITY_REPORT', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_USAGE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_REPORT', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_USAGE_BY_FACILITY_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_BY_FACILITY_REPORT', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_USAGE_BY_SOURCE_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_BY_SOURCE_REPORT', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_USAGE_BY_LOAD_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_USAGE_BY_LOAD_REPORT', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_METER_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_METER_REPORT', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_COST_ANALYSIS_REPORT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_COST_ANALYSIS_REPORT', 'BY_DEFAULT_PERMISSION'],\n    //ANALYTICS AND INSIGHTS\n    ANALTICS_INSIGHTS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ANALTICS_INSIGHTS', 'BY_DEFAULT_PERMISSION'],\n    CONSUMPTION_ANALYSIS_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'CONSUMPTION_ANALYSIS', 'BY_DEFAULT_PERMISSION'],\n    //TARGETING AND PLANNING\n    TARGETING_PLANNING_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'TARGETING_PLANNING', 'BY_DEFAULT_PERMISSION'],\n    ENERGY_BUDGET_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'ENERGY_BUDGET', 'BY_DEFAULT_PERMISSION'],\n    //LAYOUT: Settings Sidebar\n    LAYOUT_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'LAYOUT', 'BY_DEFAULT_PERMISSION'],\n    LAYOUT_PAGE_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'LAYOUT_PAGE', 'BY_DEFAULT_PERMISSION'],\n    //BUDGETING AND PLANNING: Setting Sidebar\n    BUDGET_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'BUDGET', 'BY_DEFAULT_PERMISSION'],\n    BUDGET_PREFERENCE_READ: [[ApplicationKeyID.ENERGY_KEY_ID], 'BUDGET_PREFERENCE', 'BY_DEFAULT_PERMISSION'],\n};\n\nclass RBACController {\n    constructor(http, environment) {\n        this.http = http;\n        this.environment = environment;\n    }\n    getResourcePermissionByOrgIDAndUserID(orgID, userID) {\n        return this.http.get(`${this.environment.ORGANIZATION_API_URL}organizations/${orgID}/users/${userID}/resource-permissions`);\n        // return this.http.get(`${this.environment.MOCK_SERVER}resourcePermission`);\n    }\n}\nRBACController.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACController, deps: [{ token: i1.HttpClient }, { token: 'environment' }], target: i0.ɵɵFactoryTarget.Injectable });\nRBACController.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACController, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACController, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: ['environment']\n                }] }]; } });\n\nclass RBACService {\n    constructor(rBACController) {\n        this.rBACController = rBACController;\n    }\n    getResourcePermissionByOrgIDAndUserID(orgID, userID) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resourcePermission;\n            try {\n                resourcePermission = yield this.rBACController.getResourcePermissionByOrgIDAndUserID(orgID, userID).toPromise();\n                return resourcePermission;\n            }\n            catch (error) {\n                console.error('Error -', error);\n            }\n        });\n    }\n}\nRBACService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACService, deps: [{ token: RBACController }], target: i0.ɵɵFactoryTarget.Injectable });\nRBACService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: RBACController }]; } });\nclass IsResourcePermission {\n    constructor(storageService) {\n        this.storageService = storageService;\n        this.netzeroAdminResourcePermission = [];\n        this.adminResourcePermission = [];\n        this.netzeroResourcePermission = [];\n        this.energyResourcePermission = [];\n        this.waterResourcePermission = [];\n        this.enviroResourcePermission = [];\n        this.connectResourcePermission = [];\n        this.offsetResourcePermission = [];\n        this.supplierResourcePermission = [];\n        this.employeeResourcePermission = [];\n        this.netzeroAdminResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.NETZERO_ADMIN_RESOURCE_PERMISSION));\n        this.adminResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.ADMIN_RESOURCE_PERMISSION));\n        this.netzeroResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.NETZERO_RESOURCE_PERMISSION));\n        this.energyResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.ENERGY_RESOURCE_PERMISSION));\n        this.waterResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.WATER_RESOURCE_PERMISSION));\n        this.enviroResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.ENVIRO_RESOURCE_PERMISSION));\n        this.connectResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.CONNECT_RESOURCE_PERMISSION));\n        this.offsetResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.OFFSET_RESOURCE_PERMISSION));\n        this.supplierResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.SUPPLIER_RESOURCE_PERMISSION));\n        this.employeeResourcePermission = JSON.parse(this.storageService.getStorage(ApplicationResourcePermission.EMPLOYEE_RESOURCE_PERMISSION));\n    }\n    isResourcePermission(resourcePermissionP) {\n        let resourcePermission = [];\n        for (const resourcePermissionPs of resourcePermissionP || []) {\n            if (resourcePermissionPs[2] == 'BY_DEFAULT_PERMISSION') {\n                return true;\n            }\n            switch (resourcePermissionPs[0]) {\n                case ApplicationKeyID.NETZERO_ADMIN_KEY_ID:\n                    resourcePermission = this.netzeroAdminResourcePermission;\n                    break;\n                case ApplicationKeyID.ADMIN_KEY_ID:\n                    resourcePermission = this.adminResourcePermission;\n                    break;\n                case ApplicationKeyID.NETZERO_KEY_ID:\n                    resourcePermission = this.netzeroResourcePermission;\n                    break;\n                case ApplicationKeyID.ENERGY_KEY_ID:\n                    resourcePermission = this.energyResourcePermission;\n                    break;\n                case ApplicationKeyID.WATER_KEY_ID:\n                    resourcePermission = this.waterResourcePermission;\n                    break;\n                case ApplicationKeyID.ENVIRO_KEY_ID:\n                    resourcePermission = this.enviroResourcePermission;\n                    break;\n                case ApplicationKeyID.CONNECT_KEY_ID:\n                    resourcePermission = this.connectResourcePermission;\n                    break;\n                case ApplicationKeyID.OFFSET_KEY_ID:\n                    resourcePermission = this.offsetResourcePermission;\n                    break;\n                case ApplicationKeyID.SUPPLIER_KEY_ID:\n                    resourcePermission = this.supplierResourcePermission;\n                    break;\n                case ApplicationKeyID.EMPLOYEE_KEY_ID:\n                    resourcePermission = this.employeeResourcePermission;\n                    break;\n                default:\n                    resourcePermission = [];\n                    break;\n            }\n            for (const resource of resourcePermission || []) {\n                if (resourcePermissionPs[1] == resource.resource) {\n                    for (const permission of resource.permissions || []) {\n                        if (permission == resourcePermissionPs[2]) {\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    }\n}\nIsResourcePermission.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: IsResourcePermission, deps: [{ token: i2.StorageService }], target: i0.ɵɵFactoryTarget.Injectable });\nIsResourcePermission.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: IsResourcePermission, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: IsResourcePermission, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i2.StorageService }]; } });\n\nclass RBACGuard {\n    constructor(router, isResourcePermission) {\n        this.router = router;\n        this.isResourcePermission = isResourcePermission;\n    }\n    canActivate(next) {\n        let rBACGuard = false;\n        const resourcePermission = next.data.resourcePermission;\n        rBACGuard = this.isResourcePermission.isResourcePermission(resourcePermission);\n        if (rBACGuard) {\n            return true;\n        }\n        else {\n            return this.router.createUrlTree(['/no-authorization']);\n        }\n    }\n}\nRBACGuard.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACGuard, deps: [{ token: i1$1.Router }, { token: IsResourcePermission }], target: i0.ɵɵFactoryTarget.Injectable });\nRBACGuard.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACGuard, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACGuard, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.Router }, { type: IsResourcePermission }]; } });\n\nclass RBACDirective2 {\n    constructor(templateRef, viewContainer, isResourcePermission) {\n        this.templateRef = templateRef;\n        this.viewContainer = viewContainer;\n        this.isResourcePermission = isResourcePermission;\n    }\n    set isRenderRBAC(resourcePermission) {\n        let renderRBAC = false;\n        renderRBAC = resourcePermission ? this.isResourcePermission.isResourcePermission(resourcePermission) : true;\n        if (renderRBAC) {\n            this.viewContainer.createEmbeddedView(this.templateRef);\n        }\n        else {\n            this.viewContainer.clear();\n        }\n    }\n}\nRBACDirective2.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACDirective2, deps: [{ token: i0.TemplateRef }, { token: i0.ViewContainerRef }, { token: IsResourcePermission }], target: i0.ɵɵFactoryTarget.Directive });\nRBACDirective2.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"12.0.0\", version: \"12.2.17\", type: RBACDirective2, selector: \"[isRenderRBAC]\", inputs: { isRenderRBAC: \"isRenderRBAC\" }, ngImport: i0 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACDirective2, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[isRenderRBAC]'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }, { type: i0.ViewContainerRef }, { type: IsResourcePermission }]; }, propDecorators: { isRenderRBAC: [{\n                type: Input\n            }] } });\nclass RBACDirectiveModule2 {\n}\nRBACDirectiveModule2.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACDirectiveModule2, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nRBACDirectiveModule2.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACDirectiveModule2, declarations: [RBACDirective2], exports: [RBACDirective2] });\nRBACDirectiveModule2.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACDirectiveModule2 });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.17\", ngImport: i0, type: RBACDirectiveModule2, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [RBACDirective2],\n                    exports: [RBACDirective2]\n                }]\n        }] });\n\n/*\n * Public API Surface of rbac-service\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ADMIN_RBAC_CONSTANT, ApplicationResourcePermission, CONNECT_RBAC_CONSTANT, ENERGY_RBAC_CONSTANT, IsResourcePermission, RBACDirective2, RBACDirectiveModule2, RBACGuard, RBACJson, RBACService, RbacServiceComponent, RbacServiceModule, RbacServiceService };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}