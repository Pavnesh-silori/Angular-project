{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons';\nimport { merge, fromEvent, of as observableOf } from 'rxjs';\nimport { map, startWith, switchMap, catchError } from \"rxjs/operators\";\nimport { CARBON_CONSTANT } from '@carbon/constant/carbon.constant';\nimport { TABLE_CONSTANT, COMMON_CONSTANT, DialogOneComponent, ButtonLabelEnum } from '@library/tsc-common';\nimport { ProfileImg } from '@library/user-service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@carbon/controller/spend-based.controller\";\nimport * as i3 from \"@library/storage-service\";\nimport * as i4 from \"@library/user-service\";\nimport * as i5 from \"@library/tsc-common\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/material/sort\";\nimport * as i8 from \"@angular/material/paginator\";\nimport * as i9 from \"@angular/material/tooltip\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/router\";\nimport * as i12 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i13 from \"@fortawesome/angular-fontawesome\";\nconst _c0 = [\"refreshBtn\"];\nconst _c1 = [\"status\"];\nfunction ImportHistoryComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 40);\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ImportHistoryComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 41);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r24 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltip\", row_r24[\"configName\"].length > 15 ? row_r24[\"configName\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 2, row_r24[\"configName\"] ? row_r24[\"configName\"] : ctx_r4.COMMON_CONSTANT.HYPHEN, 15), \" \");\n  }\n}\nfunction ImportHistoryComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 42);\n    i0.ɵɵtext(1, \" Type \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ImportHistoryComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r25 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltip\", row_r25[\"methodType\"].length > 20 ? row_r25[\"methodType\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 2, row_r25[\"methodType\"] ? row_r25[\"methodType\"] : ctx_r6.COMMON_CONSTANT.HYPHEN, 20), \" \");\n  }\n}\nfunction ImportHistoryComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 44);\n    i0.ɵɵtext(1, \" Accounting Period \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ImportHistoryComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r26 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (row_r26[\"startDate\"] ? row_r26[\"startDate\"] : ctx_r8.COMMON_CONSTANT.HYPHEN) + \" - \" + (row_r26[\"endDate\"] ? row_r26[\"endDate\"] : ctx_r8.COMMON_CONSTANT.HYPHEN), \" \");\n  }\n}\nfunction ImportHistoryComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 46);\n    i0.ɵɵtext(1, \" Created By \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ImportHistoryComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵelement(1, \"img\", 47);\n    i0.ɵɵelementStart(2, \"span\", 48);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r27 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", row_r27[\"createdBy\"][\"profileImgUrl\"] || ctx_r10.userService.defaultImage(row_r27[\"createdBy\"][\"name\"], ctx_r10.ProfileImg.PROFILE_IMAGE_DROPDOWN_NAME_VIEW), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", row_r27[\"createdBy\"][\"name\"] && row_r27[\"createdDate\"] && (row_r27[\"createdBy\"][\"name\"] + row_r27[\"createdDate\"]).length > 12 ? row_r27[\"createdBy\"][\"name\"] + \" on \" + row_r27[\"createdDate\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 3, (row_r27[\"createdBy\"][\"name\"] ? row_r27[\"createdBy\"][\"name\"] : ctx_r10.COMMON_CONSTANT.HYPHEN) + \" on \" + (row_r27[\"createdDate\"] ? row_r27[\"createdDate\"] : ctx_r10.COMMON_CONSTANT.HYPHEN), 12), \" \");\n  }\n}\nfunction ImportHistoryComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 49);\n    i0.ɵɵtext(1, \" Uploaded By \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ImportHistoryComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵelement(1, \"img\", 47);\n    i0.ɵɵelementStart(2, \"span\", 48);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r28 = ctx.$implicit;\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", row_r28[\"uploadedBy\"][\"profileImgUrl\"] || ctx_r12.userService.defaultImage(row_r28[\"uploadedBy\"][\"name\"], ctx_r12.ProfileImg.PROFILE_IMAGE_DROPDOWN_NAME_VIEW), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", row_r28[\"uploadedBy\"][\"name\"] && row_r28[\"uploadedDate\"] && (row_r28[\"uploadedBy\"][\"name\"] + row_r28[\"uploadedDate\"]).length > 12 ? row_r28[\"uploadedBy\"][\"name\"] + \" on \" + row_r28[\"uploadedDate\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 3, (row_r28[\"uploadedBy\"][\"name\"] ? row_r28[\"uploadedBy\"][\"name\"] : ctx_r12.COMMON_CONSTANT.HYPHEN) + \" on \" + (row_r28[\"uploadedDate\"] ? row_r28[\"uploadedDate\"] : ctx_r12.COMMON_CONSTANT.HYPHEN), 12), \" \");\n  }\n}\nfunction ImportHistoryComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 50);\n    i0.ɵɵtext(1, \" Categorized By \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ImportHistoryComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵelement(1, \"img\", 47);\n    i0.ɵɵelementStart(2, \"span\", 48);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r29 = ctx.$implicit;\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", row_r29[\"categorizedBy\"][\"profileImgUrl\"] || ctx_r14.userService.defaultImage(row_r29[\"categorizedBy\"][\"name\"], ctx_r14.ProfileImg.PROFILE_IMAGE_DROPDOWN_NAME_VIEW), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", row_r29[\"categorizedBy\"][\"name\"] && row_r29[\"categorizedDate\"] && (row_r29[\"categorizedBy\"][\"name\"] + row_r29[\"categorizedDate\"]).length > 12 ? row_r29[\"categorizedBy\"][\"name\"] + \" on \" + row_r29[\"categorizedDate\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 3, (row_r29[\"categorizedBy\"][\"name\"] ? row_r29[\"categorizedBy\"][\"name\"] : ctx_r14.COMMON_CONSTANT.HYPHEN) + \" on \" + (row_r29[\"categorizedDate\"] ? row_r29[\"categorizedDate\"] : ctx_r14.COMMON_CONSTANT.HYPHEN), 12), \" \");\n  }\n}\nfunction ImportHistoryComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"th\", 51);\n    i0.ɵɵelementStart(1, \"div\", 52);\n    i0.ɵɵelementStart(2, \"funnel-filter\", 53, 54);\n    i0.ɵɵlistener(\"mono\", function ImportHistoryComponent_th_36_Template_funnel_filter_mono_2_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.statusFlag = true;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"entityList\", ctx_r15.statusList)(\"selectFC\", ctx_r15.statusFC)(\"active\", ctx_r15.statusFlag)(\"showSearchBar\", false)(\"resetFlag\", ctx_r15.statusFlag);\n  }\n}\nfunction ImportHistoryComponent_td_37_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 60);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, row_r33[\"status\"]), \" \");\n  }\n}\nfunction ImportHistoryComponent_td_37_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 61);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, row_r33[\"status\"]), \" \");\n  }\n}\nfunction ImportHistoryComponent_td_37_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 62);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"titlecase\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, row_r33[\"status\"]), \" \");\n  }\n}\nfunction ImportHistoryComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 55);\n    i0.ɵɵelementContainerStart(1, 56);\n    i0.ɵɵtemplate(2, ImportHistoryComponent_td_37_button_2_Template, 3, 3, \"button\", 57);\n    i0.ɵɵtemplate(3, ImportHistoryComponent_td_37_button_3_Template, 3, 3, \"button\", 58);\n    i0.ɵɵtemplate(4, ImportHistoryComponent_td_37_button_4_Template, 3, 3, \"button\", 59);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r33 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", row_r33.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"DONE\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"DRAFT\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"TODO\");\n  }\n}\nfunction ImportHistoryComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 63);\n    i0.ɵɵtext(1, \" Categorized records \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c2 = function () {\n  return [\"/activity-data/spend-based-method/import-data\"];\n};\nconst _c3 = function (a0, a1, a2, a3) {\n  return {\n    configID: a0,\n    isConfigEdit: a1,\n    isCategorizeEdit: a2,\n    configMethodID: a3\n  };\n};\nfunction ImportHistoryComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵelementStart(1, \"a\", 64);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r40 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c2))(\"queryParams\", i0.ɵɵpureFunction4(5, _c3, row_r40.configID, row_r40[\"configPermission\"][\"isConfigEdit\"], row_r40[\"configPermission\"][\"isCategorizeEdit\"], row_r40[\"methodID\"]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", row_r40[\"categorizedRecords\"], \" / \", row_r40[\"totalRecords\"], \" \");\n  }\n}\nfunction ImportHistoryComponent_th_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 65);\n  }\n}\nfunction ImportHistoryComponent_td_43_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 72);\n    i0.ɵɵtext(1, \" Edit \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r41 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c2))(\"queryParams\", i0.ɵɵpureFunction4(3, _c3, row_r41.configID, row_r41[\"configPermission\"][\"isConfigEdit\"], row_r41[\"configPermission\"][\"isCategorizeEdit\"], row_r41[\"methodID\"]));\n  }\n}\nfunction ImportHistoryComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 45);\n    i0.ɵɵelementStart(1, \"div\", 66);\n    i0.ɵɵelementStart(2, \"button\", 67);\n    i0.ɵɵelement(3, \"fa-icon\", 68);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 69);\n    i0.ɵɵtemplate(5, ImportHistoryComponent_td_43_a_5_Template, 2, 8, \"a\", 70);\n    i0.ɵɵelementStart(6, \"a\", 71);\n    i0.ɵɵlistener(\"click\", function ImportHistoryComponent_td_43_Template_a_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r45);\n      const row_r41 = restoredCtx.$implicit;\n      const ctx_r44 = i0.ɵɵnextContext();\n      return ctx_r44.deleteImportRecordConfig(row_r41.configID);\n    });\n    i0.ɵɵtext(7, \" Delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r41 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"icon\", ctx_r20.faEllipsisV);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", row_r41[\"configPermission\"][\"isConfigEdit\"] || row_r41[\"configPermission\"][\"isCategorizeEdit\"]);\n  }\n}\nfunction ImportHistoryComponent_tr_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 73);\n  }\n}\nfunction ImportHistoryComponent_tr_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 74);\n  }\n}\nfunction ImportHistoryComponent_tr_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 75);\n    i0.ɵɵelementStart(1, \"td\", 76);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r23.displayedColumns.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r23.TABLE_CONSTANT.TABLE_NO_DATA, \" \");\n  }\n}\nexport let ImportHistoryComponent = /*#__PURE__*/(() => {\n  class ImportHistoryComponent {\n    constructor(dialog, spendBasedController, storageService, userService) {\n      this.dialog = dialog;\n      this.spendBasedController = spendBasedController;\n      this.storageService = storageService;\n      this.userService = userService;\n      this.TABLE_CONSTANT = TABLE_CONSTANT;\n      this.COMMON_CONSTANT = COMMON_CONSTANT;\n      this.CARBON_CONSTANT = CARBON_CONSTANT;\n      this.ProfileImg = ProfileImg;\n      this.faEllipsisV = faEllipsisV;\n      this.resultLength = 0;\n      this.displayedColumns = ['name', 'type', 'accountingPeriod', 'createdDate', 'uploadedBy', 'categorizedBy', 'status', 'record', 'action'];\n      this.statusList = [{\n        key: 'all',\n        value: 'All'\n      }, {\n        key: 'DRAFT',\n        value: 'Draft'\n      }, {\n        key: 'DONE',\n        value: 'Done'\n      }, {\n        key: 'TODO',\n        value: 'To Do'\n      }];\n      this.searchFlag = false;\n      this.statusFlag = false;\n      this.statusFC = new FormControl('all');\n      this.filterArr = [];\n    }\n    ngOnInit() {\n      this.currentOrgID = this.storageService.getStorage('currentOrgID');\n    }\n    searchFn($event) {\n      this.searchValue = $event;\n      if (this.searchValue.length > 0) {\n        this.searchFlag = true;\n        this.statusFC.reset(['all']);\n        this.paginator.pageIndex = 0;\n      } else {\n        this.searchFlag = false;\n      }\n      this.refreshBtn.nativeElement.click();\n    }\n    ngAfterViewInit() {\n      // If the user changes the sort order, reset back to the first page.\n      this.sort.sortChange.subscribe(() => this.paginator.pageIndex = 0);\n      // this.statusSelect.selectionChange.subscribe((event: any) => {\n      //     this.searchFlag = false;\n      //     this.paginator.pageIndex = 0;\n      // });\n      // If the user changes the filter, reset back to the first page.\n      fromEvent(this.refreshBtn.nativeElement, \"click\").subscribe(() => this.paginator.pageIndex = 0);\n      merge(this.paginator.page, this.sort.sortChange, this.status.mono, fromEvent(this.refreshBtn.nativeElement, \"click\")).pipe(startWith({}), switchMap(() => {\n        this.filterArr = [];\n        if (this.searchFlag) {\n          this.filterArr.push(\"search:\" + this.searchValue);\n        }\n        if (this.statusFlag) {\n          if (this.statusFC.value == 'all') {\n            this.statusFlag = false;\n          } else {\n            this.filterArr.push('status:' + this.statusFC.value);\n          }\n        }\n        return this.spendBasedController.getImportRecordHistory(this.paginator.pageIndex, this.paginator.pageSize, this.sort.active, this.sort.direction, this.filterArr, this.currentOrgID).pipe(catchError(() => observableOf(null)));\n      }), map(dataSource => {\n        if (dataSource === null) {\n          this.resultLength = 0;\n          return [];\n        }\n        this.resultLength = dataSource[\"totalCount\"];\n        return dataSource[\"configRecord\"];\n      })).subscribe(dataSource => {\n        this.dataSource = dataSource;\n      });\n    }\n    addStatus(status) {\n      if (status == 'all') {\n        this.statusFlag = false;\n        return;\n      }\n    }\n    deleteImportRecordConfig(configID) {\n      const message = 'This action will delete all transactions and emissions associated with those transactions in this import file. This is an irreversible action.';\n      const confirmationMsg = \"Are you sure you want to continue?\";\n      const dialogRef = this.dialog.open(DialogOneComponent, {\n        data: {\n          type: 'delete',\n          icon: 'dangerous',\n          header: 'Delete import',\n          body: message + \"\\n\" + confirmationMsg,\n          buttonOne: ButtonLabelEnum.CANCEL_BTN_LABEL,\n          buttonTwo: ButtonLabelEnum.DELETE_BTN_LABEL\n        },\n        minWidth: '500px',\n        maxWidth: '600px'\n      });\n      dialogRef.disableClose = true;\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.deleteRecord(configID);\n        }\n      });\n    }\n    deleteRecord(id) {\n      this.spendBasedController.deleteImportRecordConfig(this.currentOrgID, id).subscribe(deleteRes => {\n        this.refreshBtn.nativeElement.click();\n      }, error => {\n        console.log('Error in deleteImportRecordConfig', error);\n      });\n    }\n  }\n  ImportHistoryComponent.ɵfac = function ImportHistoryComponent_Factory(t) {\n    return new (t || ImportHistoryComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.SpendBasedController), i0.ɵɵdirectiveInject(i3.StorageService), i0.ɵɵdirectiveInject(i4.UserService));\n  };\n  ImportHistoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ImportHistoryComponent,\n    selectors: [[\"app-import-history\"]],\n    viewQuery: function ImportHistoryComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.refreshBtn = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.status = _t.first);\n      }\n    },\n    decls: 48,\n    vars: 7,\n    consts: [[1, \"card\", \"main-card\", \"cardOverwrite\", \"h100\"], [1, \"headerContainer\"], [1, \"headerLeftContainer\"], [1, \"pageTitle\"], [1, \"pageSubtitle\"], [1, \"headerRightContainer\"], [1, \"headerRightContainerInner\"], [1, \"me-3\", 3, \"searchBy\", \"emitSearch\"], [\"searchBar\", \"\"], [\"type\", \"button\", 1, \"d-none\"], [\"refreshBtn\", \"\"], [1, \"overflowX\", \"customScrollBar\"], [\"mat-table\", \"\", \"matSort\", \"\", \"matSortActive\", \"createdDate\", \"matSortDirection\", \"desc\", \"matSortDisableClear\", \"\", 1, \"w-100\", 3, \"dataSource\"], [\"sort\", \"\"], [\"matColumnDef\", \"name\"], [\"class\", \"ps-3 name\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"class\", \"ps-3\", \"mat-cell\", \"\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 3, \"matTooltip\", 4, \"matCellDef\"], [\"matColumnDef\", \"type\"], [\"class\", \"px-3 type\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"class\", \"px-3\", \"mat-cell\", \"\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 3, \"matTooltip\", 4, \"matCellDef\"], [\"matColumnDef\", \"accountingPeriod\"], [\"class\", \"ps-3 accountingPeriod\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"class\", \"ps-3\", \"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"createdDate\"], [\"class\", \"ps-3 createdBy\", \"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"uploadedBy\"], [\"class\", \"ps-3 uploadedBy\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"categorizedBy\"], [\"class\", \"ps-3 categorizedBy\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"status\"], [\"class\", \"px-3 text-center status\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"class\", \"px-3\", \"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"record\"], [\"class\", \"ps-3 record\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"action\"], [\"class\", \"ps-3 action\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [\"showFirstLastButtons\", \"\", 1, \"roundedBorder\", 3, \"length\", \"pageSize\", \"pageSizeOptions\"], [\"mat-header-cell\", \"\", 1, \"ps-3\", \"name\"], [\"mat-cell\", \"\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 1, \"ps-3\", 3, \"matTooltip\"], [\"mat-header-cell\", \"\", 1, \"px-3\", \"type\"], [\"mat-cell\", \"\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 1, \"px-3\", 3, \"matTooltip\"], [\"mat-header-cell\", \"\", 1, \"ps-3\", \"accountingPeriod\"], [\"mat-cell\", \"\", 1, \"ps-3\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 1, \"ps-3\", \"createdBy\"], [\"alt\", \"profile img\", 1, \"rounded-circle\", \"border\", \"border-3\", \"profileImageDropdownView\", 3, \"src\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 3, \"matTooltip\"], [\"mat-header-cell\", \"\", 1, \"ps-3\", \"uploadedBy\"], [\"mat-header-cell\", \"\", 1, \"ps-3\", \"categorizedBy\"], [\"mat-header-cell\", \"\", 1, \"px-3\", \"text-center\", \"status\"], [1, \"row\"], [\"header\", \"Status\", \"type\", \"mono\", \"value\", \"key\", \"view\", \"value\", 3, \"entityList\", \"selectFC\", \"active\", \"showSearchBar\", \"resetFlag\", \"mono\"], [\"status\", \"\"], [\"mat-cell\", \"\", 1, \"px-3\"], [3, \"ngSwitch\"], [\"class\", \"btn btn-sm w-100 bg-success rounded-pill text-white\", \"type\", \"button\", 4, \"ngSwitchCase\"], [\"class\", \"btn btn-sm w-100 bg-warning rounded-pill text-white\", \"type\", \"button\", 4, \"ngSwitchCase\"], [\"class\", \"btn btn-sm w-100 bg-primary rounded-pill text-white\", \"type\", \"button\", 4, \"ngSwitchCase\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"w-100\", \"bg-success\", \"rounded-pill\", \"text-white\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"w-100\", \"bg-warning\", \"rounded-pill\", \"text-white\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"w-100\", \"bg-primary\", \"rounded-pill\", \"text-white\"], [\"mat-header-cell\", \"\", 1, \"ps-3\", \"record\"], [1, \"ms-3\", 3, \"routerLink\", \"queryParams\"], [\"mat-header-cell\", \"\", 1, \"ps-3\", \"action\"], [\"ngbDropdown\", \"\", \"placement\", \"left-top\", 1, \"btn-group\"], [\"type\", \"button\", \"ngbDropdownToggle\", \"\", 1, \"dropdown-after\", \"dropdownAfter\", \"btn\"], [1, \"projectOption\", 3, \"icon\"], [\"ngbDropdownMenu\", \"\"], [\"class\", \"dropdown-item\", 3, \"routerLink\", \"queryParams\", 4, \"ngIf\"], [1, \"dropdown-item\", \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"dropdown-item\", 3, \"routerLink\", \"queryParams\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"mat-row\"], [1, \"mat-cell\", \"text-center\"]],\n    template: function ImportHistoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtext(4, \"All imports\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵtext(6, \"View, edit and delete all imports.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"lib-search-bar-one\", 7, 8);\n        i0.ɵɵlistener(\"emitSearch\", function ImportHistoryComponent_Template_lib_search_bar_one_emitSearch_9_listener($event) {\n          return ctx.searchFn($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 9, 10);\n        i0.ɵɵtext(13, \"refresh\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 11);\n        i0.ɵɵelementStart(15, \"table\", 12, 13);\n        i0.ɵɵelementContainerStart(17, 14);\n        i0.ɵɵtemplate(18, ImportHistoryComponent_th_18_Template, 2, 0, \"th\", 15);\n        i0.ɵɵtemplate(19, ImportHistoryComponent_td_19_Template, 3, 5, \"td\", 16);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(20, 17);\n        i0.ɵɵtemplate(21, ImportHistoryComponent_th_21_Template, 2, 0, \"th\", 18);\n        i0.ɵɵtemplate(22, ImportHistoryComponent_td_22_Template, 3, 5, \"td\", 19);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(23, 20);\n        i0.ɵɵtemplate(24, ImportHistoryComponent_th_24_Template, 2, 0, \"th\", 21);\n        i0.ɵɵtemplate(25, ImportHistoryComponent_td_25_Template, 2, 1, \"td\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(26, 23);\n        i0.ɵɵtemplate(27, ImportHistoryComponent_th_27_Template, 2, 0, \"th\", 24);\n        i0.ɵɵtemplate(28, ImportHistoryComponent_td_28_Template, 5, 6, \"td\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(29, 25);\n        i0.ɵɵtemplate(30, ImportHistoryComponent_th_30_Template, 2, 0, \"th\", 26);\n        i0.ɵɵtemplate(31, ImportHistoryComponent_td_31_Template, 5, 6, \"td\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(32, 27);\n        i0.ɵɵtemplate(33, ImportHistoryComponent_th_33_Template, 2, 0, \"th\", 28);\n        i0.ɵɵtemplate(34, ImportHistoryComponent_td_34_Template, 5, 6, \"td\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(35, 29);\n        i0.ɵɵtemplate(36, ImportHistoryComponent_th_36_Template, 4, 5, \"th\", 30);\n        i0.ɵɵtemplate(37, ImportHistoryComponent_td_37_Template, 5, 4, \"td\", 31);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(38, 32);\n        i0.ɵɵtemplate(39, ImportHistoryComponent_th_39_Template, 2, 0, \"th\", 33);\n        i0.ɵɵtemplate(40, ImportHistoryComponent_td_40_Template, 3, 10, \"td\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(41, 34);\n        i0.ɵɵtemplate(42, ImportHistoryComponent_th_42_Template, 1, 0, \"th\", 35);\n        i0.ɵɵtemplate(43, ImportHistoryComponent_td_43_Template, 8, 2, \"td\", 22);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(44, ImportHistoryComponent_tr_44_Template, 1, 0, \"tr\", 36);\n        i0.ɵɵtemplate(45, ImportHistoryComponent_tr_45_Template, 1, 0, \"tr\", 37);\n        i0.ɵɵtemplate(46, ImportHistoryComponent_tr_46_Template, 3, 2, \"tr\", 38);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"mat-paginator\", 39);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"searchBy\", \"config name\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(29);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"length\", ctx.resultLength)(\"pageSize\", ctx.TABLE_CONSTANT.DEFAULT_PAGE_SIZE)(\"pageSizeOptions\", ctx.TABLE_CONSTANT.PAGE_SIZE_OPTION);\n      }\n    },\n    directives: [i5.SearchBarOneComponent, i6.MatTable, i7.MatSort, i6.MatColumnDef, i6.MatHeaderCellDef, i6.MatCellDef, i6.MatHeaderRowDef, i6.MatRowDef, i6.MatNoDataRow, i8.MatPaginator, i6.MatHeaderCell, i6.MatCell, i9.MatTooltip, i7.MatSortHeader, i5.FunnelFilterComponent, i10.NgSwitch, i10.NgSwitchCase, i11.RouterLinkWithHref, i12.NgbDropdown, i12.NgbDropdownToggle, i13.FaIconComponent, i12.NgbDropdownMenu, i10.NgIf, i6.MatHeaderRow, i6.MatRow],\n    pipes: [i5.EllipsisPipeService, i10.TitleCasePipe],\n    styles: [\".name[_ngcontent-%COMP%]{min-width:140px}.type[_ngcontent-%COMP%]{min-width:190px}.accountingPeriod[_ngcontent-%COMP%]{min-width:180px}.createdBy[_ngcontent-%COMP%]{min-width:160px}.uploadedBy[_ngcontent-%COMP%]{min-width:160px}.categorizedBy[_ngcontent-%COMP%]{min-width:160px}.status[_ngcontent-%COMP%]{min-width:120px}.record[_ngcontent-%COMP%]{min-width:130px}.action[_ngcontent-%COMP%]{min-width:160px}.funnelFilterDD[_ngcontent-%COMP%]{width:0;height:0;overflow:hidden}.overflowX[_ngcontent-%COMP%]{overflow-x:auto}\"]\n  });\n  return ImportHistoryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}