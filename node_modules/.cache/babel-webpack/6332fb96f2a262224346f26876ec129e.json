{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { CARBON_CONSTANT } from '@carbon/constant/carbon.constant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@carbon/controller/timeline.controller\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/common\";\nfunction GroupLevelChangeComponent_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 6);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const diff_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(diff_r3[\"activityName\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, diff_r3[\"preEmission\"], \"1.0-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 7, diff_r3[\"postEmission\"], \"1.0-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(diff_r3[\"unit\"]);\n  }\n}\nfunction GroupLevelChangeComponent_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 13);\n    i0.ɵɵelementStart(6, \"div\", 14);\n    i0.ɵɵelementStart(7, \"div\", 15);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 15);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const title_r4 = ctx.title;\n    const prev_r5 = ctx.prev;\n    const current_r6 = ctx.current;\n    const unit_r7 = ctx.unit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", title_r4, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 3, prev_r5, \"1.2-2\") + \" \" + unit_r7, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(12, 6, current_r6, \"1.2-2\") + \" \" + unit_r7, \" \");\n  }\n}\nexport let GroupLevelChangeComponent = /*#__PURE__*/(() => {\n  class GroupLevelChangeComponent {\n    constructor(data, timelineController) {\n      this.data = data;\n      this.timelineController = timelineController;\n      this.emissionDiff = [];\n      this.rootOrgID = data['rootOrgID'];\n      this.baseYearKeyID = data['baseYearKeyID'];\n      this.recalculationID = (data === null || data === void 0 ? void 0 : data['recalculationID']) ? data['recalculationID'] : null;\n      this.recalculationTrigger = data['recalculationTrigger'];\n      this.recalculationRequestID = data['recalculationRequestID'];\n      this.dialogTitle = this.title(this.recalculationTrigger);\n    }\n    title(trigger) {\n      switch (trigger) {\n        case CARBON_CONSTANT['SETTING_CHANGE']:\n          return 'Calculation Preference update';\n        case CARBON_CONSTANT['CUSTOM_EMISSION_FACTOR']:\n          return 'Custom emission factor';\n        case CARBON_CONSTANT['CUSTOM_ESTIMATION_FACTOR']:\n          return 'Custom estimation factor';\n        default:\n          return 'Calculation Preference update';\n      }\n    }\n    ngOnInit() {\n      this.getTriggerEmissionDiff();\n    }\n    getTriggerEmissionDiff() {\n      this.timelineController.getTriggerEmissionDiff(this.rootOrgID, this.baseYearKeyID, this.recalculationTrigger, this.recalculationRequestID, this.recalculationID).subscribe(res => {\n        this.emissionDiff = res;\n      }, error => {\n        console.log('Error in getTriggerEmissionDiff() - ', error);\n      });\n    }\n  }\n  GroupLevelChangeComponent.ɵfac = function GroupLevelChangeComponent_Factory(t) {\n    return new (t || GroupLevelChangeComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.TimelineController));\n  };\n  GroupLevelChangeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GroupLevelChangeComponent,\n    selectors: [[\"app-group-level\"]],\n    decls: 21,\n    vars: 2,\n    consts: [[\"mat-dialog-title\", \"\"], [1, \"dialogTitle\"], [\"mat-icon-button\", \"\", \"mat-dialog-close\", \"\", \"cdkFocusInitial\", \"\", \"matTooltip\", \"Close\", \"matTooltipPosition\", \"before\", 1, \"float-end\", \"matDialogClose\"], [1, \"material-symbols-outlined\"], [\"mat-dialog-content\", \"\", 1, \"matDialogContent\"], [1, \"emissionDiffContainer\", \"mt-2\"], [1, \"text-end\"], [4, \"ngFor\", \"ngForOf\"], [\"view\", \"\"], [1, \"row\"], [1, \"col-sm-5\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"col-form-label\", \"ms-1\", \"activity\"], [1, \"col-sm-7\"], [1, \"row\", \"emission\", \"d-flex\", \"justify-content-between\"], [1, \"col-sm-6\", \"col-form-value\", \"fw-bold\"]],\n    template: function GroupLevelChangeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"strong\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵelementStart(4, \"span\", 3);\n        i0.ɵɵtext(5, \"close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"table\");\n        i0.ɵɵelementStart(9, \"tr\");\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Activity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\", 6);\n        i0.ɵɵtext(13, \"Before \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\", 6);\n        i0.ɵɵtext(15, \"After \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\");\n        i0.ɵɵtext(17, \"Unit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(18, GroupLevelChangeComponent_ng_container_18_Template, 12, 10, \"ng-container\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, GroupLevelChangeComponent_ng_template_19_Template, 13, 9, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.dialogTitle, \" Impact \");\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.emissionDiff);\n      }\n    },\n    directives: [i2.MatDialogTitle, i3.MatButton, i2.MatDialogClose, i2.MatDialogContent, i4.NgForOf],\n    pipes: [i4.DecimalPipe],\n    styles: [\".header[_ngcontent-%COMP%]{padding-left:35px;margin-bottom:20px;font-size:20px;font-weight:500}.activity[_ngcontent-%COMP%], .emission[_ngcontent-%COMP%]{padding-left:20px;margin:7px 0;font-size:16px;font-weight:500}.emissionDiffContainer[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}.emissionDiffContainer[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .emissionDiffContainer[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:12px}.emissionDiffContainer[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#ddd}\", \"\"]\n  });\n  return GroupLevelChangeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}