{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@carbon/component/factor-database/active-page-pill/active-page-pill.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/tooltip\";\nimport * as i5 from \"@library/tsc-common\";\nfunction ActivePagePillComponent_span_1_ng_container_1_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"span\", 6);\n    i0.ɵɵtext(3, \" chevron_right \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"current\": a0\n  };\n};\nfunction ActivePagePillComponent_span_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"a\", 4, 5);\n    i0.ɵɵlistener(\"click\", function ActivePagePillComponent_span_1_ng_container_1_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.removeFolder(i_r2);\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ActivePagePillComponent_span_1_ng_container_1_ng_container_6_Template, 4, 0, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    const activePills_r1 = ctx_r9.$implicit;\n    const i_r2 = ctx_r9.index;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", activePills_r1[\"route\"])(\"queryParams\", activePills_r1 == null ? null : activePills_r1.queryParams)(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, i_r2 == ctx_r3.activePill.length - 1))(\"matTooltip\", activePills_r1[\"name\"].length > 24 ? activePills_r1[\"name\"] : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 6, activePills_r1[\"name\"], 24), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.activePill.length > 1 && i_r2 < ctx_r3.activePill.length - 1);\n  }\n}\nfunction ActivePagePillComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, ActivePagePillComponent_span_1_ng_container_1_Template, 7, 11, \"ng-container\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.activePill.length > 1);\n  }\n}\nexport let ActivePagePillComponent = /*#__PURE__*/(() => {\n  class ActivePagePillComponent {\n    constructor(activePagePillService) {\n      this.activePagePillService = activePagePillService;\n      this.activePill = [];\n    }\n    ngOnInit() {\n      if (this.type == 'standard-emission-factor') {\n        this.activePagePillService.data$.subscribe(folder => {\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      }\n      // else if (this.type == 'standard-estimation-factor') {\n      //     this.activePagePillService.data$.subscribe((folder) => {\n      //         setTimeout(() => {\n      //             this.createFolderPill(folder);\n      //         }, 0);\n      //     });\n      // } \n      else if (this.type == 'custom-emission-factor') {\n        this.activePagePillService.custEF.subscribe(folder => {\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      } else if (this.type == 'custom-estimation-factor') {\n        this.activePagePillService.custEstimationFactor.subscribe(folder => {\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      } else if (this.type == 'equipment-capacity') {\n        this.activePagePillService.equipmentCapacityData.subscribe(folder => {\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      } else if (this.type == 'equipment-emission') {\n        this.activePagePillService.equipmentEmissionData.subscribe(folder => {\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      } else if (this.type == 'fugitive-release') {\n        this.activePagePillService.fugitiveReleaseData.subscribe(folder => {\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      } else if (this.type == 'fugitive-emission') {\n        this.activePagePillService.fugitiveEmissionData.subscribe(folder => {\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      } else if (this.type == 'ongoing-report') {\n        this.activePagePillService.ongoingReports.subscribe(folder => {\n          console.log('ongoin report - ', folder);\n          setTimeout(() => {\n            this.createFolderPill(folder);\n          }, 0);\n        });\n      }\n    }\n    createFolderPill(folder) {\n      if (this.activePill.length == 0) {\n        this.activePill.push({\n          name: this.initFolderName,\n          route: this.initFolderRoute\n        });\n      }\n      if (folder != null) {\n        if (this.activePill.filter(f => f['name'] == folder['name']).length == 0) this.activePill.push(folder);\n      } else {\n        this.activePill = [];\n        this.activePill.push({\n          name: this.initFolderName,\n          route: this.initFolderRoute\n        });\n      }\n    }\n    onPopState() {\n      if (this.activePill.length > 1) {\n        this.activePill.pop();\n      }\n    }\n    removeFolder(index) {\n      this.activePill = this.activePill.slice(0, ++index);\n    }\n    ngOnDestroy() {\n      this.activePagePillService.clearData();\n    }\n  }\n  ActivePagePillComponent.ɵfac = function ActivePagePillComponent_Factory(t) {\n    return new (t || ActivePagePillComponent)(i0.ɵɵdirectiveInject(i1.ActivePagePillService));\n  };\n  ActivePagePillComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ActivePagePillComponent,\n    selectors: [[\"app-active-page-pill\"]],\n    hostBindings: function ActivePagePillComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"popstate\", function ActivePagePillComponent_popstate_HostBindingHandler($event) {\n          return ctx.onPopState($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    inputs: {\n      type: \"type\",\n      initFolderName: \"initFolderName\",\n      initFolderRoute: \"initFolderRoute\"\n    },\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"mx-2\", \"my-3\", \"h-auto\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"d-inline-block\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"folder_pill\", 1, \"btn\", \"folder\", \"rounded-pill\", \"fs-5\", 3, \"routerLink\", \"queryParams\", \"ngClass\", \"matTooltip\", \"click\"], [\"tooltip\", \"matTooltip\"], [1, \"material-symbols-outlined\", \"btn\", \"rounded-pill\", \"noFocus\", \"chevron-right\", \"p-0\"]],\n    template: function ActivePagePillComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, ActivePagePillComponent_span_1_Template, 2, 1, \"span\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.activePill);\n      }\n    },\n    directives: [i2.NgForOf, i2.NgIf, i3.RouterLinkWithHref, i2.NgClass, i4.MatTooltip],\n    pipes: [i5.EllipsisPipeService],\n    encapsulation: 2\n  });\n  return ActivePagePillComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}