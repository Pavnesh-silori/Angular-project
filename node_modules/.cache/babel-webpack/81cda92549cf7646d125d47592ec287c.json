{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { STEPPER_GLOBAL_OPTIONS } from '@angular/cdk/stepper';\nimport * as moment from 'moment';\nimport { CBAM_CONSTANT } from '@carbon/constant/cbam.constant';\nimport { ProductAndService } from '@netzero/model/product-service.model';\nimport { RunStatusKeyIDEnum } from '@carbon/enum/cbam.enum';\n//tsc-library\nimport { COMMON_CONSTANT, FormAction } from '@library/tsc-common';\nimport { RESPONSE_STATUS_KEYID_ENUM } from '@library/tsc-common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@carbon/controller/installation-detail.controller\";\nimport * as i3 from \"@netzero/service/product-and-service.service\";\nimport * as i4 from \"@carbon/service/cbam-run.service\";\nimport * as i5 from \"@library/storage-service\";\nimport * as i6 from \"@angular/material/expansion\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/stepper\";\nimport * as i9 from \"../installation-detail/installation-detail.component\";\nimport * as i10 from \"@angular/material/card\";\nimport * as i11 from \"../../../../../../../../netzero/src/app/tsc/component/source/production-route/view/process-map/process-map.component\";\nimport * as i12 from \"../process-map/process-map/process-map.component\";\nimport * as i13 from \"../track-progress/track-progress.component\";\nimport * as i14 from \"../allocate-review-run/allocate-review-run.component\";\nimport * as i15 from \"@angular/material/tooltip\";\nimport * as i16 from \"@library/tsc-common\";\nconst _c0 = [\"installationDetails\"];\nconst _c1 = [\"dataCollection\"];\nconst _c2 = [\"trackProgress\"];\nconst _c3 = [\"processMap\"];\nconst _c4 = [\"stepper\"];\nconst _c5 = [\"allocateRunReview\"];\nconst _c6 = [\"result\"];\nfunction StepperComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction StepperComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction StepperComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction StepperComponent_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction StepperComponent_ng_container_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction StepperComponent_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Installation Details\");\n  }\n}\nfunction StepperComponent_ng_template_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Process Map\");\n  }\n}\nfunction StepperComponent_ng_template_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Configure Data Collection\");\n  }\n}\nfunction StepperComponent_ng_template_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Track Progress\");\n  }\n}\nfunction StepperComponent_ng_template_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"Allocate, Review and Run\");\n  }\n}\nfunction StepperComponent_div_60_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function StepperComponent_div_60_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.goBack();\n    });\n    i0.ɵɵtext(1, \" Back \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StepperComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, StepperComponent_div_60_button_1_Template, 2, 0, \"button\", 30);\n    i0.ɵɵelementStart(2, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function StepperComponent_div_60_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.saveAndNext();\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(28);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.selectedIndex > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.saveAndNextBtnLabel(ctx_r16.runStatus), \" \");\n  }\n}\nfunction StepperComponent_ng_template_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 33);\n    i0.ɵɵelementStart(4, \"span\", 34);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const label_r24 = ctx.label;\n    const value_r25 = ctx.value;\n    const class_r26 = ctx.class;\n    const valueClass_r27 = ctx.valueClass;\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(class_r26);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", label_r24, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", valueClass_r27)(\"matTooltip\", (value_r25 == null ? null : value_r25.length) > 25 ? value_r25 : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", value_r25 ? i0.ɵɵpipeBind2(6, 6, value_r25, 25) : ctx_r18.COMMON_CONSTANT.HYPHEN, \" \");\n  }\n}\nconst _c7 = function (a1) {\n  return {\n    label: \"CN Code\",\n    value: a1,\n    class: \"pt-1\"\n  };\n};\nconst _c8 = function (a1) {\n  return {\n    label: \"Run ID\",\n    value: a1,\n    class: \"pt-1\"\n  };\n};\nconst _c9 = function (a1) {\n  return {\n    label: \"Aggregated Goods Category\",\n    value: a1,\n    class: \"pt-1\"\n  };\n};\nconst _c10 = function (a1) {\n  return {\n    label: \"Product Description\",\n    value: a1,\n    class: \"pt-1\"\n  };\n};\nconst _c11 = function (a1) {\n  return {\n    label: \"Reporting Period\",\n    value: a1,\n    class: \"pt-1\"\n  };\n};\n// /tsc-library/\nexport let StepperComponent = /*#__PURE__*/(() => {\n  class StepperComponent {\n    constructor(activatedRoute, installationDetailController, productService, cbamRunService, storageService) {\n      this.activatedRoute = activatedRoute;\n      this.installationDetailController = installationDetailController;\n      this.productService = productService;\n      this.cbamRunService = cbamRunService;\n      this.storageService = storageService;\n      this.products = new ProductAndService();\n      this.runStatus = RunStatusKeyIDEnum.INSTALLATION_DETAILS;\n      this.COMMON_CONSTANT = COMMON_CONSTANT;\n      this.CBAM_CONSTANT = CBAM_CONSTANT;\n      this.isDataCollection = false;\n      this.RunStatusKeyIDEnum = RunStatusKeyIDEnum;\n      this.currentRunStatus = {\n        key: RunStatusKeyIDEnum.INSTALLATION_DETAILS,\n        value: CBAM_CONSTANT.PENDING_CONFIGURATION\n      };\n    }\n    ngOnInit() {\n      this.currentOrgID = this.storageService.getStorage('currentOrgID');\n      this.action = this.activatedRoute.snapshot.data.action;\n      this.activatedRoute.queryParams.subscribe(queryParam => {\n        if (queryParam.runID) {\n          this.runID = queryParam.runID;\n          this.getByRunID(this.runID);\n        }\n        this.productID = queryParam.productID;\n        this.getProductByID(this.productID);\n        if (this.action == FormAction.CREATE) {\n          let startDate = queryParam.startDate;\n          this.startDate = moment(new Date(startDate)).format(\"DD-MMM-YYYY\");\n          let endDate = queryParam.endDate;\n          this.endDate = moment(new Date(endDate)).format(\"DD-MMM-YYYY\");\n        }\n      });\n    }\n    onStepChange(event) {\n      this.currentIndex = event.selectedIndex;\n      if (this.currentIndex == 4) {\n        this.linkedRecords = this.trackProgress.linkedRecords;\n      }\n      this.updateStepper(this.currentIndex);\n    }\n    getByRunID(runID) {\n      this.installationDetailController.getInstallationByRunID(this.currentOrgID, runID).subscribe(res => {\n        let response = res;\n        let startDate = response.productRunConfig.periodStartDate;\n        this.startDate = moment(new Date(startDate)).format(\"DD-MMM-YYYY\");\n        let endDate = response.productRunConfig.periodEndDate;\n        this.endDate = moment(new Date(endDate)).format(\"DD-MMM-YYYY\");\n        this.runStatus = response.productRunConfig.runStatus;\n        this.currentRunStatus = CBAM_CONSTANT.RUN_STATUS.find(status => status.key === this.runStatus);\n        this.stepperStep(this.runStatus);\n      });\n    }\n    stepperStep(status) {\n      setTimeout(() => {\n        if (status == RunStatusKeyIDEnum.PROCESS_MAP) {\n          this.stepper.selectedIndex = 1;\n        } else if (status == RunStatusKeyIDEnum.CONFIGURE_DATA_COLLECTION) {\n          this.stepper.selectedIndex = 2;\n        } else if (status == RunStatusKeyIDEnum.TRACK_PROGRESS) {\n          this.stepper.selectedIndex = 3;\n        } else if (status == RunStatusKeyIDEnum.ALLOCATE_REVIEW || status == RunStatusKeyIDEnum.CALCULATION_PENDING || status == RunStatusKeyIDEnum.DONE || status == RunStatusKeyIDEnum.RUN_ERROR) {\n          this.stepper.selectedIndex = 4;\n        }\n      }, 500);\n    }\n    updateStepper(index) {\n      for (let i = 0; i < index; i++) {\n        this.stepper.steps.toArray()[i].completed = true;\n      }\n      for (let i = index; i < this.stepper.steps.length; i++) {\n        this.stepper.steps.toArray()[i].completed = false;\n      }\n    }\n    getProductByID(id) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.products = yield this.productService.getProductByID(this.currentOrgID, id);\n      });\n    }\n    statusColour(status) {\n      let classC;\n      if ([RunStatusKeyIDEnum.INSTALLATION_DETAILS, RunStatusKeyIDEnum.PROCESS_MAP, RunStatusKeyIDEnum.CONFIGURE_DATA_COLLECTION, RunStatusKeyIDEnum.RUN_ERROR].includes(status)) {\n        classC = 'danger';\n      } else if ([RunStatusKeyIDEnum.TRACK_PROGRESS, RunStatusKeyIDEnum.ALLOCATE_REVIEW].includes(status)) {\n        classC = 'warning';\n      } else if ([RunStatusKeyIDEnum.CALCULATION_PENDING].includes(status)) {\n        classC = 'disable';\n      } else if ([RunStatusKeyIDEnum.DONE].includes(status)) {\n        classC = 'success';\n      } else {\n        classC = 'disable';\n      }\n      return classC;\n    }\n    saveAndNext() {\n      return __awaiter(this, void 0, void 0, function* () {\n        switch (this.stepper.selectedIndex) {\n          case 0:\n            this.runStatus = RunStatusKeyIDEnum.PROCESS_MAP;\n            let result = false;\n            result = yield this.installationDetails.onSubmit(this.runStatus);\n            if (result) {\n              this.stepper.next();\n            }\n            break;\n          case 1:\n            this.runStatus = RunStatusKeyIDEnum.CONFIGURE_DATA_COLLECTION;\n            this.updateCbamRunStatusAndNextStep(this.currentOrgID, this.runID, this.runStatus);\n            break;\n          case 2:\n            if (yield this.dataCollection.onSubmit(this.runStatus)) {\n              this.runStatus = RunStatusKeyIDEnum.TRACK_PROGRESS;\n              this.isDataCollection = true;\n              this.updateCbamRunStatusAndNextStep(this.currentOrgID, this.runID, this.runStatus);\n              // this.stepper.next();\n            }\n\n            break;\n          case 3:\n            this.runStatus = RunStatusKeyIDEnum.ALLOCATE_REVIEW;\n            this.updateCbamRunStatusAndNextStep(this.currentOrgID, this.runID, this.runStatus);\n            break;\n          case 4:\n            this.runStatus = RunStatusKeyIDEnum.ALLOCATE_REVIEW;\n            let res = yield this.allocateRunReview.onSubmit(this.runStatus);\n            if (res) {\n              this.runStatus = RunStatusKeyIDEnum.CALCULATION_PENDING;\n              this.updateCbamRunStatusAndNextStep(this.currentOrgID, this.runID, this.runStatus);\n            }\n            break;\n          default:\n            break;\n        }\n        this.currentRunStatus = CBAM_CONSTANT.RUN_STATUS.find(status => status.key === this.runStatus);\n      });\n    }\n    goBack() {\n      if (this.stepper.selectedIndex > 0) {\n        this.stepper.previous();\n      }\n    }\n    // saveDraft() {\n    //     switch (this.stepper.selectedIndex) {\n    //         case 0:\n    //             this.runStatus = RunStatusEnum.INSTALLATIN_DETAILS;\n    //             console.log('it works');\n    //             if (this.installationDetails.saveAsDraft(this.runStatus)) {\n    //                 this.stepper.next();\n    //             }\n    //             break;\n    //         case 1:\n    //             this.runStatus = RunStatusEnum.PROCESS_MAP;\n    //             // if (this.processMap.saveAsDraft()) {\n    //             //     this.stepper.next();\n    //             // }\n    //             console.log('second step');\n    //             break;\n    //         case 2:\n    //             this.runStatus = RunStatusEnum.CONFIGURE_DATA_COLLECTION;\n    //             if (this.dataCollection.onSaveDraft(this.runStatus)) {\n    //                 this.stepper.next();\n    //             }\n    //             console.log('third step');\n    //             break;\n    //         case 3:\n    //             this.runStatus = RunStatusEnum.TRACK_PROGRESS;\n    //             if (this.trackProgress.onSaveDraft(this.runStatus)) {\n    //                 this.stepper.next();\n    //             }\n    //             console.log('fourth step');\n    //             break;\n    //         case 4:\n    //             this.runStatus = RunStatusEnum.ALLOCATE_REVIEW;\n    //             // if (this.allocateRunReview.onSaveDraft(this.runStatus)) {\n    //             //     this.stepper.next();\n    //             // }\n    //             console.log('fifth step');\n    //             break;\n    //         default:\n    //             break;\n    //     }\n    // }\n    updateCbamRunStatusAndNextStep(orgID, runID, status) {\n      let data = {};\n      data.status = status;\n      this.cbamRunService.updateCbamRunStatus(orgID, runID, data).then(data => {\n        if (data.status == RESPONSE_STATUS_KEYID_ENUM.SUCCESS) {\n          this.stepper.next();\n        }\n      }).catch(error => {\n        console.log('error in updateCbamRunStatusAndNextStep() -', error);\n      });\n    }\n    runStatusChangeFnc(event) {\n      this.runStatus = event;\n      this.currentRunStatus = CBAM_CONSTANT.RUN_STATUS.find(status => status.key === this.runStatus);\n    }\n    showSaveAndNextBtn(runStatus) {\n      return [RunStatusKeyIDEnum.INSTALLATION_DETAILS, RunStatusKeyIDEnum.PROCESS_MAP, RunStatusKeyIDEnum.CONFIGURE_DATA_COLLECTION, RunStatusKeyIDEnum.TRACK_PROGRESS, RunStatusKeyIDEnum.ALLOCATE_REVIEW].includes(runStatus);\n    }\n    saveAndNextBtnLabel(runStatus) {\n      let btnLabel;\n      if ([RunStatusKeyIDEnum.INSTALLATION_DETAILS, RunStatusKeyIDEnum.PROCESS_MAP, RunStatusKeyIDEnum.CONFIGURE_DATA_COLLECTION, RunStatusKeyIDEnum.TRACK_PROGRESS].includes(runStatus)) {\n        btnLabel = 'Save and Next';\n      } else if ([RunStatusKeyIDEnum.ALLOCATE_REVIEW].includes(runStatus)) {\n        // btnLabel = 'Run CBAM tool';\n        btnLabel = 'Save and Next';\n      }\n      return btnLabel;\n    }\n  }\n  StepperComponent.ɵfac = function StepperComponent_Factory(t) {\n    return new (t || StepperComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.InstallationDetailController), i0.ɵɵdirectiveInject(i3.ProductAndServiceService), i0.ɵɵdirectiveInject(i4.CbamRunService), i0.ɵɵdirectiveInject(i5.StorageService));\n  };\n  StepperComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StepperComponent,\n    selectors: [[\"app-stepper\"]],\n    viewQuery: function StepperComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n        i0.ɵɵviewQuery(_c3, 5);\n        i0.ɵɵviewQuery(_c4, 5);\n        i0.ɵɵviewQuery(_c5, 5);\n        i0.ɵɵviewQuery(_c6, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.installationDetails = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dataCollection = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.trackProgress = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.processMap = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.stepper = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.allocateRunReview = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.result = _t.first);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: STEPPER_GLOBAL_OPTIONS,\n      useValue: {\n        displayDefaultIndicatorType: false\n      }\n    }])],\n    decls: 63,\n    vars: 31,\n    consts: [[1, \"card\", \"cardOverwrite\", \"main-container\"], [1, \"card-body\"], [\"expanded\", \"true\", 1, \"cardOverwrite\", \"mt-2\", \"border\"], [1, \"pageTitle\"], [1, \"row\"], [1, \"col-sm-6\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"row\", \"pt-1\"], [1, \"col-sm-4\"], [1, \"col-sm-8\"], [1, \"rounded-pill\", \"badge\", 3, \"ngClass\"], [1, \"mt-4\", \"cbamRunStepper\", 3, \"linear\", \"selectionChange\"], [\"stepper\", \"\"], [\"matStepLabel\", \"\"], [1, \"mt-4\"], [\"installationDetails\", \"\"], [1, \"border\", \"cardOverwrite\", \"mt-4\"], [1, \"cardTitle\"], [1, \"centerAlign\"], [1, \"customScrollBar\", \"overflowX\"], [\"processMap\", \"\"], [\"dataCollection\", \"\"], [3, \"isDataCollection\", \"stepperIndex\"], [\"trackProgress\", \"\"], [3, \"isDataCollection\", \"stepperIndex\", \"linkedRecordsInp\", \"runStatusInp\", \"runStatusChange\"], [\"allocateRunReview\", \"\"], [1, \"fixed-footer\"], [1, \"float-end\"], [4, \"ngIf\"], [\"labelValue\", \"\"], [\"class\", \"btn btn-sm btn-secondary me-2\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-secondary\", \"me-2\", 3, \"click\"], [1, \"col-sm-8\", \"fw-bold\"], [\"matTooltipPosition\", \"above\", 3, \"ngClass\", \"matTooltip\"]],\n    template: function StepperComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"mat-accordion\");\n        i0.ɵɵelementStart(3, \"mat-expansion-panel\", 2);\n        i0.ɵɵelementStart(4, \"mat-expansion-panel-header\");\n        i0.ɵɵelementStart(5, \"mat-panel-title\", 3);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵtemplate(9, StepperComponent_ng_container_9_Template, 1, 0, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 5);\n        i0.ɵɵtemplate(11, StepperComponent_ng_container_11_Template, 1, 0, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 4);\n        i0.ɵɵelementStart(13, \"div\", 5);\n        i0.ɵɵtemplate(14, StepperComponent_ng_container_14_Template, 1, 0, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 5);\n        i0.ɵɵelementStart(16, \"div\", 7);\n        i0.ɵɵelementStart(17, \"div\", 8);\n        i0.ɵɵtext(18, \"Run Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 9);\n        i0.ɵɵelementStart(20, \"span\", 10);\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 4);\n        i0.ɵɵelementStart(23, \"div\", 5);\n        i0.ɵɵtemplate(24, StepperComponent_ng_container_24_Template, 1, 0, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 5);\n        i0.ɵɵtemplate(26, StepperComponent_ng_container_26_Template, 1, 0, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"mat-horizontal-stepper\", 11, 12);\n        i0.ɵɵlistener(\"selectionChange\", function StepperComponent_Template_mat_horizontal_stepper_selectionChange_27_listener($event) {\n          return ctx.onStepChange($event);\n        });\n        i0.ɵɵelementStart(29, \"mat-step\");\n        i0.ɵɵtemplate(30, StepperComponent_ng_template_30_Template, 1, 0, \"ng-template\", 13);\n        i0.ɵɵelementStart(31, \"div\", 14);\n        i0.ɵɵelement(32, \"app-installation-detail\", null, 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"mat-step\");\n        i0.ɵɵtemplate(35, StepperComponent_ng_template_35_Template, 1, 0, \"ng-template\", 13);\n        i0.ɵɵelementStart(36, \"mat-card\", 16);\n        i0.ɵɵelementStart(37, \"div\", 17);\n        i0.ɵɵtext(38, \" 2. Process map \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"div\", 18);\n        i0.ɵɵelementStart(40, \"div\", 19);\n        i0.ɵɵelement(41, \"production-route\", null, 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"mat-step\");\n        i0.ɵɵtemplate(44, StepperComponent_ng_template_44_Template, 1, 0, \"ng-template\", 13);\n        i0.ɵɵelementStart(45, \"div\", 14);\n        i0.ɵɵelement(46, \"app-process-map\", null, 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"mat-step\");\n        i0.ɵɵtemplate(49, StepperComponent_ng_template_49_Template, 1, 0, \"ng-template\", 13);\n        i0.ɵɵelementStart(50, \"div\", 14);\n        i0.ɵɵelement(51, \"app-track-progress\", 22, 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"mat-step\");\n        i0.ɵɵtemplate(54, StepperComponent_ng_template_54_Template, 1, 0, \"ng-template\", 13);\n        i0.ɵɵelementStart(55, \"div\", 14);\n        i0.ɵɵelementStart(56, \"app-allocate-review-run\", 24, 25);\n        i0.ɵɵlistener(\"runStatusChange\", function StepperComponent_Template_app_allocate_review_run_runStatusChange_56_listener($event) {\n          return ctx.runStatusChangeFnc($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"div\", 26);\n        i0.ɵɵelementStart(59, \"div\", 27);\n        i0.ɵɵtemplate(60, StepperComponent_div_60_Template, 4, 2, \"div\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(61, StepperComponent_ng_template_61_Template, 7, 9, \"ng-template\", null, 29, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r17 = i0.ɵɵreference(62);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", ctx.products.name, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", _r17)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(21, _c7, ctx.products.cn));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", _r17)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(23, _c8, ctx.runID));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", _r17)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(25, _c9, ctx.products.aggregatedCode));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngClass\", ctx.statusColour(ctx.currentRunStatus.key));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.currentRunStatus.value, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", _r17)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(27, _c10, ctx.products.description));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", _r17)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(29, _c11, ctx.startDate + \" - \" + ctx.endDate));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"linear\", false);\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"isDataCollection\", ctx.isDataCollection)(\"stepperIndex\", ctx.currentIndex);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"isDataCollection\", ctx.isDataCollection)(\"stepperIndex\", ctx.currentIndex)(\"linkedRecordsInp\", ctx.linkedRecords)(\"runStatusInp\", ctx.runStatus);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.showSaveAndNextBtn(ctx.runStatus));\n      }\n    },\n    directives: [i6.MatAccordion, i6.MatExpansionPanel, i6.MatExpansionPanelHeader, i6.MatExpansionPanelTitle, i7.NgTemplateOutlet, i7.NgClass, i8.MatStepper, i8.MatStep, i8.MatStepLabel, i9.InstallationDetailComponent, i10.MatCard, i11.ProcessMapComponent, i12.ProcessMapComponent, i13.TrackProgressComponent, i14.AllocateReviewRunComponent, i7.NgIf, i15.MatTooltip],\n    pipes: [i16.EllipsisPipeService],\n    styles: [\".mat-step-header{background-color:#f0f0f0;box-shadow:none!important;border-radius:16px!important;height:45px!important;pointer-events:none!important}  .mat-step-header .mat-step-icon-state-done{background-color:#198754;color:#fff}[_nghost-%COMP%]     .cbamRunStepper .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child):before, [_nghost-%COMP%]     .cbamRunStepper [dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child):before, [_nghost-%COMP%]     .cbamRunStepper .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child):after, [_nghost-%COMP%]     .cbamRunStepper [dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child):after{border-top-width:0px;border-top-style:none}  .cbamRunStepper .mat-horizontal-content-container{padding:0!important}\"]\n  });\n  return StepperComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}