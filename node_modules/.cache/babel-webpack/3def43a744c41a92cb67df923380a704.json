{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { EventEmitter } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { isEqual } from 'lodash';\nimport { CountryISO, PhoneNumberFormat, SearchCountryField } from 'ngx-intl-tel-input';\n//tsc-lib\nimport { FormAction, FormErrorEnum, InvalidForm, MatSelectSearchService, MaterialFormFieldAppearance } from '@library/tsc-common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@library/storage-service\";\nimport * as i4 from \"@library/toastr-service\";\nimport * as i5 from \"@library/tsc-common\";\nimport * as i6 from \"@carbon/service/un-location-code.service\";\nimport * as i7 from \"@carbon/controller/installation-detail.controller\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"ngx-intl-tel-input\";\nimport * as i12 from \"@angular/common\";\nimport * as i13 from \"@angular/cdk/text-field\";\nimport * as i14 from \"@angular/material/select\";\nimport * as i15 from \"@angular/material/core\";\nimport * as i16 from \"ngx-mat-select-search\";\nfunction InstallationDetailComponent_mat_error_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_option_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 31);\n    i0.ɵɵelementStart(1, \"span\", 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const countriesM_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", countriesM_r18.countryCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", countriesM_r18.countryName, \" - \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(countriesM_r18.countryCode);\n  }\n}\nfunction InstallationDetailComponent_mat_error_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_option_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 31);\n    i0.ɵɵelementStart(1, \"span\", 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const UNLcode_r19 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", UNLcode_r19.locationCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", UNLcode_r19.locationCode, \" - \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(UNLcode_r19.name);\n  }\n}\nfunction InstallationDetailComponent_mat_hint_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1, \" Please select country first \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InstallationDetailComponent_mat_error_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_82_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_88_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r12.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_100_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r13.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_104_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 33);\n    i0.ɵɵtext(1, \" Please input a valid mobile number. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InstallationDetailComponent_mat_error_111_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction InstallationDetailComponent_mat_error_112_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Enter a valid email ID. \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0, a1) {\n  return [a0, a1];\n};\n// /tsc-lib/\nexport let InstallationDetailComponent = /*#__PURE__*/(() => {\n  class InstallationDetailComponent {\n    constructor(activatedRoute, formBuilder, storageService, toastrService, countryService, uNLocationCodeService, installationDetailController, router) {\n      this.activatedRoute = activatedRoute;\n      this.formBuilder = formBuilder;\n      this.storageService = storageService;\n      this.toastrService = toastrService;\n      this.countryService = countryService;\n      this.uNLocationCodeService = uNLocationCodeService;\n      this.installationDetailController = installationDetailController;\n      this.router = router;\n      this.FormErrorEnum = FormErrorEnum;\n      this.MaterialFormFieldAppearance = MaterialFormFieldAppearance;\n      this.PhoneNumberFormat = PhoneNumberFormat;\n      this.SearchCountryField = SearchCountryField;\n      this.data = new EventEmitter();\n      this.formStatus = new EventEmitter();\n      this.action = FormAction.CREATE;\n      this.streetCharLength = 400;\n      this.phoneFormControl = new FormControl(null, [Validators.required]);\n      this.separateDialCode = true;\n      this.CountryISO = CountryISO;\n      this.isEqual = true;\n      this.maxLength = 15;\n      this.countryM = [];\n      this.countryFiltered = new MatSelectSearchService(['countryName']);\n      this.unLocationCode = [];\n      this.unLocationCodeFiltered = new MatSelectSearchService(['name']);\n      this.preferredCountries = [CountryISO.India, CountryISO.UnitedStates, CountryISO.UnitedKingdom];\n      this.errorHandling = (control, error) => {\n        return this.installationDetailFG.get(control).hasError(error);\n      };\n      this.charactersRemainingFn = fg => {\n        let description = fg.get('street').value;\n        if (description) return this.streetCharLength - description.length;else return this.maxLength;\n      };\n      this.action = this.activatedRoute.snapshot.data['action'];\n      this.currentOrgID = this.storageService.getStorage('currentOrgID');\n    }\n    ngOnInit() {\n      this.getCountry();\n      this.activatedRoute.queryParams.subscribe(queryParams => {\n        var _a;\n        this.productID = queryParams.productID;\n        this.runID = queryParams.runID;\n        this.productID = queryParams.productID;\n        this.startDate = queryParams.startDate;\n        this.endDate = queryParams.endDate;\n        this.productionRouteID = Number(queryParams.productionRouteID);\n        if ((_a = this.runID) !== null && _a !== void 0 ? _a : false) {\n          this.action = FormAction.UPDATE;\n          this.getInstallationByRunID(this.runID);\n        } else {\n          this.getCurrentCountry();\n        }\n        this.installationDetailFGInit();\n      });\n    }\n    getCoordinates(locationCode) {\n      this.unLocationCode.filter(res => {\n        if (res.locationCode == locationCode) {\n          this.installationDetailFG.get('coordinates.longitude').setValue(res.longitude);\n          this.installationDetailFG.get('coordinates.latitude').setValue(res.latitude);\n        }\n      });\n    }\n    installationDetailFGInit() {\n      this.installationDetailFG = this.formBuilder.group({\n        name: [, Validators.required],\n        street: [, [Validators.required, Validators.maxLength(this.streetCharLength)]],\n        prID: [this.productionRouteID],\n        periodStartDate: [this.startDate],\n        periodEndDate: [this.endDate],\n        economicActivity: [],\n        postCode: [, Validators.required],\n        postBox: [, Validators.required],\n        city: [, Validators.required],\n        countryCode: [, Validators.required],\n        unLocationCode: [, Validators.required],\n        representativeName: [],\n        email: [, [Validators.required, Validators.email]],\n        contactCountryCode: [, Validators.required],\n        contactNumber: [, Validators.required],\n        runStatus: [],\n        coordinates: this.formBuilder.group({\n          longitude: [, Validators.required],\n          latitude: [, Validators.required]\n        })\n      });\n      this.phoneFormControl.valueChanges.subscribe(value => {\n        if (value) {\n          const number = value.number;\n          const countryCode = value.countryCode;\n          this.installationDetailFG.get('contactNumber').setValue(number);\n          this.installationDetailFG.get('contactCountryCode').setValue(countryCode);\n        }\n      });\n    }\n    getInstallationByRunID(runID) {\n      this.installationDetailController.getInstallationByRunID(this.currentOrgID, runID).subscribe(res => {\n        this.installation = res;\n        this.getUnLCode(this.installation.country.code);\n        this.patchInstallationDetails();\n      });\n    }\n    patchInstallationDetails() {\n      this.installationDetailFG.patchValue({\n        name: this.installation.name,\n        street: this.installation.street,\n        prID: this.installation.prID,\n        periodStartDate: this.installation.startDate,\n        periodEndDate: this.installation.endDate,\n        economicActivity: this.installation.economicActivity,\n        postCode: this.installation.postCode,\n        postBox: this.installation.postBox,\n        city: this.installation.city,\n        countryCode: this.installation.country.code,\n        unLocationCode: this.installation.location.code,\n        representativeName: this.installation.representativeName,\n        email: this.installation.emailID,\n        contactCountryCode: this.installation.contactCountryCode,\n        contactNumber: this.installation.contactNumber,\n        runStatus: this.runStatus\n      });\n      this.installationDetailFG.get('coordinates').patchValue({\n        longitude: this.installation.cordinates.longitude,\n        latitude: this.installation.cordinates.latitude\n      });\n      this.installationDetailFG.valueChanges.subscribe(() => {\n        this.isEqual = isEqual(this.initialObject, this.installationDetailFG.value);\n      });\n      const contactCountry = this.installation.contactCountry;\n      this.phoneFormControl.patchValue({\n        countryCode: contactCountry.code,\n        number: this.installation.contactNumber\n      });\n      this.installationID = this.installation.id;\n    }\n    getCountry() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.countryM = yield this.countryService.getCountry();\n        this.countryFiltered.entityArr = this.countryM;\n        this.countryFiltered.createSubscription();\n      });\n    }\n    onCountrySelectionChange(event) {\n      this.installationDetailFG.get('unLocationCode').reset();\n      const selectedCountryCode = event.value;\n      const selectedCountry = this.countryM.find(country => country.countryCode === selectedCountryCode);\n      this.getUnLCode(selectedCountry.countryCode);\n      this.installationDetailFG.get('coordinates.longitude').reset();\n      this.installationDetailFG.get('coordinates.latitude').reset();\n    }\n    haveCountry() {\n      return this.installationDetailFG.get('countryCode').value ? true : false;\n    }\n    getUnLCode(countryCode) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.unLocationCode = yield this.uNLocationCodeService.getUNLCode(countryCode);\n        this.unLocationCodeFiltered.filterUnsubscribe.next();\n        this.unLocationCodeFiltered.entityArr = this.unLocationCode;\n        this.unLocationCodeFiltered.createSubscription();\n      });\n    }\n    // isValid = () => { return !this.installationDetailFG.invalid; }\n    onSubmit(runStatus) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.installationDetailFG.get('runStatus').setValue(runStatus);\n        if (this.installationDetailFG.invalid) {\n          this.phoneFormControl.markAsTouched();\n          this.installationDetailFG.markAllAsTouched();\n          console.error(\"invalid form - \", this.installationDetailFG);\n          this.toastrService.error(InvalidForm.INVALID_FORM_MESSAGE);\n          return false;\n        }\n        if (this.action == FormAction.CREATE) {\n          let promise = this.installationDetailController.createInstallation(this.currentOrgID, this.productID, this.installationDetailFG.value).toPromise();\n          try {\n            let s_response = yield promise;\n            const finalResult = s_response['response'];\n            let runID = finalResult.productRunConfig.id;\n            this.installationID = finalResult.id;\n            this.addQueryParam(runID);\n            return true;\n          } catch (error) {\n            console.error('error in create installation details - ', error);\n            return false;\n          }\n        } else if (this.action == FormAction.UPDATE) {\n          let promise = this.installationDetailController.updateInstallation(this.currentOrgID, this.productID, this.installationID, this.installationDetailFG.value).toPromise();\n          try {\n            let s_response = yield promise;\n            const finalResult = s_response['response'];\n            this.installationID = finalResult.id;\n            return true;\n          } catch (error) {\n            console.error('error in update installation details - ', error);\n            return false;\n          }\n        }\n      });\n    }\n    addQueryParam(runID) {\n      const queryParams = Object.assign({}, this.activatedRoute.snapshot.queryParams);\n      queryParams['runID'] = runID;\n      this.router.navigate([], {\n        relativeTo: this.activatedRoute,\n        queryParams,\n        queryParamsHandling: 'merge'\n      });\n    }\n    saveAsDraft(runStatus) {\n      // Here i remove a validation \n      //     Object.keys(this.installationDetailFG.controls).forEach(key => {\n      //         this.installationDetailFG.get(key).clearValidators();\n      //         console.log(key);\n      //         if(key == 'coordinates') {\n      //             console.log(key)\n      //             const coordinatesGroup = this.installationDetailFG.get('coordinates') as FormGroup;\n      //             coordinatesGroup.get('longitude').clearValidators();\n      //             coordinatesGroup.get('latitude').clearValidators();\n      //             coordinatesGroup.get('longitude').updateValueAndValidity();\n      //             coordinatesGroup.get('latitude').updateValueAndValidity();\n      //         }\n      //         this.installationDetailFG.get(key).updateValueAndValidity();\n      //       });\n      // console.log(this.installationDetailFG)          \n      //     console.log(runStatus)\n      return true;\n    }\n    // it give error\n    getCurrentCountry() {\n      return __awaiter(this, void 0, void 0, function* () {\n        // this.currentCountryCode = <any>await this.countryService.getCurrentCountry();\n      });\n    }\n  }\n  InstallationDetailComponent.ɵfac = function InstallationDetailComponent_Factory(t) {\n    return new (t || InstallationDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.StorageService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.CountryService), i0.ɵɵdirectiveInject(i6.UNLocationCodeService), i0.ɵɵdirectiveInject(i7.InstallationDetailController), i0.ɵɵdirectiveInject(i1.Router));\n  };\n  InstallationDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InstallationDetailComponent,\n    selectors: [[\"app-installation-detail\"]],\n    inputs: {\n      runStatus: \"runStatus\"\n    },\n    outputs: {\n      data: \"data\",\n      formStatus: \"formStatus\"\n    },\n    decls: 113,\n    vars: 54,\n    consts: [[1, \"border\", \"cardOverwrite\"], [1, \"cardTitle\", \"pb-3\"], [3, \"formGroup\"], [1, \"row\"], [1, \"col-sm-10\"], [1, \"col-sm-6\"], [1, \"matFieldWidth100\", 3, \"appearance\"], [1, \"formLabel\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"name\", \"required\", \"\"], [4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"economicActivity\"], [\"matInput\", \"\", \"min\", \"0\", \"formControlName\", \"street\", \"cdkTextareaAutosize\", \"\", \"cdkAutosizeMinRows\", \"1\", \"cdkAutosizeMaxRows\", \"5\", \"required\", \"\", 3, \"maxlength\"], [\"autosize\", \"cdkTextareaAutosize\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"city\", \"required\", \"\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"postBox\", \"required\", \"\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"postCode\", \"required\", \"\"], [\"formControlName\", \"countryCode\", \"required\", \"\", 3, \"selectionChange\"], [\"placeholderLabel\", \"Search by country name\", \"noEntriesFoundLabel\", \"No matching country found.\", 3, \"formControl\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"unLocationCode\", \"required\", \"\", 3, \"selectionChange\"], [\"placeholderLabel\", \"Search by UN location name\", \"noEntriesFoundLabel\", \"No matching UN location found.\", 3, \"formControl\"], [\"formGroupName\", \"coordinates\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Longitude\", \"formControlName\", \"longitude\", \"required\", \"\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Latitude\", \"formControlName\", \"latitude\", \"required\", \"\"], [1, \"row\", \"mt-3\"], [1, \"col-sm-6\", \"mt-1\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"representativeName\", \"required\", \"\"], [1, \"col-sm-6\", \"pt-2\"], [\"customPlaceholder\", \"Phone number\", 1, \"dropdown-top\", \"input-sm\", 3, \"preferredCountries\", \"enableAutoCountrySelect\", \"enablePlaceholder\", \"searchCountryFlag\", \"searchCountryField\", \"selectFirstCountry\", \"maxLength\", \"phoneValidation\", \"separateDialCode\", \"numberFormat\", \"formControl\", \"selectedCountryISO\"], [\"class\", \"telError\", 4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"example.abc@domain.com\", \"formControlName\", \"email\", \"required\", \"\"], [3, \"value\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"telError\"]],\n    template: function InstallationDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2, \" 1. Installation Details \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(9, \"mat-label\", 7);\n        i0.ɵɵtext(10, \"Name of installation (English name)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 8);\n        i0.ɵɵtemplate(12, InstallationDetailComponent_mat_error_12_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 5);\n        i0.ɵɵelementStart(14, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(15, \"mat-label\", 7);\n        i0.ɵɵtext(16, \"Economic activity\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 3);\n        i0.ɵɵelementStart(19, \"div\", 4);\n        i0.ɵɵelementStart(20, \"mat-card\", 0);\n        i0.ɵɵelementStart(21, \"div\", 1);\n        i0.ɵɵtext(22, \"Address details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 3);\n        i0.ɵɵelementStart(24, \"div\", 5);\n        i0.ɵɵelementStart(25, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(26, \"mat-label\", 7);\n        i0.ɵɵtext(27, \"Street / Street no\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"textarea\", 11, 12);\n        i0.ɵɵtext(30, \"                            \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"mat-hint\");\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(33, InstallationDetailComponent_mat_error_33_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 5);\n        i0.ɵɵelementStart(35, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(36, \"mat-label\", 7);\n        i0.ɵɵtext(37, \"City\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"input\", 13);\n        i0.ɵɵtemplate(39, InstallationDetailComponent_mat_error_39_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 3);\n        i0.ɵɵelementStart(41, \"div\", 5);\n        i0.ɵɵelementStart(42, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(43, \"mat-label\", 7);\n        i0.ɵɵtext(44, \"Post office box\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(45, \"input\", 14);\n        i0.ɵɵtemplate(46, InstallationDetailComponent_mat_error_46_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"div\", 5);\n        i0.ɵɵelementStart(48, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(49, \"mat-label\", 7);\n        i0.ɵɵtext(50, \"Post code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(51, \"input\", 15);\n        i0.ɵɵtemplate(52, InstallationDetailComponent_mat_error_52_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"div\", 3);\n        i0.ɵɵelementStart(54, \"div\", 5);\n        i0.ɵɵelementStart(55, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(56, \"mat-label\", 7);\n        i0.ɵɵtext(57, \"Country\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"mat-select\", 16);\n        i0.ɵɵlistener(\"selectionChange\", function InstallationDetailComponent_Template_mat_select_selectionChange_58_listener($event) {\n          return ctx.onCountrySelectionChange($event);\n        });\n        i0.ɵɵelementStart(59, \"mat-option\");\n        i0.ɵɵelement(60, \"ngx-mat-select-search\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(61, InstallationDetailComponent_mat_option_61_Template, 5, 3, \"mat-option\", 18);\n        i0.ɵɵpipe(62, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(63, InstallationDetailComponent_mat_error_63_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(64, \"div\", 5);\n        i0.ɵɵelementStart(65, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(66, \"mat-label\", 7);\n        i0.ɵɵtext(67, \"UN location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"mat-select\", 19);\n        i0.ɵɵlistener(\"selectionChange\", function InstallationDetailComponent_Template_mat_select_selectionChange_68_listener($event) {\n          return ctx.getCoordinates($event.value);\n        });\n        i0.ɵɵelementStart(69, \"mat-option\");\n        i0.ɵɵelement(70, \"ngx-mat-select-search\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(71, InstallationDetailComponent_mat_option_71_Template, 5, 3, \"mat-option\", 18);\n        i0.ɵɵpipe(72, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(73, InstallationDetailComponent_mat_hint_73_Template, 2, 0, \"mat-hint\", 9);\n        i0.ɵɵtemplate(74, InstallationDetailComponent_mat_error_74_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(75, \"form\", 21);\n        i0.ɵɵelementStart(76, \"div\", 3);\n        i0.ɵɵelementStart(77, \"div\", 5);\n        i0.ɵɵelementStart(78, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(79, \"mat-label\", 7);\n        i0.ɵɵtext(80, \"Longitude\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(81, \"input\", 22);\n        i0.ɵɵtemplate(82, InstallationDetailComponent_mat_error_82_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"div\", 5);\n        i0.ɵɵelementStart(84, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(85, \"mat-label\", 7);\n        i0.ɵɵtext(86, \"Latitude\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(87, \"input\", 23);\n        i0.ɵɵtemplate(88, InstallationDetailComponent_mat_error_88_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"div\", 24);\n        i0.ɵɵelementStart(90, \"div\", 4);\n        i0.ɵɵelementStart(91, \"mat-card\", 0);\n        i0.ɵɵelementStart(92, \"div\", 1);\n        i0.ɵɵtext(93, \"Authorized Representative Details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(94, \"div\", 3);\n        i0.ɵɵelementStart(95, \"div\", 25);\n        i0.ɵɵelementStart(96, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(97, \"mat-label\", 7);\n        i0.ɵɵtext(98, \"Name of authorized representative\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(99, \"input\", 26);\n        i0.ɵɵtemplate(100, InstallationDetailComponent_mat_error_100_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(101, \"div\", 27);\n        i0.ɵɵelement(102, \"ngx-intl-tel-input\", 28);\n        i0.ɵɵtemplate(103, InstallationDetailComponent_mat_error_103_Template, 2, 1, \"mat-error\", 29);\n        i0.ɵɵtemplate(104, InstallationDetailComponent_mat_error_104_Template, 2, 0, \"mat-error\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(105, \"div\", 3);\n        i0.ɵɵelementStart(106, \"div\", 5);\n        i0.ɵɵelementStart(107, \"mat-form-field\", 6);\n        i0.ɵɵelementStart(108, \"mat-label\", 7);\n        i0.ɵɵtext(109, \" Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(110, \"input\", 30);\n        i0.ɵɵtemplate(111, InstallationDetailComponent_mat_error_111_Template, 2, 1, \"mat-error\", 9);\n        i0.ɵɵtemplate(112, InstallationDetailComponent_mat_error_112_Template, 2, 0, \"mat-error\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.installationDetailFG);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"name\", \"required\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"maxlength\", ctx.streetCharLength);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate2(\"Total number of character remaining: \", ctx.charactersRemainingFn(ctx.installationDetailFG), \"/ \", ctx.streetCharLength, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"street\", \"required\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"city\", \"required\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"postBox\", \"required\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"postCode\", \"required\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formControl\", ctx.countryFiltered.filterFC);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(62, 47, ctx.countryFiltered.filteredEntities));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"countryCode\", \"required\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formControl\", ctx.unLocationCodeFiltered.filterFC);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(72, 49, ctx.unLocationCodeFiltered.filteredEntities));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.haveCountry());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"unLocationCode\", \"required\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"coordinates.longitude\", \"required\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"coordinates.latitude\", \"required\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"representativeName\", \"required\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"preferredCountries\", ctx.preferredCountries)(\"enableAutoCountrySelect\", true)(\"enablePlaceholder\", true)(\"searchCountryFlag\", true)(\"searchCountryField\", i0.ɵɵpureFunction2(51, _c0, ctx.SearchCountryField.Iso2, ctx.SearchCountryField.Name))(\"selectFirstCountry\", false)(\"maxLength\", ctx.maxLength)(\"phoneValidation\", true)(\"separateDialCode\", ctx.separateDialCode)(\"numberFormat\", ctx.PhoneNumberFormat.National)(\"formControl\", ctx.phoneFormControl)(\"selectedCountryISO\", ctx.currentCountryCode);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.phoneFormControl.touched && ctx.phoneFormControl.hasError(\"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.phoneFormControl.invalid && !ctx.phoneFormControl.hasError(\"required\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"appearance\", ctx.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"email\", \"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorHandling(\"email\", \"pattern\"));\n      }\n    },\n    directives: [i8.MatCard, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i9.MatFormField, i9.MatLabel, i10.MatInput, i2.DefaultValueAccessor, i11.NativeElementInjectorDirective, i2.NgControlStatus, i2.FormControlName, i2.RequiredValidator, i12.NgIf, i13.CdkTextareaAutosize, i2.MaxLengthValidator, i9.MatHint, i14.MatSelect, i15.MatOption, i16.MatSelectSearchComponent, i2.FormControlDirective, i12.NgForOf, i2.NgForm, i2.FormGroupName, i11.NgxIntlTelInputComponent, i9.MatError],\n    pipes: [i12.AsyncPipe],\n    styles: [\".dropdown-top[_ngcontent-%COMP%]   .iti__country-list[_ngcontent-%COMP%]{bottom:10%}.input-sm[_ngcontent-%COMP%]{height:10px}.telError[_ngcontent-%COMP%]{font-size:10.5px!important}\"]\n  });\n  return InstallationDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}