{"ast":null,"code":"import { combineLatest, fromEvent, merge, of as observableOf } from \"rxjs\";\nimport { catchError, map, startWith, switchMap } from \"rxjs/operators\";\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { ActivityKeyIDEnum } from '@carbon/enum/activity.enum';\nimport { COMMON_CONSTANT, TABLE_CONSTANT } from '@library/tsc-common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@library/storage-service\";\nimport * as i3 from \"@carbon/component/factor-database/active-page-pill/active-page-pill.service\";\nimport * as i4 from \"@carbon/controller/standard-emission-factor.controller\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/table\";\nimport * as i7 from \"@angular/material/sort\";\nimport * as i8 from \"@angular/material/paginator\";\nimport * as i9 from \"@library/tsc-common\";\nimport * as i10 from \"@angular/material/tooltip\";\nconst _c0 = [\"refreshBtn\"];\nconst _c1 = [\"searchBar\"];\nfunction FactorListComponent_lib_search_bar_one_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"lib-search-bar-one\", 17, 18);\n    i0.ɵɵlistener(\"emitSearch\", function FactorListComponent_lib_search_bar_one_8_Template_lib_search_bar_one_emitSearch_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.searchFn($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"searchBy\", ctx_r0.activity[ctx_r0.activityKeyID][\"searchBy\"]);\n  }\n}\nfunction FactorListComponent_ng_container_14_th_2_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activities_r10 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", activities_r10 == null ? null : activities_r10.unit, \")\");\n  }\n}\nfunction FactorListComponent_ng_container_14_th_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵtemplate(5, FactorListComponent_ng_container_14_th_2_div_5_Template, 2, 1, \"div\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activities_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"disabled\", activities_r10[\"sort-disabled\"]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", activities_r10[\"heading\"], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", activities_r10 == null ? null : activities_r10.unit);\n  }\n}\nfunction FactorListComponent_ng_container_14_td_3_span_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const row_r16 = i0.ɵɵnextContext(2).$implicit;\n    const activities_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r20 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r16[activities_r10[\"column\"]] == null ? ctx_r20.COMMON_CONSTANT.HYPHEN : row_r16[activities_r10[\"column\"]], \" \");\n  }\n}\nfunction FactorListComponent_ng_container_14_td_3_span_2_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"number\");\n  }\n  if (rf & 2) {\n    const row_r16 = i0.ɵɵnextContext(2).$implicit;\n    const activities_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r22 = i0.ɵɵnextContext();\n    i0.ɵɵtextInterpolate1(\" \", row_r16[activities_r10[\"column\"]] == null ? ctx_r22.COMMON_CONSTANT.HYPHEN : i0.ɵɵpipeBind2(1, 1, row_r16[activities_r10[\"column\"]], \"1.2-2\"), \" \");\n  }\n}\nfunction FactorListComponent_ng_container_14_td_3_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtemplate(1, FactorListComponent_ng_container_14_td_3_span_2_ng_container_1_Template, 2, 1, \"ng-container\", 26);\n    i0.ɵɵtemplate(2, FactorListComponent_ng_container_14_td_3_span_2_ng_template_2_Template, 2, 4, \"ng-template\", null, 28, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r21 = i0.ɵɵreference(3);\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r17.activityKeyID == ctx_r17.US_EEIO_KEY_ID)(\"ngIfElse\", _r21);\n  }\n}\nfunction FactorListComponent_ng_container_14_td_3_ng_template_3_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 31, 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r16 = i0.ɵɵnextContext(2).$implicit;\n    const activities_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r27 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltip\", ((row_r16 == null ? null : row_r16.activities == null ? null : row_r16.activities.column) + \" \" + row_r16[(activities_r10 == null ? null : activities_r10[\"column\"]) + \"Unit\"] == null ? null : ((row_r16 == null ? null : row_r16.activities == null ? null : row_r16.activities.column) + \" \" + row_r16[(activities_r10 == null ? null : activities_r10[\"column\"]) + \"Unit\"]).length) > 12 ? row_r16[activities_r10[\"column\"]] + \" \" + row_r16[(activities_r10 == null ? null : activities_r10[\"column\"]) + \"Unit\"] : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r16[activities_r10[\"column\"]] == null ? ctx_r27.COMMON_CONSTANT.HYPHEN : i0.ɵɵpipeBind2(3, 2, row_r16[activities_r10[\"column\"]] + \" \" + row_r16[(activities_r10 == null ? null : activities_r10[\"column\"]) + \"Unit\"], 12), \" \");\n  }\n}\nfunction FactorListComponent_ng_container_14_td_3_ng_template_3_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33, 32);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r16 = i0.ɵɵnextContext(2).$implicit;\n    const activities_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r29 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matTooltip\", (row_r16[activities_r10[\"column\"]] == null ? null : row_r16[activities_r10[\"column\"]].length) > 10 ? row_r16[activities_r10[\"column\"]] : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", row_r16[activities_r10[\"column\"]] == null ? ctx_r29.COMMON_CONSTANT.HYPHEN : i0.ɵɵpipeBind2(3, 2, row_r16[activities_r10[\"column\"]] + \"\", 10), \" \");\n  }\n}\nfunction FactorListComponent_ng_container_14_td_3_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, FactorListComponent_ng_container_14_td_3_ng_template_3_span_0_Template, 4, 5, \"span\", 29);\n    i0.ɵɵtemplate(1, FactorListComponent_ng_container_14_td_3_ng_template_3_ng_template_1_Template, 4, 5, \"ng-template\", null, 30, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r28 = i0.ɵɵreference(2);\n    const row_r16 = i0.ɵɵnextContext().$implicit;\n    const activities_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngIf\", row_r16[(activities_r10 == null ? null : activities_r10[\"column\"]) + \"Unit\"])(\"ngIfElse\", _r28);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"text-center\": a0\n  };\n};\nfunction FactorListComponent_ng_container_14_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 25);\n    i0.ɵɵelementContainerStart(1);\n    i0.ɵɵtemplate(2, FactorListComponent_ng_container_14_td_3_span_2_Template, 4, 2, \"span\", 26);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(3, FactorListComponent_ng_container_14_td_3_ng_template_3_Template, 3, 2, \"ng-template\", null, 27, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r16 = ctx.$implicit;\n    const _r18 = i0.ɵɵreference(4);\n    const activities_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(3, _c2, row_r16[activities_r10[\"column\"]] == null));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", activities_r10 == null ? null : activities_r10.unit)(\"ngIfElse\", _r18);\n  }\n}\nfunction FactorListComponent_ng_container_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementContainerStart(1, 19);\n    i0.ɵɵtemplate(2, FactorListComponent_ng_container_14_th_2_Template, 6, 3, \"th\", 20);\n    i0.ɵɵtemplate(3, FactorListComponent_ng_container_14_td_3_Template, 5, 5, \"td\", 21);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const activities_r10 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matColumnDef\", activities_r10[\"column\"]);\n  }\n}\nfunction FactorListComponent_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 34);\n  }\n}\nfunction FactorListComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 35);\n  }\n}\nfunction FactorListComponent_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 36);\n    i0.ɵɵelementStart(1, \"td\", 37);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r6.displayedColumns.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.TABLE_CONSTANT.TABLE_NO_DATA, \" \");\n  }\n}\nexport let FactorListComponent = /*#__PURE__*/(() => {\n  class FactorListComponent {\n    constructor(router, activatedRoute, storageService, activePagePillService, standardEmissionFactorController) {\n      this.router = router;\n      this.activatedRoute = activatedRoute;\n      this.activePagePillService = activePagePillService;\n      this.standardEmissionFactorController = standardEmissionFactorController;\n      this.TABLE_CONSTANT = TABLE_CONSTANT;\n      this.COMMON_CONSTANT = COMMON_CONSTANT;\n      this.ActivityKeyIDEnum = ActivityKeyIDEnum;\n      this.US_EEIO_KEY_ID = \"us-eeio\";\n      this.dataSource = [];\n      this.resultLength = 0;\n      this.activity = {\n        \"purchased-electricity\": {\n          \"searchBy\": \"grid name\",\n          \"sortBy\": \"gridName\",\n          \"data\": [{\n            \"heading\": 'Country Name',\n            \"column\": 'countryName',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Grid Name',\n            \"column\": 'gridName',\n            \"sort-disabled\": false\n          },\n          // {\n          //     \"heading\": 'Calculation Approach Type',\n          //     \"column\": 'calulationApproachType',\n          //     \"sort-disabled\": true\n          // },\n          {\n            \"heading\": 'Fossil CO2',\n            \"column\": 'fossilCo2',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'CH4',\n            \"column\": 'ch4',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'N2O',\n            \"column\": 'n2o',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'CO2e',\n            \"column\": 'co2e',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Unit',\n            \"column\": 'unit',\n            \"sort-disabled\": true\n          }]\n        },\n        \"purchased-cooling\": {\n          \"searchBy\": \"\",\n          \"data\": [{\n            \"heading\": 'CH4',\n            \"column\": 'ch4',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Fossil CO2',\n            \"column\": 'fossilCo2',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'N2O',\n            \"column\": 'n2o',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Unit',\n            \"column\": 'unit',\n            \"sort-disabled\": true\n          }]\n        },\n        \"purchased-heat-steam\": {\n          \"searchBy\": \"grid name\",\n          \"sortBy\": \"gridName\",\n          \"data\": [{\n            \"heading\": 'Country Name',\n            \"column\": 'countryName',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Fossil CO2',\n            \"column\": 'fossilCo2',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'CH4',\n            \"column\": 'ch4',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'N2O',\n            \"column\": 'n2o',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Unit',\n            \"column\": 'unit',\n            \"sort-disabled\": true\n          }]\n        },\n        \"stationary-combustion\": {\n          \"searchBy\": \"fuel type\",\n          \"sortBy\": \"fuelType\",\n          \"data\": [{\n            \"heading\": 'Fuel Type',\n            \"column\": 'fuelType',\n            \"unit\": '',\n            \"sort-disabled\": false\n          }, {\n            \"heading\": 'Heat Content (HHV)',\n            \"column\": 'hhv',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'CO2 factor',\n            \"column\": 'fossilCo2',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'CH4 factor',\n            \"column\": 'ch4',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'N2O factor',\n            \"column\": 'n2o',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }]\n        },\n        \"mobile-combustion\": {\n          \"searchBy\": \"vehicle category\",\n          \"sortBy\": \"vehicle\",\n          \"data\": [{\n            \"heading\": 'Fuel',\n            \"column\": 'fuel',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Vehicle category',\n            \"column\": 'vehicle',\n            \"unit\": '',\n            \"sort-disabled\": false\n          }, {\n            \"heading\": 'Year',\n            \"column\": 'yearRange',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'CO2 factor',\n            \"column\": 'fossilCo2',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'CH4 factor',\n            \"column\": 'ch4',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'N2O factor',\n            \"column\": 'n2o',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }]\n        },\n        \"us-eeio\": {\n          \"searchBy\": \"category\",\n          \"sortBy\": \"categoryName\",\n          \"data\": [{\n            \"heading\": 'Category',\n            \"column\": 'categoryName',\n            \"sort-disabled\": false\n          }, {\n            \"heading\": 'Carbon Dioxide',\n            \"column\": 'carbonDioxide',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Carbon Tetra Fluoride',\n            \"column\": 'carbonTetrafluoride',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Hexa Fluoroethane',\n            \"column\": 'hexaFluoroethane',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Unspecified HFCs and PFCs',\n            \"column\": 'hfcAndpfcUnspecified',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'HFC 125',\n            \"column\": 'hfc125',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'HFC 134a',\n            \"column\": 'hfc134a',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'HFC 143a',\n            \"column\": 'hfc143a',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'HFC 23',\n            \"column\": 'hfc23',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'HFC 236fa',\n            \"column\": 'hfc236fa',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'HFC 32',\n            \"column\": 'hfc32',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Methane',\n            \"column\": 'methane',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Nitrogen Tri Fluoride',\n            \"column\": 'nitrogenTrifluoride',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Nitrogen Oxide',\n            \"column\": 'nitrogenOxide',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Perflurocyclobutane',\n            \"column\": 'perFluorocyclobutane',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Perfluropropane',\n            \"column\": 'perFluoropropane',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }, {\n            \"heading\": 'Sulfer Hexafluoride',\n            \"column\": 'sulferHexafluoride',\n            \"unit\": '',\n            \"sort-disabled\": true\n          }]\n        }\n      };\n      this.searchFlag = false;\n      this.searchValue = 'all';\n      this.have_saved_filters = false;\n      this.currentOrgID = storageService.getStorage(['currentOrgID']);\n    }\n    get displayedColumns() {\n      return this.activity[this.activityKeyID]['data'].map(activity => activity['column']);\n    }\n    ngOnInit() {\n      combineLatest([this.activatedRoute.params, this.activatedRoute.queryParams]).subscribe(([params, queryParams]) => {\n        var _a;\n        const url = this.router.url;\n        if (params['database']) {\n          this.databaseID = params['databaseID'];\n          const parts = url.split('/');\n          parts.splice(-4);\n          const finalUrl = parts.join('/');\n          let folder = {\n            name: decodeURIComponent(params['database']),\n            route: `${decodeURI(finalUrl)}`\n          };\n          this.activePagePillService.setData(folder);\n        }\n        if (params['version']) {\n          this.VersionID = params['versionID'];\n          const parts = url.split('/');\n          parts.splice(-2);\n          const finalUrl = parts.join('/');\n          let folder = {\n            name: decodeURIComponent(params['version']),\n            route: `${decodeURI(finalUrl)}`\n          };\n          setTimeout(() => this.activePagePillService.setData(folder));\n        }\n        if (params['activity']) {\n          this.activityKeyID = params['activity'];\n          let folder = {\n            name: queryParams['activity'],\n            route: `${decodeURI((_a = this.router.url.split('?')) === null || _a === void 0 ? void 0 : _a[0])}`,\n            queryParams: queryParams\n          };\n          setTimeout(() => {\n            this.activePagePillService.setData(folder);\n          }, 100);\n        }\n      });\n      // let retained_pagination = this.localStorageUtility.getPagination('sef_factor_pagination');\n      // if (retained_pagination) {\n      //     this.have_saved_filters = true;\n      //     this.retained_pagination = JSON.parse(retained_pagination);\n      // }\n    }\n\n    ngAfterViewInit() {\n      if (this.have_saved_filters) {\n        this.sort.direction = this.retained_pagination.find(filter => filter['filter'] === 'sortDirection')['value'];\n        this.paginator.pageSize = this.retained_pagination.find(filter => filter['filter'] === 'pageSize')['value'];\n        this.paginator.pageIndex = this.retained_pagination.find(filter => filter['filter'] === 'pageIndex')['value'];\n        this.have_saved_filters = false;\n      }\n      merge(this.paginator.page, this.sort.sortChange, fromEvent(this.refreshBtn.nativeElement, 'click')).pipe(startWith({}), switchMap(() => {\n        this.filter = this.searchValue;\n        this.saveFilters();\n        return this.standardEmissionFactorController.getFactor(this.currentOrgID, this.databaseID, this.VersionID, this.activityKeyID, this.paginator.pageIndex, this.paginator.pageSize, this.sort.active, this.sort.direction, this.filter).pipe(catchError(() => observableOf(null)));\n      }), map(dataSource => {\n        if (dataSource === null || dataSource['factors'].length == 0) {\n          this.resultLength = 0;\n          return [];\n        }\n        this.resultLength = dataSource[\"totalCount\"];\n        if (this.activityKeyID == ActivityKeyIDEnum.STATIONARY_COMBUSTION || this.activityKeyID == this.US_EEIO_KEY_ID) {\n          this.mapUnits(dataSource['factors'][0]);\n        }\n        return dataSource[\"factors\"];\n      })).subscribe(dataSource => {\n        this.dataSource = dataSource;\n      });\n    }\n    mapUnits(source) {\n      if (this.activityKeyID == ActivityKeyIDEnum.STATIONARY_COMBUSTION) {\n        this.activity[this.activityKeyID]['data'].forEach(entry => {\n          if (entry.unit == '') entry['unit'] = source[entry['column'] + \"Unit\"];\n        });\n      } else if (this.activityKeyID == this.US_EEIO_KEY_ID) {\n        this.activity[this.US_EEIO_KEY_ID]['data'].forEach(entry => {\n          if (entry.unit == '') entry['unit'] = source['unit'];\n        });\n      }\n    }\n    searchFn(search) {\n      this.searchFlag = true;\n      this.searchValue = search;\n      if (search.length == 0) {\n        this.searchValue = 'all';\n        this.searchFlag = false;\n        this.searchBar.searchClear();\n      }\n      this.refreshBtn.nativeElement.click();\n    }\n    saveFilters() {\n      // this.localStorageUtility.setPagination('sef_factor_pagination', this.paginator.pageSize, this.paginator.pageIndex, this.sort.direction);\n    }\n  }\n  FactorListComponent.ɵfac = function FactorListComponent_Factory(t) {\n    return new (t || FactorListComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.StorageService), i0.ɵɵdirectiveInject(i3.ActivePagePillService), i0.ɵɵdirectiveInject(i4.StandardEmissionFactorController));\n  };\n  FactorListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FactorListComponent,\n    selectors: [[\"sef-factor-list\"]],\n    viewQuery: function FactorListComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatSort, 5);\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.refreshBtn = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.searchBar = _t.first);\n      }\n    },\n    decls: 19,\n    vars: 9,\n    consts: [[1, \"headerContainer\", \"pt-0\"], [1, \"headerLeftContainer\"], [1, \"pageTitle\"], [1, \"pageSubtitle\"], [1, \"headerRightContainer\"], [1, \"headerRightContainerInner\"], [\"class\", \"float-end\", 3, \"searchBy\", \"emitSearch\", 4, \"ngIf\"], [1, \"d-none\"], [\"refreshBtn\", \"\"], [1, \"overflowX\", \"customScrollBar\"], [\"mat-table\", \"\", \"matSort\", \"\", \"matSortDirection\", \"desc\", \"matSortDisableClear\", \"\", 1, \"w-100\", 3, \"dataSource\", \"matSortActive\"], [\"sort\", \"\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [\"showFirstLastButtons\", \"\", 1, \"roundedBorder\", 3, \"length\", \"pageSize\", \"pageSizeOptions\"], [1, \"float-end\", 3, \"searchBy\", \"emitSearch\"], [\"searchBar\", \"\"], [3, \"matColumnDef\"], [\"class\", \"px-3 standard-factor\", \"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 3, \"disabled\", 4, \"matHeaderCellDef\"], [\"class\", \"px-3 standard-factor\", \"mat-cell\", \"\", 3, \"ngClass\", 4, \"matCellDef\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 1, \"px-3\", \"standard-factor\", 3, \"disabled\"], [\"class\", \"float-start\", 4, \"ngIf\"], [1, \"float-start\"], [\"mat-cell\", \"\", 1, \"px-3\", \"standard-factor\", 3, \"ngClass\"], [4, \"ngIf\", \"ngIfElse\"], [\"unitColumn\", \"\"], [\"fraction\", \"\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 3, \"matTooltip\", 4, \"ngIf\", \"ngIfElse\"], [\"stringBlock\", \"\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 3, \"matTooltip\"], [\"tooltip\", \"matTooltip\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 2, \"width\", \"180px\", 3, \"matTooltip\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"mat-row\"], [1, \"mat-cell\", \"text-center\"]],\n    template: function FactorListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtext(3, \" Emission factors \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtext(5, \"View the standard emission factors that are used in calculation as per your calculation preferences.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtemplate(8, FactorListComponent_lib_search_bar_one_8_Template, 2, 1, \"lib-search-bar-one\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"button\", 7, 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 9);\n        i0.ɵɵelementStart(12, \"table\", 10, 11);\n        i0.ɵɵtemplate(14, FactorListComponent_ng_container_14_Template, 4, 1, \"ng-container\", 12);\n        i0.ɵɵtemplate(15, FactorListComponent_tr_15_Template, 1, 0, \"tr\", 13);\n        i0.ɵɵtemplate(16, FactorListComponent_tr_16_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵtemplate(17, FactorListComponent_tr_17_Template, 3, 2, \"tr\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"mat-paginator\", 16);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.activityKeyID != ctx.ActivityKeyIDEnum.PURCHASED_HEAT_STEAM);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource)(\"matSortActive\", ctx.activity[ctx.activityKeyID][\"sortBy\"]);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.activity[ctx.activityKeyID][\"data\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"length\", ctx.resultLength)(\"pageSize\", ctx.TABLE_CONSTANT.DEFAULT_PAGE_SIZE)(\"pageSizeOptions\", ctx.TABLE_CONSTANT.PAGE_SIZE_OPTION);\n      }\n    },\n    directives: [i5.NgIf, i6.MatTable, i7.MatSort, i5.NgForOf, i6.MatHeaderRowDef, i6.MatRowDef, i6.MatNoDataRow, i8.MatPaginator, i9.SearchBarOneComponent, i6.MatColumnDef, i6.MatHeaderCellDef, i6.MatCellDef, i6.MatHeaderCell, i7.MatSortHeader, i6.MatCell, i5.NgClass, i10.MatTooltip, i6.MatHeaderRow, i6.MatRow],\n    pipes: [i5.DecimalPipe, i9.EllipsisPipeService],\n    encapsulation: 2\n  });\n  return FactorListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}