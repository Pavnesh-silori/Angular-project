{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as moment from 'moment';\nimport { isEqual } from \"lodash\";\nimport { ActivityKeyIDEnum } from '@carbon/enum/activity.enum';\nimport { ProductAndService } from '@netzero/model/product-service.model';\nimport { UnitTypeKeyID } from '@library/unit-service';\nimport { DateFormatEnum, DateInputTypeEnum } from '@library/date';\nimport { COMMON_CONSTANT, FormErrorEnum, MatSelectSearchService, MaterialFormFieldAppearance, NocFileUploadEnum, TypeConfirmationDialog } from '@library/tsc-common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@carbon/controller/document.controller\";\nimport * as i5 from \"@netzero/controller/product-and-service.controller\";\nimport * as i6 from \"@carbon/service/un-location-code.service\";\nimport * as i7 from \"@carbon/service/currency.service\";\nimport * as i8 from \"@library/tsc-common\";\nimport * as i9 from \"@library/storage-service\";\nimport * as i10 from \"@library/date\";\nimport * as i11 from \"@library/unit-service\";\nimport * as i12 from \"@library/toastr-service\";\nimport * as i13 from \"@angular/material/card\";\nimport * as i14 from \"@angular/common\";\nimport * as i15 from \"@angular/material/form-field\";\nimport * as i16 from \"@angular/material/select\";\nimport * as i17 from \"@angular/material/core\";\nimport * as i18 from \"ngx-mat-select-search\";\nimport * as i19 from \"@angular/material/input\";\nimport * as i20 from \"@angular/material/radio\";\nimport * as i21 from \"@angular/material/tooltip\";\nconst _c0 = [\"customDateInput\"];\nconst _c1 = [\"fileInput\"];\nfunction TotalAmountComponent_ng_container_5_mat_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵelementStart(1, \"span\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const countriesM_r28 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", countriesM_r28.countryCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", countriesM_r28.countryName, \" - \", countriesM_r28.countryCode, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_23_mat_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵelementStart(1, \"span\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const UNLcode_r31 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", UNLcode_r31.locationCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", UNLcode_r31.name, \" - \", UNLcode_r31.locationCode, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_23_mat_error_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r30.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(3, \"mat-label\", 12);\n    i0.ɵɵtext(4, \"UN/LOCODE of the location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-select\", 39);\n    i0.ɵɵlistener(\"selectionChange\", function TotalAmountComponent_ng_container_5_ng_container_23_Template_mat_select_selectionChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return ctx_r32.getCordinates($event.value);\n    });\n    i0.ɵɵelementStart(6, \"mat-option\");\n    i0.ɵɵelement(7, \"ngx-mat-select-search\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, TotalAmountComponent_ng_container_5_ng_container_23_mat_option_8_Template, 3, 3, \"mat-option\", 15);\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, TotalAmountComponent_ng_container_5_ng_container_23_mat_error_10_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = i0.ɵɵnextContext().index;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r7.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r7.unlCodeFiltered.filterFC)(\"noEntriesFoundLabel\", ctx_r7.COMMON_CONSTANT.NO_MATCH_FOUND);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 5, ctx_r7.unlCodeFiltered.filteredEntities));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.errorHandlingForFormArrayData(\"unlCode\", \"required\", i_r4));\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_60_mat_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const productionRoute_r37 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", productionRoute_r37.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", productionRoute_r37.name, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_60_mat_error_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r36 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r36.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(3, \"mat-label\");\n    i0.ɵɵtext(4, \"Select standard production route\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-select\", 41);\n    i0.ɵɵelementStart(6, \"mat-option\");\n    i0.ɵɵelement(7, \"ngx-mat-select-search\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, TotalAmountComponent_ng_container_5_ng_container_60_mat_option_8_Template, 2, 2, \"mat-option\", 15);\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, TotalAmountComponent_ng_container_5_ng_container_60_mat_error_10_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = i0.ɵɵnextContext().index;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r13.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r13.productionRouteSearchUtil.filterFC);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 4, ctx_r13.productionRouteSearchUtil.filteredEntities));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.errorHandlingForFormArrayData(\"standardPRID\", \"required\", i_r4));\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r14.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1, \" Information required anyway under Regulation (EU) 2019/1009: \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_input_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 50);\n  }\n  if (rf & 2) {\n    const subGroup_r41 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵattribute(\"type\", subGroup_r41.get(\"type\").value);\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_input_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 51);\n  }\n  if (rf & 2) {\n    const subGroup_r41 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵattribute(\"type\", subGroup_r41.get(\"type\").value);\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_mat_error_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r47 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r47.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(3, \"mat-label\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_input_5_Template, 1, 1, \"input\", 48);\n    i0.ɵɵtemplate(6, TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_input_6_Template, 1, 1, \"input\", 49);\n    i0.ɵɵtemplate(7, TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_mat_error_7_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subGroup_r41 = i0.ɵɵnextContext().$implicit;\n    const ctx_r43 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r43.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(subGroup_r41.get(\"keyID\").value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", subGroup_r41.get(\"type\").value == \"number\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", subGroup_r41.get(\"type\").value != \"number\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", subGroup_r41.get(\"value\").hasError(\"required\") && (subGroup_r41.get(\"value\").dirty || subGroup_r41.get(\"value\").touched));\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_3_mat_error_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r51 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r51.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"div\", 52);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-radio-group\", 53);\n    i0.ɵɵelementStart(4, \"div\", 54);\n    i0.ɵɵelementStart(5, \"div\", 10);\n    i0.ɵɵelementStart(6, \"mat-radio-button\", 55);\n    i0.ɵɵtext(7, \" Yes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 10);\n    i0.ɵɵelementStart(9, \"mat-radio-button\", 56);\n    i0.ɵɵtext(10, \" No \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_3_mat_error_11_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subGroup_r41 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", subGroup_r41.get(\"keyID\").value, \" \");\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", subGroup_r41.get(\"value\").hasError(\"required\") && (subGroup_r41.get(\"value\").dirty || subGroup_r41.get(\"value\").touched));\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementContainerStart(1, 6);\n    i0.ɵɵtemplate(2, TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_2_Template, 8, 5, \"div\", 47);\n    i0.ɵɵtemplate(3, TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_div_3_Template, 12, 2, \"div\", 47);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const subGroup_r41 = ctx.$implicit;\n    const j_r42 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", j_r42);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", subGroup_r41.get(\"type\").value != \"radio\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", subGroup_r41.get(\"type\").value == \"radio\");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-card\", 9);\n    i0.ɵɵelementStart(2, \"div\", 43);\n    i0.ɵɵtext(3, \" Sector specific parameters \");\n    i0.ɵɵtemplate(4, TotalAmountComponent_ng_container_5_ng_container_67_div_4_Template, 2, 0, \"div\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerStart(5, 45);\n    i0.ɵɵtemplate(6, TotalAmountComponent_ng_container_5_ng_container_67_ng_container_6_Template, 4, 3, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const activityData_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.parentKeyID == \"Mixed fertilisers\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r15.getAggregatedArray(activityData_r3).controls);\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_75_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r17.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_option_83_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵelementStart(1, \"span\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r54 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r54.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", unit_r54.name, \" - \", unit_r54.uomCode, \"\");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r20.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r21.formErrorEnum.NEGATIVE, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_option_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵelementStart(1, \"span\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r55 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r55.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", unit_r55.name, \" - \", unit_r55.uomCode, \"\");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_103_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r23.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_error_116_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 57);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r24.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r56 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r56.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r57 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r57.formErrorEnum.NEGATIVE, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵelementStart(1, \"span\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r66 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r66.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", unit_r66.name, \" - \", unit_r66.uomCode, \"\");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r59 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r59.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currency_r67 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", currency_r67.currencyID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", currency_r67.currencyName, \" - \", currency_r67.currencySymbol, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r61 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r61.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r62 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r62.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r63 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r63.formErrorEnum.NEGATIVE, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r64 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r64.formErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_mat_error_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r65 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r65.formErrorEnum.NEGATIVE, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_mat_card_117_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 58);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵelementStart(3, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(4, \"mat-label\", 12);\n    i0.ɵɵtext(5, \"Share of emissions covered by the carbon price \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 59);\n    i0.ɵɵtemplate(7, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_7_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵtemplate(8, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_8_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 60);\n    i0.ɵɵelementStart(10, \"span\", 61);\n    i0.ɵɵtext(11, \" info \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 10);\n    i0.ɵɵelementStart(13, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(14, \"mat-label\", 12);\n    i0.ɵɵtext(15, \"Select emissions covered unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-select\", 62);\n    i0.ɵɵelementStart(17, \"mat-option\");\n    i0.ɵɵelement(18, \"ngx-mat-select-search\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, TotalAmountComponent_ng_container_5_mat_card_117_mat_option_19_Template, 3, 3, \"mat-option\", 15);\n    i0.ɵɵpipe(20, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_21_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 7);\n    i0.ɵɵelementStart(23, \"div\", 10);\n    i0.ɵɵelementStart(24, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(25, \"mat-label\", 12);\n    i0.ɵɵtext(26, \"Select Currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"mat-select\", 63);\n    i0.ɵɵelementStart(28, \"mat-option\");\n    i0.ɵɵelement(29, \"ngx-mat-select-search\", 64);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(30, TotalAmountComponent_ng_container_5_mat_card_117_mat_option_30_Template, 2, 3, \"mat-option\", 15);\n    i0.ɵɵpipe(31, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(32, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_32_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 7);\n    i0.ɵɵelementStart(34, \"div\", 10);\n    i0.ɵɵelementStart(35, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(36, \"mat-label\", 12);\n    i0.ɵɵtext(37, \"Carbon price (CP) due\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"input\", 65);\n    i0.ɵɵtemplate(39, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_39_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵtemplate(40, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_40_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 60);\n    i0.ɵɵelementStart(42, \"span\", 66);\n    i0.ɵɵtext(43, \" info \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 10);\n    i0.ɵɵelementStart(45, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(46, \"mat-label\", 12);\n    i0.ɵɵtext(47, \"Amount of rebate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(48, \"input\", 67);\n    i0.ɵɵtemplate(49, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_49_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵtemplate(50, TotalAmountComponent_ng_container_5_mat_card_117_mat_error_50_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 60);\n    i0.ɵɵelementStart(52, \"span\", 68);\n    i0.ɵɵtext(53, \" info \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r4 = i0.ɵɵnextContext().index;\n    const ctx_r25 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r25.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"dueCarbonPriceEmission\", \"required\", i_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"dueCarbonPriceEmission\", \"min\", i_r4));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"appearance\", ctx_r25.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r25.unitFiltered.filterFC)(\"noEntriesFoundLabel\", ctx_r25.COMMON_CONSTANT.NO_MATCH_FOUND);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(20, 19, ctx_r25.unitFiltered.filteredEntities));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"dueCarbonPriceEmissionUnitID\", \"required\", i_r4));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r25.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r25.currencyTypeSearchUtil.filterFC)(\"noEntriesFoundLabel\", ctx_r25.COMMON_CONSTANT.NO_MATCH_FOUND);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(31, 21, ctx_r25.currencyTypeSearchUtil.filteredEntities));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"currencyID\", \"required\", i_r4));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r25.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"dueCarbonPriceValue\", \"required\", i_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"dueCarbonPriceValue\", \"min\", i_r4));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"appearance\", ctx_r25.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"rebate\", \"required\", i_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.errorHandlingForFormArrayData(\"rebate\", \"min\", i_r4));\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_container_118_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"d-none\": a0\n  };\n};\nfunction TotalAmountComponent_ng_container_5_ng_container_118_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r73 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 69);\n    i0.ɵɵelementStart(2, \"div\", 70);\n    i0.ɵɵelementStart(3, \"input\", 71, 72);\n    i0.ɵɵlistener(\"change\", function TotalAmountComponent_ng_container_5_ng_container_118_Template_input_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r73);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r71 = i0.ɵɵnextContext();\n      return ctx_r71.fileUpload($event, i_r4);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 73);\n    i0.ɵɵelementStart(6, \"div\", 74);\n    i0.ɵɵelementStart(7, \"span\", 75);\n    i0.ɵɵtext(8, \" download \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"a\", 76);\n    i0.ɵɵtext(10, \"Download template file\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 69);\n    i0.ɵɵelementStart(12, \"div\", 43);\n    i0.ɵɵelementStart(13, \"div\", 77);\n    i0.ɵɵelementStart(14, \"div\", 78);\n    i0.ɵɵtemplate(15, TotalAmountComponent_ng_container_5_ng_container_118_ng_container_15_Template, 1, 0, \"ng-container\", 79);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 78);\n    i0.ɵɵelementStart(17, \"div\", 80);\n    i0.ɵɵtext(18);\n    i0.ɵɵelement(19, \"br\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 81);\n    i0.ɵɵelementStart(22, \"button\", 82);\n    i0.ɵɵlistener(\"click\", function TotalAmountComponent_ng_container_5_ng_container_118_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r73);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r74 = i0.ɵɵnextContext();\n      return ctx_r74.removeFile(i_r4);\n    });\n    i0.ɵɵelementStart(23, \"span\", 83);\n    i0.ɵɵtext(24, \" delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r76 = i0.ɵɵnextContext();\n    const i_r4 = ctx_r76.index;\n    const activityData_r3 = ctx_r76.$implicit;\n    const ctx_r26 = i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(7);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"href\", ctx_r26.templateFileSrc, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c2, ctx_r26.docFileList[i_r4] == null));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", activityData_r3.get(\"docName\").value, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", activityData_r3.get(\"docSize\").value, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_conatiner_119_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TotalAmountComponent_ng_container_5_ng_conatiner_119_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r80 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ng-conatiner\");\n    i0.ɵɵelementStart(1, \"div\", 69);\n    i0.ɵɵelementStart(2, \"div\", 43);\n    i0.ɵɵelementStart(3, \"div\", 84);\n    i0.ɵɵtemplate(4, TotalAmountComponent_ng_container_5_ng_conatiner_119_ng_container_4_Template, 1, 0, \"ng-container\", 79);\n    i0.ɵɵelementStart(5, \"div\", 78);\n    i0.ɵɵelementStart(6, \"div\", 85);\n    i0.ɵɵelementStart(7, \"a\", 86);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 81);\n    i0.ɵɵelementStart(10, \"button\", 87);\n    i0.ɵɵlistener(\"click\", function TotalAmountComponent_ng_container_5_ng_conatiner_119_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r80);\n      const _r78 = i0.ɵɵreference(14);\n      return _r78.click();\n    });\n    i0.ɵɵelementStart(11, \"span\", 88);\n    i0.ɵɵtext(12, \" edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 89, 72);\n    i0.ɵɵlistener(\"change\", function TotalAmountComponent_ng_container_5_ng_conatiner_119_Template_input_change_13_listener($event) {\n      i0.ɵɵrestoreView(_r80);\n      const i_r4 = i0.ɵɵnextContext().index;\n      const ctx_r81 = i0.ɵɵnextContext();\n      return ctx_r81.fileUpload($event, i_r4);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 90);\n    i0.ɵɵlistener(\"click\", function TotalAmountComponent_ng_container_5_ng_conatiner_119_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r80);\n      const ctx_r84 = i0.ɵɵnextContext();\n      const activityData_r3 = ctx_r84.$implicit;\n      const i_r4 = ctx_r84.index;\n      const ctx_r83 = i0.ɵɵnextContext();\n      return ctx_r83.deleteConfirmation(activityData_r3, i_r4);\n    });\n    i0.ɵɵelementStart(16, \"span\", 83);\n    i0.ɵɵtext(17, \" delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activityData_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(7);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", activityData_r3.get(\"docPath\").value, i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c2, !activityData_r3.get(\"docPath\").value));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", activityData_r3.get(\"docName\").value, \" \");\n  }\n}\nfunction TotalAmountComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r87 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementContainerStart(1, 6);\n    i0.ɵɵelementStart(2, \"div\", 7);\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵtext(4, \" Precursor: \");\n    i0.ɵɵelementStart(5, \"span\", 1);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mat-card\", 9);\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtext(9, \" Supplier: \");\n    i0.ɵɵelementStart(10, \"span\", 1);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 7);\n    i0.ɵɵelementStart(13, \"div\", 10);\n    i0.ɵɵelementStart(14, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(15, \"mat-label\", 12);\n    i0.ɵɵtext(16, \"Country of origin of precursor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"mat-select\", 13);\n    i0.ɵɵlistener(\"selectionChange\", function TotalAmountComponent_ng_container_5_Template_mat_select_selectionChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r87);\n      const ctx_r86 = i0.ɵɵnextContext();\n      return ctx_r86.onCountrySelectionChange($event);\n    });\n    i0.ɵɵelementStart(18, \"mat-option\");\n    i0.ɵɵelement(19, \"ngx-mat-select-search\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, TotalAmountComponent_ng_container_5_mat_option_20_Template, 3, 3, \"mat-option\", 15);\n    i0.ɵɵpipe(21, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, TotalAmountComponent_ng_container_5_mat_error_22_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(23, TotalAmountComponent_ng_container_5_ng_container_23_Template, 11, 7, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 17);\n    i0.ɵɵelementStart(25, \"div\", 10);\n    i0.ɵɵelementStart(26, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(27, \"mat-label\", 12);\n    i0.ɵɵtext(28, \"Longitude\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(29, \"input\", 18);\n    i0.ɵɵtemplate(30, TotalAmountComponent_ng_container_5_mat_error_30_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 10);\n    i0.ɵɵelementStart(32, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(33, \"mat-label\", 12);\n    i0.ɵɵtext(34, \"Latitude\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(35, \"input\", 19);\n    i0.ɵɵtemplate(36, TotalAmountComponent_ng_container_5_mat_error_36_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 7);\n    i0.ɵɵelementStart(38, \"div\", 10);\n    i0.ɵɵelementStart(39, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(40, \"mat-label\", 12);\n    i0.ɵɵtext(41, \"Unique installation identifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(42, \"input\", 20);\n    i0.ɵɵtemplate(43, TotalAmountComponent_ng_container_5_mat_error_43_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 10);\n    i0.ɵɵelementStart(45, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(46, \"mat-label\", 12);\n    i0.ɵɵtext(47, \"Installation address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(48, \"input\", 21);\n    i0.ɵɵtemplate(49, TotalAmountComponent_ng_container_5_mat_error_49_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(50, \"mat-card\", 0);\n    i0.ɵɵelementStart(51, \"div\", 8);\n    i0.ɵɵtext(52, \" Precursor: \");\n    i0.ɵɵelementStart(53, \"span\", 1);\n    i0.ɵɵtext(54);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"div\", 7);\n    i0.ɵɵelementStart(56, \"div\", 10);\n    i0.ɵɵelementStart(57, \"lib-date-input\", 22, 23);\n    i0.ɵɵlistener(\"emitFilter\", function TotalAmountComponent_ng_container_5_Template_lib_date_input_emitFilter_57_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r87);\n      const i_r4 = restoredCtx.index;\n      const ctx_r88 = i0.ɵɵnextContext();\n      return ctx_r88.dateInpChange(i_r4);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"div\", 7);\n    i0.ɵɵtemplate(60, TotalAmountComponent_ng_container_5_ng_container_60_Template, 11, 6, \"ng-container\", 16);\n    i0.ɵɵelementStart(61, \"div\", 10);\n    i0.ɵɵelementStart(62, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(63, \"mat-label\", 12);\n    i0.ɵɵtext(64, \"Production route used\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(65, \"input\", 24);\n    i0.ɵɵtemplate(66, TotalAmountComponent_ng_container_5_mat_error_66_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(67, TotalAmountComponent_ng_container_5_ng_container_67_Template, 7, 2, \"ng-container\", 16);\n    i0.ɵɵelementStart(68, \"div\", 25);\n    i0.ɵɵelementStart(69, \"div\", 10);\n    i0.ɵɵelementStart(70, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(71, \"mat-label\", 12);\n    i0.ɵɵtext(72, \"Embeded direct emissions of the precursor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(73, \"input\", 26);\n    i0.ɵɵtemplate(74, TotalAmountComponent_ng_container_5_mat_error_74_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵtemplate(75, TotalAmountComponent_ng_container_5_mat_error_75_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(76, \"div\", 10);\n    i0.ɵɵelementStart(77, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(78, \"mat-label\", 12);\n    i0.ɵɵtext(79, \"Select embeded direct unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(80, \"mat-select\", 27);\n    i0.ɵɵelementStart(81, \"mat-option\");\n    i0.ɵɵelement(82, \"ngx-mat-select-search\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(83, TotalAmountComponent_ng_container_5_mat_option_83_Template, 3, 3, \"mat-option\", 15);\n    i0.ɵɵpipe(84, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(85, TotalAmountComponent_ng_container_5_mat_error_85_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(86, \"div\", 7);\n    i0.ɵɵelementStart(87, \"div\", 10);\n    i0.ɵɵelementStart(88, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(89, \"mat-label\", 12);\n    i0.ɵɵtext(90, \"Embeded indirect emissions of the precursor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(91, \"input\", 29);\n    i0.ɵɵtemplate(92, TotalAmountComponent_ng_container_5_mat_error_92_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵtemplate(93, TotalAmountComponent_ng_container_5_mat_error_93_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(94, \"div\", 10);\n    i0.ɵɵelementStart(95, \"mat-form-field\", 11);\n    i0.ɵɵelementStart(96, \"mat-label\", 12);\n    i0.ɵɵtext(97, \"Select embeded indirect unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(98, \"mat-select\", 30);\n    i0.ɵɵelementStart(99, \"mat-option\");\n    i0.ɵɵelement(100, \"ngx-mat-select-search\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(101, TotalAmountComponent_ng_container_5_mat_option_101_Template, 3, 3, \"mat-option\", 15);\n    i0.ɵɵpipe(102, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(103, TotalAmountComponent_ng_container_5_mat_error_103_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(104, \"div\", 31);\n    i0.ɵɵelementStart(105, \"div\", 32);\n    i0.ɵɵelementStart(106, \"mat-label\");\n    i0.ɵɵtext(107, \"Is there any carbon price due for this precursor?*\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(108, \"mat-radio-group\", 33);\n    i0.ɵɵlistener(\"change\", function TotalAmountComponent_ng_container_5_Template_mat_radio_group_change_108_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r87);\n      const i_r4 = restoredCtx.index;\n      const ctx_r89 = i0.ɵɵnextContext();\n      return ctx_r89.alterValidators(i_r4);\n    });\n    i0.ɵɵelementStart(109, \"div\", 7);\n    i0.ɵɵelementStart(110, \"div\", 10);\n    i0.ɵɵelementStart(111, \"mat-radio-button\", 34);\n    i0.ɵɵtext(112, \"Yes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(113, \"div\", 10);\n    i0.ɵɵelementStart(114, \"mat-radio-button\", 34);\n    i0.ɵɵtext(115, \"No \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(116, TotalAmountComponent_ng_container_5_mat_error_116_Template, 2, 1, \"mat-error\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(117, TotalAmountComponent_ng_container_5_mat_card_117_Template, 54, 23, \"mat-card\", 36);\n    i0.ɵɵtemplate(118, TotalAmountComponent_ng_container_5_ng_container_118_Template, 25, 7, \"ng-container\", 16);\n    i0.ɵɵtemplate(119, TotalAmountComponent_ng_container_5_ng_conatiner_119_Template, 18, 6, \"ng-conatiner\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const activityData_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroupName\", i_r4);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.sourceName, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.supplierName, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.countryFiltered.filterFC)(\"noEntriesFoundLabel\", ctx_r0.COMMON_CONSTANT.NO_MATCH_FOUND);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(21, 50, ctx_r0.countryFiltered.filteredEntities));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"countryCode\", \"required\", i_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", activityData_r3.get(\"countryCode\").value);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"longitude\", \"required\", i_r4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"latitude\", \"required\", i_r4));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"identifier\", \"required\", i_r4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"address\", \"required\", i_r4));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.sourceName, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"materialFieldWidthInp\", true)(\"materialFormFieldAppearanceInp\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE)(\"isMandatoryFieldInp\", true)(\"dateInputTypeInp\", ctx_r0.dateInputTypeEnum.CUSTOM_INPUT)(\"labelInp\", \"Accounting Period\")(\"cdrFormatInp\", ctx_r0.DateFormatEnum.DD_MMM_YYYY);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.haveStandardName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"name\", \"required\", i_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showSpecificParameter);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"precursorDirectEmission\", \"required\", i_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"precursorDirectEmission\", \"min\", i_r4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.unitFiltered.filterFC)(\"noEntriesFoundLabel\", ctx_r0.COMMON_CONSTANT.NO_MATCH_FOUND);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(84, 52, ctx_r0.unitFiltered.filteredEntities));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"precursorDirectEmissionUnitID\", \"required\", i_r4));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"precursorIndirectEmission\", \"required\", i_r4));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"precursorIndirectEmission\", \"min\", i_r4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r0.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.unitFiltered.filterFC)(\"noEntriesFoundLabel\", ctx_r0.COMMON_CONSTANT.NO_MATCH_FOUND);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(102, 54, ctx_r0.unitFiltered.filteredEntities));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"precursorIndirectEmissionUnitID\", \"required\", i_r4));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"value\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandlingForFormArrayData(\"dueCarbonPrice\", \"required\", i_r4) && ctx_r0.activityDataFG.get(\"activityDataDetails\").at(i_r4).controls[\"dueCarbonPrice\"].touched);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.activityDataFG.get(\"activityDataDetails\").at(i_r4).controls[\"dueCarbonPrice\"].value === true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", activityData_r3.get(\"docPath\").value == null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", activityData_r3.get(\"docPath\").value != null);\n  }\n}\nfunction TotalAmountComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 78);\n    i0.ɵɵelementStart(1, \"div\", 91);\n    i0.ɵɵelement(2, \"img\", 92);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", ctx_r2.billFileName);\n  }\n}\n// /tsc-library\nexport let TotalAmountComponent = /*#__PURE__*/(() => {\n  class TotalAmountComponent {\n    constructor(formBuilder, activatedRoute, dialog, carbonDocumentController, productAndServiceController, unlCodeservice, currencyService, countryService, storageService, dateService, unitService, toastrService) {\n      this.formBuilder = formBuilder;\n      this.activatedRoute = activatedRoute;\n      this.dialog = dialog;\n      this.carbonDocumentController = carbonDocumentController;\n      this.productAndServiceController = productAndServiceController;\n      this.unlCodeservice = unlCodeservice;\n      this.currencyService = currencyService;\n      this.countryService = countryService;\n      this.dateService = dateService;\n      this.unitService = unitService;\n      this.toastrService = toastrService;\n      this.MaterialFormFieldAppearance = MaterialFormFieldAppearance;\n      this.formErrorEnum = FormErrorEnum;\n      this.dateInputTypeEnum = DateInputTypeEnum;\n      this.DateFormatEnum = DateFormatEnum;\n      this.COMMON_CONSTANT = COMMON_CONSTANT;\n      this.countryM = [];\n      this.countryFiltered = new MatSelectSearchService(['countryName']);\n      this.unlCodeM = [];\n      this.unlCodeFiltered = new MatSelectSearchService(['name']);\n      this.standardPRList = [];\n      this.haveStandardName = false;\n      this.productionRouteSearchUtil = new MatSelectSearchService(['name']);\n      this.unitFiltered = new MatSelectSearchService(['name']);\n      this.currencyList = [];\n      this.currencyTypeSearchUtil = new MatSelectSearchService(['currencyName']);\n      this.billFile = null;\n      this.isEqual = true;\n      this.source = new ProductAndService();\n      this.showSpecificParameter = false;\n      this.aggregatedGoodsDataControlList = [{\n        \"parentKeyID\": \"Calcined clay\",\n        \"type\": \"radio\",\n        \"keyID\": \"Whether or not the clay is calcined.\"\n      }, {\n        \"parentKeyID\": \"Cement\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass ratio of tonnes cement clinker consumed per produced tonne of cement (clinker to cement ratio expressed in per cent).\"\n      }, {\n        \"parentKeyID\": \"Urea\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % urea contained.\"\n      }, {\n        \"parentKeyID\": \"Urea\",\n        \"type\": \"number\",\n        \"keyID\": \"mass % N contained.\"\n      }, {\n        \"parentKeyID\": \"Nitric acid\",\n        \"type\": \"number\",\n        \"keyID\": \"Concentration (mass %).\"\n      }, {\n        \"parentKeyID\": \"Ammonia\",\n        \"type\": \"text\",\n        \"keyID\": \"Concentration, if hydrous solution.\"\n      }, {\n        \"parentKeyID\": \"Mixed fertilisers\",\n        \"type\": \"text\",\n        \"keyID\": \"content of N as ammonium (NH4)\"\n      }, {\n        \"parentKeyID\": \"Mixed fertilisers\",\n        \"type\": \"text\",\n        \"keyID\": \"content of N as nitrate (NO3)\"\n      }, {\n        \"parentKeyID\": \"Mixed fertilisers\",\n        \"type\": \"text\",\n        \"keyID\": \"content of N as urea\"\n      }, {\n        \"parentKeyID\": \"Mixed fertilisers\",\n        \"type\": \"text\",\n        \"keyID\": \"content of N in other (organic) forms.\"\n      }, {\n        \"parentKeyID\": \"Pig iron\",\n        \"type\": \"text\",\n        \"keyID\": \"The main reducing agent used.\"\n      }, {\n        \"parentKeyID\": \"Pig iron\",\n        \"type\": \"number\",\n        \"keyID\": \" Mass % of Mn.\"\n      }, {\n        \"parentKeyID\": \"Pig iron\",\n        \"type\": \"number\",\n        \"keyID\": \" Mass % of Cr.\"\n      }, {\n        \"parentKeyID\": \"Pig iron\",\n        \"type\": \"number\",\n        \"keyID\": \" Mass % of Ni.\"\n      }, {\n        \"parentKeyID\": \"Pig iron\",\n        \"type\": \"number\",\n        \"keyID\": \" Mass % of total of other alloy elements.\"\n      }, {\n        \"parentKeyID\": \"FeMn\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Mn.\"\n      }, {\n        \"parentKeyID\": \"FeMn\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of carbon.\"\n      }, {\n        \"parentKeyID\": \"FeCr\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Cr.\"\n      }, {\n        \"parentKeyID\": \"FeCr\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of carbon.\"\n      }, {\n        \"parentKeyID\": \"FeNi\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Ni.\"\n      }, {\n        \"parentKeyID\": \"FeNi\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of carbon\"\n      }, {\n        \"parentKeyID\": \"DRI\",\n        \"type\": \"text\",\n        \"keyID\": \"The main reducing agent used.\"\n      }, {\n        \"parentKeyID\": \"DRI\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Mn.\"\n      }, {\n        \"parentKeyID\": \"DRI\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Cr.\"\n      }, {\n        \"parentKeyID\": \"DRI\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Ni.\"\n      }, {\n        \"parentKeyID\": \"DRI\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of total of other alloy elements.\"\n      }, {\n        \"parentKeyID\": \"Crude steel\",\n        \"type\": \"text\",\n        \"keyID\": \"The main reducing agent of the precursor, if known.\"\n      }, {\n        \"parentKeyID\": \"Crude steel\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Mn.\"\n      }, {\n        \"parentKeyID\": \"Crude steel\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Cr.\"\n      }, {\n        \"parentKeyID\": \"Crude steel\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Ni.\"\n      }, {\n        \"parentKeyID\": \"Crude steel\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of total of other alloy elements.\"\n      }, {\n        \"parentKeyID\": \"Crude steel\",\n        \"type\": \"number\",\n        \"keyID\": \"Tonnes scrap used for producing 1 t crude steel.\"\n      }, {\n        \"parentKeyID\": \"Crude steel\",\n        \"type\": \"number\",\n        \"keyID\": \"% of scrap that is pre-consumer scrap.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"text\",\n        \"keyID\": \"The main reducing agent used in precursor production, if known.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Mn.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Cr.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of Ni.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of total of other alloy elements.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"number\",\n        \"keyID\": \"Mass % of materials contained which are not iron or steel if their mass is more than 1 % to 5 % of the total goods’ mass.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"number\",\n        \"keyID\": \"Tonnes scrap used for producing 1 t of the product.\"\n      }, {\n        \"parentKeyID\": \"Iron or steel products\",\n        \"type\": \"number\",\n        \"keyID\": \"% of scrap that is pre-consumer scrap\"\n      }, {\n        \"parentKeyID\": \"Unwrought aluminium\",\n        \"type\": \"number\",\n        \"keyID\": \"Tonnes scrap used for producing 1 t of the product.\"\n      }, {\n        \"parentKeyID\": \"Unwrought aluminium\",\n        \"type\": \"number\",\n        \"keyID\": \"% of scrap that is pre-consumer scrap.\"\n      }, {\n        \"parentKeyID\": \"Unwrought aluminium\",\n        \"type\": \"number\",\n        \"keyID\": \"If the total content of elements other than aluminium exceeds 1 %, the total percentage of such elements.\"\n      }, {\n        \"parentKeyID\": \"Aluminium products\",\n        \"type\": \"number\",\n        \"keyID\": \"Tonnes scrap used for producing 1 t of the product.\"\n      }, {\n        \"parentKeyID\": \"Aluminium products\",\n        \"type\": \"number\",\n        \"keyID\": \"% of scrap that is pre-consumer scrap.\"\n      }, {\n        \"parentKeyID\": \"Aluminium products\",\n        \"type\": \"number\",\n        \"keyID\": \"If the total content of elements other than aluminium exceeds 1 %, the total percentage of such elements.\"\n      }];\n      this.errorHandlingForFormArrayData = (control, error, index) => {\n        const activityConfigDetailsFA = this.activityDataFG.get('activityDataDetails');\n        const formGroup = activityConfigDetailsFA.at(index);\n        if (formGroup && formGroup.get(control)) {\n          return formGroup.get(control).hasError(error);\n        }\n        const nestedFormGroup = formGroup.get('cordinates');\n        if (nestedFormGroup && nestedFormGroup.get(control)) {\n          return nestedFormGroup.get(control).hasError(error);\n        }\n      };\n      this.currentOrgID = storageService.getStorage('currentOrgID');\n    }\n    ngOnInit() {\n      this.supplierName = this.activityConfig.activityConfigData.supplier.name;\n      this.templateFileSrc = \"/assets/files/cbam-communication-template.xlsx\";\n      this.getCountry();\n      this.getUnit();\n      this.getCurrency();\n    }\n    ngOnChanges(changes) {\n      this.activatedRoute.queryParams.subscribe(queryParam => {\n        this.action = queryParam.action;\n        this.activityID = queryParam.activityID;\n      });\n      if (this.action == 'create') {\n        this.sourceName = this.activityConfig.activityConfigSource[0].source[0].name;\n        if (changes.activityDataFG.firstChange) {\n          this.initFormControl();\n        }\n        if (changes === null || changes === void 0 ? void 0 : changes.defaultDataCollectionMethodID) {\n          if (this.defaultDataCollectionMethodID != undefined || this.defaultDataCollectionMethodID != null) this.setDataCollectionMethod();\n        }\n      }\n    }\n    ngAfterViewInit() {\n      this.fileInputLoadSub = this.fileInput.changes.subscribe(() => this.updateFileInputArray());\n      this.updateFileInputArray();\n      if (this.action == 'update') {\n        this.activityData = this.activityConfig.activityData;\n        this.getUnLCode(this.activityData.country.countryCode);\n        this.pathFormData();\n        this.dateInputSub = this.customDateInputs.changes.subscribe(list => {\n          if (list.length > 0) {\n            this.patchDate();\n            this.dateInputSub.unsubscribe();\n          }\n        });\n      }\n    }\n    updateFileInputArray() {\n      if (this.fileInput && this.fileInput.length > 0) {\n        this.fileInputArr = this.fileInput.toArray();\n      }\n    }\n    get activityDataFA() {\n      return this.activityDataFG.get('activityDataDetails');\n    }\n    initFormControl() {\n      this.activityDataFA.push(this.formBuilder.group({\n        recordID: [],\n        sourceTypeID: this.activityConfig.activityConfigSource[0].sourceTypeID,\n        sourceID: this.activityConfig.activityConfigSource[0].sourceID[0],\n        countryCode: [],\n        cordinates: this.formBuilder.group({\n          latitude: [],\n          longitude: []\n        }),\n        unlCode: [],\n        identifier: [],\n        address: [],\n        standardPRID: [],\n        name: [],\n        startDate: [, Validators.required],\n        endDate: [, Validators.required],\n        precursorDirectEmission: [],\n        precursorDirectEmissionUnitID: [],\n        precursorIndirectEmission: [],\n        precursorIndirectEmissionUnitID: [],\n        dueCarbonPrice: [],\n        currencyID: [],\n        dueCarbonPriceEmission: [],\n        dueCarbonPriceEmissionUnitID: [],\n        dueCarbonPriceValue: [],\n        rebate: [],\n        dataCollectionMethodID: [],\n        activityDataID: [],\n        activityStdID: this.activityID,\n        docID: [],\n        docName: [],\n        docPath: [],\n        docSize: []\n      }));\n      this.sourceID = this.activityConfig.activityConfigSource[0].sourceID[0];\n      this.getSource();\n    }\n    get standardPRIDAC() {\n      return this.activityDataFA.at(0).get('standardPRID');\n    }\n    get nameAC() {\n      return this.activityDataFA.at(0).get('name');\n    }\n    pathFormData() {\n      var _a, _b;\n      this.activityDataFA.push(this.formBuilder.group({\n        recordID: this.activityData.id,\n        sourceTypeID: this.activityData.sourceType.id,\n        sourceID: this.activityData.source.id,\n        countryCode: this.activityData.country.countryCode,\n        unlCode: this.activityData.unlCode.locationCode,\n        cordinates: this.formBuilder.group({\n          latitude: this.activityData.cordinates.latitude,\n          longitude: this.activityData.cordinates.longitude\n        }),\n        identifier: this.activityData.identifier,\n        address: this.activityData.address,\n        standardPRID: null,\n        name: this.activityData.name,\n        startDate: this.activityData.startDate,\n        endDate: this.activityData.endDate,\n        precursorDirectEmission: this.activityData.precursorDirectEmission,\n        precursorDirectEmissionUnitID: this.activityData.precursorDirectEmissionUnit.unitID,\n        precursorIndirectEmission: this.activityData.precursorIndirectEmission,\n        precursorIndirectEmissionUnitID: this.activityData.precursorIndirectEmissionUnit.unitID,\n        dueCarbonPrice: this.activityData.dueCarbonPrice,\n        currencyID: (_a = this.activityData.currency) === null || _a === void 0 ? void 0 : _a.id,\n        dueCarbonPriceEmission: this.activityData.dueCarbonPriceEmission,\n        dueCarbonPriceEmissionUnitID: (_b = this.activityData.dueCarbonPriceEmissionUnit) === null || _b === void 0 ? void 0 : _b.unitID,\n        dueCarbonPriceValue: this.activityData.dueCarbonPriceValue,\n        rebate: this.activityData.rebate,\n        dataCollectionMethodID: this.defaultDataCollectionMethodID,\n        activityDataID: this.activityData.id,\n        activityID: this.activityID,\n        docID: this.activityData.file ? this.activityData.file.id : null,\n        docName: this.activityData.file ? this.activityData.file.name : null,\n        docPath: this.activityData.file ? this.activityData.file.path : null,\n        docSize: []\n      }));\n      this.sourceID = this.activityData.source.id;\n      this.sourceName = this.activityData.source.name;\n      this.activityDataFA.valueChanges.subscribe(() => {\n        this.isEqual = isEqual(this.initialObject, this.activityDataFA.value);\n      });\n      this.initialObject = this.activityDataFA.value;\n      this.getSource();\n    }\n    getSource() {\n      this.productAndServiceController.getProductByID(this.currentOrgID, this.sourceID).subscribe(res => {\n        this.source = res;\n        this.standardPRList = res['standardProductionRouteList'];\n        if (this.standardPRList != null && this.standardPRList.length != 0) {\n          this.haveStandardName = true;\n          this.productionRouteSearchUtil.filterUnsubscribe.next();\n          this.productionRouteSearchUtil.entityArr = this.standardPRList;\n          this.productionRouteSearchUtil.createSubscription();\n        } else {\n          this.haveStandardName = false;\n          this.productionRouteSearchUtil.entityArr = null;\n          this.productionRouteSearchUtil.filterUnsubscribe.next();\n          if (!(this.action == 'update')) this.nameAC.reset();\n          this.nameAC.enable();\n        }\n        this.standardPRIDAC.reset(null, {\n          emitEvent: false\n        });\n        this.standardPRIDAC.valueChanges.subscribe(id => {\n          const pr = this.standardPRList.find(pr => pr.id == id);\n          if (pr !== null && pr !== void 0 ? pr : false) {\n            this.nameAC.patchValue(pr.name);\n          }\n        });\n        this.aggregatedGoodFilterList = this.aggregatedGoodsDataControlList.filter(a => a.parentKeyID == this.source.aggregatedCode);\n        if (this.aggregatedGoodFilterList.length > 0) {\n          this.parentKeyID = this.source.aggregatedCode;\n          this.showSpecificParameter = true;\n          this.createFormGroup();\n        }\n      }, error => {\n        console.log('Error in getProductByID', error);\n      });\n    }\n    createFormGroup() {\n      let formArray = new FormArray([]);\n      if (this.action == 'create') {\n        this.aggregatedGoodFilterList.forEach(ag => {\n          const newSubGroup = new FormGroup({\n            keyID: new FormControl(ag.keyID),\n            type: new FormControl(ag.type),\n            value: new FormControl(null, [Validators.required]),\n            unitID: new FormControl(null)\n          });\n          formArray.push(newSubGroup);\n        });\n      } else {\n        this.aggregatedGoodFilterList.forEach(ag => {\n          const agPatchValue = this.activityData['sectorSpecificParameter'].find(item => item.keyID == ag.keyID);\n          const newSubGroup = new FormGroup({\n            keyID: new FormControl(ag.keyID),\n            type: new FormControl(ag.type),\n            value: new FormControl(agPatchValue.value, [Validators.required]),\n            unitID: new FormControl(null)\n          });\n          formArray.push(newSubGroup);\n        });\n      }\n      const activityDataDetailsArray = this.activityDataFG.get('activityDataDetails');\n      const firstGroup = activityDataDetailsArray.at(0);\n      firstGroup.addControl('sectorSpecificParameter', formArray);\n    }\n    getAggregatedArray(group) {\n      return group.get('sectorSpecificParameter');\n    }\n    patchDate() {\n      const customDateInputInstance = this.customDateInputs.toArray()[0];\n      if (customDateInputInstance) {\n        customDateInputInstance.daterange.patchValue({\n          startDate: moment(this.activityData['startDate']),\n          endDate: moment(this.activityData['endDate'])\n        });\n      }\n    }\n    setDataCollectionMethod() {\n      this.activityDataFA.controls.forEach(group => {\n        group.get('dataCollectionMethodID').patchValue(this.defaultDataCollectionMethodID);\n      });\n    }\n    getCountry() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.countryM = yield this.countryService.getCountry();\n        this.countryFiltered.entityArr = this.countryM;\n        this.countryFiltered.createSubscription();\n      });\n    }\n    getUnLCode(countryCode) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.unlCodeM = yield this.unlCodeservice.getUNLCode(countryCode);\n        this.unlCodeFiltered.entityArr = this.unlCodeM;\n        this.unlCodeFiltered.createSubscription();\n      });\n    }\n    onCountrySelectionChange(event) {\n      this.activityDataFA.controls.forEach(group => {\n        group.get('unlCode').reset();\n      });\n      const selectedCountryCode = event.value;\n      const selectedCountry = this.countryM.find(country => country.countryCode === selectedCountryCode);\n      this.getUnLCode(selectedCountry.countryCode);\n      this.activityDataFA.controls.forEach(group => {\n        group.get('cordinates.longitude').reset();\n        group.get('cordinates.latitude').reset();\n      });\n    }\n    getCordinates(locationCode) {\n      this.unlCodeM.filter(res => {\n        if (res.locationCode == locationCode) {\n          this.activityDataFA.controls.forEach(group => {\n            group.get('cordinates.longitude').patchValue(res.longitude);\n            group.get('cordinates.latitude').patchValue(res.latitude);\n          });\n        }\n      });\n    }\n    dateInpChange(index) {\n      if (this.customDateInputs) {\n        const customDateInputInstance = this.customDateInputs.toArray()[index];\n        if (customDateInputInstance) {\n          let startDate = customDateInputInstance.startDateFC.value;\n          let endDate = customDateInputInstance.endDateFC.value;\n          if (startDate) {\n            this.startDate = this.dateService.formatDate(startDate, DateFormatEnum.YYYY_MM_DD);\n            this.activityDataFA.controls[index].get('startDate').patchValue(this.startDate);\n          }\n          if (endDate) {\n            this.endDate = this.dateService.formatDate(endDate, DateFormatEnum.YYYY_MM_DD);\n            this.activityDataFA.controls[index].get('endDate').patchValue(this.endDate);\n          }\n        }\n      }\n    }\n    getUnit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.units = yield this.unitService.getUnit([`type:${UnitTypeKeyID.EQUIVALENT_EMISSION}`]);\n        this.unitFiltered.entityArr = this.units;\n        this.unitFiltered.createSubscription();\n      });\n    }\n    alterValidators(index) {\n      let formGroup = this.activityDataFA.at(index);\n      if (formGroup.get('dueCarbonPrice').value) {\n        this.setValidators(formGroup, ['currencyID', 'dueCarbonPriceEmission', 'dueCarbonPriceEmissionUnitID', 'dueCarbonPriceValue', 'rebate']);\n      } else {\n        this.clearValidators(formGroup, ['currencyID', 'dueCarbonPriceEmission', 'dueCarbonPriceEmissionUnitID', 'dueCarbonPriceValue', 'rebate']);\n      }\n      formGroup.updateValueAndValidity({\n        emitEvent: false\n      });\n    }\n    setValidators(formGroup, controls) {\n      for (let control of controls) {\n        formGroup.get(control).setValidators([Validators.required]);\n      }\n    }\n    clearValidators(formGroup, controls) {\n      for (let control of controls) {\n        formGroup.get(control).clearValidators();\n        formGroup.get(control).reset();\n      }\n    }\n    getCurrency() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.currencyList = yield this.currencyService.getCurrency();\n        this.currencyTypeSearchUtil.entityArr = this.currencyList;\n        this.currencyTypeSearchUtil.createSubscription();\n      });\n    }\n    fileUpload(event, index) {\n      let file = event.target.files[0];\n      if (file) {\n        if (file.type !== 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet') {\n          this.toastrService.error(\"Invalid file type! Please upload file types: .xlxs\");\n          return;\n        }\n        if (file.size > NocFileUploadEnum.MAX_FILE_SIZE) {\n          this.toastrService.error(NocFileUploadEnum.INVAID_FILE_SIZE_ERROR);\n          return;\n        }\n        let reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = e => {};\n        this.billFile = file;\n        this.billFileName = file['name'];\n        this.docFileList[index] = this.billFile;\n        this.activityDataFA.controls.forEach(control => {\n          const group = control;\n          group.get('docName').patchValue(this.billFileName);\n          group.get('docSize').patchValue(this.getFileSizeWithUnit(file['size']));\n          if (this.action == 'update') {\n            this.fileCreateUpdate(group);\n          }\n        });\n      }\n    }\n    getFileSizeWithUnit(billFileSize) {\n      const fileSizeInKB = Math.round(billFileSize / 1024);\n      const fileSizeInMB = Math.round(fileSizeInKB / 1024);\n      const fileSizeInGB = Math.round(fileSizeInMB / 1024);\n      if (fileSizeInGB > 1) {\n        return fileSizeInGB + ' GB';\n      } else if (fileSizeInMB > 1) {\n        return fileSizeInMB + ' MB';\n      } else {\n        return fileSizeInKB + ' KB';\n      }\n    }\n    removeFile(index) {\n      this.activityDataFA.controls.forEach(group => {\n        group.get('docName').reset();\n        group.get('docSize').reset();\n        group.get('docPath').reset(null);\n        group.get('docID').reset();\n      });\n      this.docFileList[index] = null;\n      if (this.fileInputArr[index]) {\n        this.fileInputArr[index].nativeElement.value = null;\n      }\n    }\n    toFormData() {\n      const formData = new FormData();\n      formData.append('payload', this.billFile);\n      return formData;\n    }\n    fileCreateUpdate(formGroup) {\n      if (formGroup.get('docID').value == null) {\n        this.carbonDocumentController.createDocument(this.currentOrgID, formGroup.get('activityDataID').value, ActivityKeyIDEnum.PURCHASED_PRECURSOR, this.toFormData()).subscribe(response => {\n          this.file = response['response'];\n          this.updateFileFormControl(formGroup);\n        }, error => {\n          console.log(\"error in fileCreate -\", error);\n        });\n      } else {\n        this.carbonDocumentController.updateDocument(this.currentOrgID, formGroup.get('docID').value, this.toFormData()).subscribe(response => {\n          this.file = response['response'];\n          this.updateFileFormControl(formGroup);\n        }, error => {\n          console.log(\"error in fileUpdate -\", error);\n        });\n      }\n    }\n    updateFileFormControl(formGroup) {\n      formGroup.get('docID').patchValue(this.file.id);\n      formGroup.get('docName').patchValue(this.file.name);\n      formGroup.get('docPath').patchValue(this.file.path);\n    }\n    deleteConfirmation(formGroup, index) {\n      const dialogRef = this.dialog.open(TypeConfirmationDialog, {\n        minWidth: '650px',\n        maxWidth: '600px',\n        data: {\n          icon: 'delete',\n          header: 'Are you sure you want to delete ?',\n          body: '<p class = \"ps-1\"><strong class=\"pe-1\"> Note:</strong>This file will be deleted permanently and you won`t be able to track it`s progress.</p><span class=\"fw-bold ps-1\">Are you sure you want to delete?</span>',\n          confirmationInput: 'DELETE',\n          buttonOne: 'Cancel',\n          buttonTwo: 'Delete'\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.deleteDocument(formGroup.get('docID').value, index);\n        } else {\n          dialogRef.close();\n        }\n      });\n    }\n    deleteDocument(docID, index) {\n      this.carbonDocumentController.deleteDocument(this.currentOrgID, docID).subscribe(res => {\n        this.removeFile(index);\n      }, error => {\n        console.log(\"error in deleteDocument -\", error);\n      });\n    }\n  }\n  TotalAmountComponent.ɵfac = function TotalAmountComponent_Factory(t) {\n    return new (t || TotalAmountComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i4.CarbonDocumentController), i0.ɵɵdirectiveInject(i5.ProductAndServiceController), i0.ɵɵdirectiveInject(i6.UNLocationCodeService), i0.ɵɵdirectiveInject(i7.CurrencyService), i0.ɵɵdirectiveInject(i8.CountryService), i0.ɵɵdirectiveInject(i9.StorageService), i0.ɵɵdirectiveInject(i10.DateService), i0.ɵɵdirectiveInject(i11.UnitService), i0.ɵɵdirectiveInject(i12.ToastrService));\n  };\n  TotalAmountComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TotalAmountComponent,\n    selectors: [[\"app-total-amount\"]],\n    viewQuery: function TotalAmountComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.customDateInputs = _t);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fileInput = _t);\n      }\n    },\n    inputs: {\n      activityDataFG: \"activityDataFG\",\n      defaultDataCollectionMethodID: \"defaultDataCollectionMethodID\",\n      docFileList: \"docFileList\",\n      activityConfig: \"activityConfig\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 8,\n    vars: 2,\n    consts: [[1, \"cardOverwrite\", \"border\"], [1, \"cardTitle\", \"pb-2\"], [3, \"formGroup\"], [\"formArrayName\", \"activityDataDetails\"], [4, \"ngFor\", \"ngForOf\"], [\"docImg\", \"\"], [3, \"formGroupName\"], [1, \"row\"], [1, \"col-sm-8\", \"mb-3\"], [1, \"cardOverwrite\", \"border\", \"mb-2\"], [1, \"col-sm-6\"], [1, \"matFieldWidth100\", 3, \"appearance\"], [1, \"formLabel\"], [\"formControlName\", \"countryCode\", \"required\", \"\", 3, \"selectionChange\"], [\"placeholderLabel\", \"Search by country name\", 3, \"formControl\", \"noEntriesFoundLabel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"formGroupName\", \"cordinates\", 1, \"row\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"longitude\", \"required\", \"\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"latitude\", \"required\", \"\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"identifier\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"address\", \"required\", \"\"], [1, \"cursorPointer\", 3, \"materialFieldWidthInp\", \"materialFormFieldAppearanceInp\", \"isMandatoryFieldInp\", \"dateInputTypeInp\", \"labelInp\", \"cdrFormatInp\", \"emitFilter\"], [\"customDateInput\", \"\"], [\"matInput\", \"\", \"type\", \"text\", \"formControlName\", \"name\", \"required\", \"\"], [1, \"row\", \"mt-2\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", \"formControlName\", \"precursorDirectEmission\", \"required\", \"\"], [\"formControlName\", \"precursorDirectEmissionUnitID\", \"required\", \"\"], [\"placeholderLabel\", \"Search by unit name\", 3, \"formControl\", \"noEntriesFoundLabel\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", \"formControlName\", \"precursorIndirectEmission\", \"required\", \"\"], [\"formControlName\", \"precursorIndirectEmissionUnitID\", \"required\", \"\"], [1, \"row\", \"mb-2\"], [1, \"col-sm-12\"], [\"formControlName\", \"dueCarbonPrice\", \"required\", \"\", 3, \"change\"], [1, \"pt-2\", 3, \"value\"], [\"class\", \"mt-2\", 4, \"ngIf\"], [\"class\", \"mt-2 cardOverwrite border\", 4, \"ngIf\"], [3, \"value\"], [1, \"d-flex\", \"justify-content-between\"], [\"formControlName\", \"unlCode\", \"required\", \"\", 3, \"selectionChange\"], [\"placeholderLabel\", \"Search by UN location code\", 3, \"formControl\", \"noEntriesFoundLabel\"], [\"formControlName\", \"standardPRID\"], [\"placeholderLabel\", \"Search by production route name\", \"noEntriesFoundLabel\", \"COMMON_CONSTANT.NO_MATCH_FOUND\", 3, \"formControl\"], [1, \"col-sm-8\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [\"formArrayName\", \"sectorSpecificParameter\"], [1, \"mt-3\"], [\"class\", \"row\", 4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"value\", \"oninput\", \"this.value >= 0 ? null : this.value=0\", \"required\", \"\", 4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"value\", \"required\", \"\", 4, \"ngIf\"], [\"matInput\", \"\", \"formControlName\", \"value\", \"oninput\", \"this.value >= 0 ? null : this.value=0\", \"required\", \"\"], [\"matInput\", \"\", \"formControlName\", \"value\", \"required\", \"\"], [1, \"radioBtnGroupLabel\"], [\"formControlName\", \"value\"], [1, \"row\", \"my-2\"], [\"value\", \"YES\", 1, \"radioBtnLabel\"], [\"value\", \"NO\", 1, \"radioBtnLabel\"], [1, \"mt-2\"], [1, \"mt-2\", \"cardOverwrite\", \"border\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", \"formControlName\", \"dueCarbonPriceEmission\", \"required\", \"\"], [1, \"col-sm-1\", \"pt-3\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"infoTooltip\", \"matTooltip\", \"Please enter here the share of the TOTAL (direct + indirect) specific emissions that are subject to carbon pricing. For instance, if only direct emissions are covered by a carbon pricing system, the share to be provided here would be exactly the share of the direct emissions of the total emissions.\", 1, \"material-symbols-outlined\", \"fs-4\", \"cursorPointer\"], [\"formControlName\", \"dueCarbonPriceEmissionUnitID\", \"required\", \"\"], [\"formControlName\", \"currencyID\", \"required\", \"\"], [\"placeholderLabel\", \"Search by currency name\", 3, \"formControl\", \"noEntriesFoundLabel\"], [\"matInput\", \"\", \"type\", \"number\", \"min\", \"0\", \"formControlName\", \"dueCarbonPriceValue\", \"required\", \"\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"infoTooltip\", \"matTooltip\", \"Please enter here the carbon price due per tonne of CO2e in the relevant currency. This value shall not include any rebate such as free allocation or financial compensation. It shall also not include any carbon price due for any precursors outside the production process to avoid double counting.\", 1, \"material-symbols-outlined\", \"fs-4\", \"cursorPointer\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"rebate\", \"min\", \"0\", \"required\", \"\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"infoTooltip\", \"matTooltip\", \"Please enter here the rebate per tonne of CO2e covered by the rebate in the relevant currency. It shall also not include any rebate for any precursors outside the production process to avoid double counting.\", 1, \"material-symbols-outlined\", \"fs-4\", \"cursorPointer\"], [1, \"row\", \"pt-2\"], [1, \"col-sm-8\", \"fileInput\"], [\"type\", \"file\", \"accept\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", 1, \"form-control\", 3, \"change\"], [\"fileInput\", \"\"], [1, \"col-sm-4\"], [1, \"centerAlign\", \"mt-2\"], [1, \"material-symbols-outlined\", \"fs-2\"], [\"download\", \"\", 1, \"ms-2\", 3, \"href\"], [1, \"border\", \"rounded\", \"d-flex\", 3, \"ngClass\"], [1, \"p-1\"], [4, \"ngTemplateOutlet\"], [1, \"centerAlignVertical\", \"p-1\"], [1, \"ms-auto\", \"p-1\"], [\"type\", \"button\", \"mat-icon-button\", \"\", 1, \"btn\", \"p-1\", 3, \"click\"], [1, \"material-symbols-outlined\", \"text-danger\"], [1, \"border\", \"rounded\", \"d-flex\"], [1, \"centerAlignVertical\", \"p-3\"], [\"target\", \"_blank\", 3, \"href\", \"ngClass\"], [\"type\", \"button\", \"mat-icon-button\", \"\", \"matTooltip\", \"Edit\", \"matTooltipClass\", \"nameTooltip\", \"matTooltipPosition\", \"below\", 1, \"btn\", \"p-1\", 3, \"click\"], [1, \"material-symbols-outlined\", \"text-primary\", \"updateIconHover\", \"fs-5\"], [\"type\", \"file\", \"accept\", \"application/pdf\", 1, \"form-control\", 2, \"display\", \"none\", 3, \"change\"], [\"type\", \"button\", \"mat-icon-button\", \"\", \"matTooltip\", \"Delete\", \"matTooltipClass\", \"nameTooltip\", \"matTooltipPosition\", \"below\", 1, \"btn\", \"p-1\", 3, \"click\"], [\"matSuffix\", \"\", \"mat-icon-button\", \"\", \"mat-raised-button\", \"\", \"matTooltipPosition\", \"below\", 1, \"docIcon\", \"p-1\", 3, \"matTooltip\"], [\"height\", \"40px\", \"src\", \"assets/images/default-doc.ico\", \"alt\", \"bill document preview\"]],\n    template: function TotalAmountComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2, \" Activity Data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵelementContainerStart(4, 3);\n        i0.ɵɵtemplate(5, TotalAmountComponent_ng_container_5_Template, 120, 56, \"ng-container\", 4);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, TotalAmountComponent_ng_template_6_Template, 3, 1, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.activityDataFG);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.activityDataFA.controls);\n      }\n    },\n    directives: [i13.MatCard, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormArrayName, i14.NgForOf, i1.FormGroupName, i15.MatFormField, i15.MatLabel, i16.MatSelect, i1.NgControlStatus, i1.FormControlName, i1.RequiredValidator, i17.MatOption, i18.MatSelectSearchComponent, i1.FormControlDirective, i14.NgIf, i19.MatInput, i1.DefaultValueAccessor, i10.DateInputComponent, i1.MinValidator, i1.NumberValueAccessor, i20.MatRadioGroup, i20.MatRadioButton, i15.MatError, i21.MatTooltip, i14.NgClass, i14.NgTemplateOutlet, i15.MatSuffix],\n    pipes: [i14.AsyncPipe],\n    encapsulation: 2\n  });\n  return TotalAmountComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}