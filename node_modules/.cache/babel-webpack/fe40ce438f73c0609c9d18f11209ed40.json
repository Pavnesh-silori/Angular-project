{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { EventEmitter } from '@angular/core';\nimport { FormArray, Validators } from '@angular/forms';\nimport { forkJoin } from 'rxjs';\nimport * as moment from 'moment';\nimport { CARBON_CONSTANT } from '@carbon/constant/carbon.constant';\nimport { ActivityKeyIDEnum } from '@carbon/enum/activity.enum';\n// tsc-library/\nimport { FormErrorEnum, InvalidForm, MatSelectSearchService, MaterialFormFieldAppearance, NocFileUploadEnum, TypeConfirmationDialog } from '@library/tsc-common';\nimport { ToastrColor } from '@library/toastr-service';\nimport { UnitTypeKeyID } from '@library/unit-service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@library/unit-service\";\nimport * as i5 from \"@carbon/service/currency.service\";\nimport * as i6 from \"@carbon/service/fuel.service\";\nimport * as i7 from \"@library/storage-service\";\nimport * as i8 from \"@library/toastr-service\";\nimport * as i9 from \"@carbon/controller/document.controller\";\nimport * as i10 from \"@angular/material/card\";\nimport * as i11 from \"@angular/common\";\nimport * as i12 from \"@angular/material/slide-toggle\";\nimport * as i13 from \"@angular/material/form-field\";\nimport * as i14 from \"@angular/material/select\";\nimport * as i15 from \"@angular/material/core\";\nimport * as i16 from \"ngx-mat-select-search\";\nimport * as i17 from \"@angular/material/input\";\nimport * as i18 from \"ngx-daterangepicker-material\";\nimport * as i19 from \"@angular/material/button\";\nimport * as i20 from \"@angular/material/tooltip\";\nconst _c0 = [\"fileInput\"];\nfunction PriceDistanceTravelledComponent_div_4_div_6_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵelementStart(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r9.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", unit_r9.name, \" - \", unit_r9.uomCode, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 14);\n    i0.ɵɵelementStart(2, \"mat-label\", 15);\n    i0.ɵɵtext(3, \"Select unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 16);\n    i0.ɵɵlistener(\"selectionChange\", function PriceDistanceTravelledComponent_div_4_div_6_Template_mat_select_selectionChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.selectedvalue($event.value, \"distanceUnit\");\n    });\n    i0.ɵɵtemplate(5, PriceDistanceTravelledComponent_div_4_div_6_mat_option_5_Template, 3, 3, \"mat-option\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-error\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appearance\", ctx_r4.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.distanceUnitlist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_div_10_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵelementStart(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r13.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", unit_r13.name, \" - \", unit_r13.uomCode, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 14);\n    i0.ɵɵelementStart(2, \"mat-label\", 15);\n    i0.ɵɵtext(3, \"Select numerator\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 16);\n    i0.ɵɵlistener(\"selectionChange\", function PriceDistanceTravelledComponent_div_4_div_10_Template_mat_select_selectionChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.selectedvalue($event.value, \"milageNumerator\");\n    });\n    i0.ɵɵtemplate(5, PriceDistanceTravelledComponent_div_4_div_10_mat_option_5_Template, 3, 3, \"mat-option\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-error\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appearance\", ctx_r5.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.distanceUnitlist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_div_14_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵelementStart(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r17.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", unit_r17.name, \" - \", unit_r17.uomCode, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 14);\n    i0.ɵɵelementStart(2, \"mat-label\", 15);\n    i0.ɵɵtext(3, \"Select denominator\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 16);\n    i0.ɵɵlistener(\"selectionChange\", function PriceDistanceTravelledComponent_div_4_div_14_Template_mat_select_selectionChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.selectedvalue($event.value, \"milageDenumerator\");\n    });\n    i0.ɵɵtemplate(5, PriceDistanceTravelledComponent_div_4_div_14_mat_option_5_Template, 3, 3, \"mat-option\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-error\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appearance\", ctx_r6.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.volumnUnitList);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_div_18_mat_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currency_r21 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", currency_r21.currencyID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", currency_r21.currencyName, \" - \", currency_r21.currencySymbol, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 14);\n    i0.ɵɵelementStart(2, \"mat-label\", 15);\n    i0.ɵɵtext(3, \"Select unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 16);\n    i0.ɵɵlistener(\"selectionChange\", function PriceDistanceTravelledComponent_div_4_div_18_Template_mat_select_selectionChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return ctx_r22.selectedvalue($event.value, \"currency\");\n    });\n    i0.ɵɵelementStart(5, \"mat-option\");\n    i0.ɵɵelement(6, \"ngx-mat-select-search\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, PriceDistanceTravelledComponent_div_4_div_18_mat_option_7_Template, 2, 3, \"mat-option\", 17);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"mat-error\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appearance\", ctx_r7.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r7.currencyTypeSearchUtil.filterFC);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(8, 4, ctx_r7.currencyTypeSearchUtil.filteredEntities));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"mat-card\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵtext(4, \" Select distance travelled unit \");\n    i0.ɵɵelementStart(5, \"mat-slide-toggle\", 10);\n    i0.ɵɵlistener(\"change\", function PriceDistanceTravelledComponent_div_4_Template_mat_slide_toggle_change_5_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.toggleFlag($event.checked, \"distanceFlag\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, PriceDistanceTravelledComponent_div_4_div_6_Template, 8, 3, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 9);\n    i0.ɵɵtext(8, \" Select numerator for mileage \");\n    i0.ɵɵelementStart(9, \"mat-slide-toggle\", 10);\n    i0.ɵɵlistener(\"change\", function PriceDistanceTravelledComponent_div_4_Template_mat_slide_toggle_change_9_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.toggleFlag($event.checked, \"milageNumFlag\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, PriceDistanceTravelledComponent_div_4_div_10_Template, 8, 3, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 9);\n    i0.ɵɵtext(12, \" Select denominator for mileage \");\n    i0.ɵɵelementStart(13, \"mat-slide-toggle\", 12);\n    i0.ɵɵlistener(\"change\", function PriceDistanceTravelledComponent_div_4_Template_mat_slide_toggle_change_13_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.toggleFlag($event.checked, \"milagedenumFlag\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, PriceDistanceTravelledComponent_div_4_div_14_Template, 8, 3, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 9);\n    i0.ɵɵtext(16, \" Select currency\");\n    i0.ɵɵelementStart(17, \"mat-slide-toggle\", 10);\n    i0.ɵɵlistener(\"change\", function PriceDistanceTravelledComponent_div_4_Template_mat_slide_toggle_change_17_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.toggleFlag($event.checked, \"currencyFlag\");\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, PriceDistanceTravelledComponent_div_4_div_18_Template, 11, 6, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.distanceFlag);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.milageNumFlag);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.milagedenumFlag);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currencyFlag);\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵtext(1, \" Vehicle Name: \");\n    i0.ɵɵelementStart(2, \"span\", 1);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r30 = i0.ɵɵnextContext().index;\n    const ctx_r31 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r31.dataSource.length > 0 ? ctx_r31.dataSource[i_r30].name : ctx_r31.vehicleName, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r50 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r50.fuelSourceID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", unit_r50.fuelSourceName, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Amount can't be negative. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r34.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_option_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currency_r51 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", currency_r51.currencyID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", currency_r51.currencyName, \" - \", currency_r51.currencySymbol, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Amount can't be negative. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r37 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r37.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_option_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const currency_r52 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", currency_r52.currencyID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", currency_r52.currencyName, \" - \", currency_r52.currencySymbol, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_option_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵelementStart(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r53 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r53.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", unit_r53.name, \" - \", unit_r53.uomCode, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Distance can't be negative. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r41 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r41.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_option_84_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵelementStart(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r54 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r54.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", unit_r54.name, \" - \", unit_r54.uomCode, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_95_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Mileage can't be negative. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_error_96_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r44 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r44.FormErrorEnum.REQUIRED, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_option_102_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵelementStart(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r55 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r55.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", unit_r55.name, \" - \", unit_r55.uomCode, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_mat_option_110_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 18);\n    i0.ɵɵelementStart(1, \"span\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const unit_r56 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", unit_r56.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", unit_r56.name, \" - \", unit_r56.uomCode, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_ng_container_113_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"d-none\": a0\n  };\n};\nfunction PriceDistanceTravelledComponent_div_6_ng_container_113_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"div\", 42);\n    i0.ɵɵelementStart(3, \"input\", 43, 44);\n    i0.ɵɵlistener(\"change\", function PriceDistanceTravelledComponent_div_6_ng_container_113_Template_input_change_3_listener($event) {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext();\n      const formGroup_r29 = ctx_r60.$implicit;\n      const i_r30 = ctx_r60.index;\n      const ctx_r59 = i0.ɵɵnextContext();\n      return ctx_r59.fileUpload($event, formGroup_r29, i_r30);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 45);\n    i0.ɵɵelementStart(6, \"div\", 23);\n    i0.ɵɵelementStart(7, \"div\", 46);\n    i0.ɵɵelementStart(8, \"div\", 47);\n    i0.ɵɵtemplate(9, PriceDistanceTravelledComponent_div_6_ng_container_113_ng_container_9_Template, 1, 0, \"ng-container\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 47);\n    i0.ɵɵelementStart(11, \"div\", 49);\n    i0.ɵɵtext(12);\n    i0.ɵɵelement(13, \"br\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 50);\n    i0.ɵɵelementStart(16, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function PriceDistanceTravelledComponent_div_6_ng_container_113_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r63 = i0.ɵɵnextContext();\n      const formGroup_r29 = ctx_r63.$implicit;\n      const i_r30 = ctx_r63.index;\n      const ctx_r62 = i0.ɵɵnextContext();\n      return ctx_r62.removeFile(formGroup_r29, i_r30);\n    });\n    i0.ɵɵelementStart(17, \"span\", 52);\n    i0.ɵɵtext(18, \" delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r64 = i0.ɵɵnextContext();\n    const i_r30 = ctx_r64.index;\n    const formGroup_r29 = ctx_r64.$implicit;\n    const ctx_r47 = i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(8);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c1, ctx_r47.docFileList[i_r30] == null));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", formGroup_r29.get(\"docName\").value, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", formGroup_r29.get(\"docSize\").value, \" \");\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_ng_container_114_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction PriceDistanceTravelledComponent_div_6_ng_container_114_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r68 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 45);\n    i0.ɵɵelementStart(2, \"div\", 23);\n    i0.ɵɵelementStart(3, \"div\", 53);\n    i0.ɵɵtemplate(4, PriceDistanceTravelledComponent_div_6_ng_container_114_ng_container_4_Template, 1, 0, \"ng-container\", 48);\n    i0.ɵɵelementStart(5, \"div\", 47);\n    i0.ɵɵelementStart(6, \"div\", 54);\n    i0.ɵɵelementStart(7, \"a\", 55);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 50);\n    i0.ɵɵelementStart(10, \"button\", 56);\n    i0.ɵɵlistener(\"click\", function PriceDistanceTravelledComponent_div_6_ng_container_114_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r68);\n      const _r66 = i0.ɵɵreference(14);\n      return _r66.click();\n    });\n    i0.ɵɵelementStart(11, \"span\", 57);\n    i0.ɵɵtext(12, \" edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 58, 44);\n    i0.ɵɵlistener(\"change\", function PriceDistanceTravelledComponent_div_6_ng_container_114_Template_input_change_13_listener($event) {\n      i0.ɵɵrestoreView(_r68);\n      const ctx_r70 = i0.ɵɵnextContext();\n      const formGroup_r29 = ctx_r70.$implicit;\n      const i_r30 = ctx_r70.index;\n      const ctx_r69 = i0.ɵɵnextContext();\n      return ctx_r69.fileUpload($event, formGroup_r29, i_r30);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 59);\n    i0.ɵɵlistener(\"click\", function PriceDistanceTravelledComponent_div_6_ng_container_114_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r68);\n      const ctx_r72 = i0.ɵɵnextContext();\n      const formGroup_r29 = ctx_r72.$implicit;\n      const i_r30 = ctx_r72.index;\n      const ctx_r71 = i0.ɵɵnextContext();\n      return ctx_r71.deleteConfirmation(formGroup_r29, i_r30);\n    });\n    i0.ɵɵelementStart(16, \"span\", 52);\n    i0.ɵɵtext(17, \" delete \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const formGroup_r29 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(8);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", formGroup_r29.get(\"docPath\").value, i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c1, !formGroup_r29.get(\"docPath\").value));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", formGroup_r29.get(\"docName\").value, \" \");\n  }\n}\nconst _c2 = function () {\n  return {\n    direction: \"ltr\",\n    applyLabel: \"Apply\",\n    format: \"DD-MMM-YYYY\"\n  };\n};\nfunction PriceDistanceTravelledComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r75 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"mat-card\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtemplate(3, PriceDistanceTravelledComponent_div_6_div_3_Template, 4, 1, \"div\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 8);\n    i0.ɵɵelementStart(5, \"div\", 23);\n    i0.ɵɵelementStart(6, \"mat-form-field\", 24);\n    i0.ɵɵelementStart(7, \"mat-label\", 15);\n    i0.ɵɵtext(8, \"Accounting period\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"input\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function PriceDistanceTravelledComponent_div_6_Template_input_ngModelChange_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r75);\n      const i_r30 = restoredCtx.index;\n      const ctx_r74 = i0.ɵɵnextContext();\n      return ctx_r74.formatDate(i_r30);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 8);\n    i0.ɵɵelementStart(11, \"div\", 23);\n    i0.ɵɵelementStart(12, \"div\", 8);\n    i0.ɵɵelementStart(13, \"div\", 26);\n    i0.ɵɵelementStart(14, \"mat-form-field\", 27);\n    i0.ɵɵelementStart(15, \"mat-label\", 15);\n    i0.ɵɵtext(16, \"Fuel used\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"mat-select\", 28);\n    i0.ɵɵelementStart(18, \"mat-option\");\n    i0.ɵɵelement(19, \"ngx-mat-select-search\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, PriceDistanceTravelledComponent_div_6_mat_option_20_Template, 2, 2, \"mat-option\", 17);\n    i0.ɵɵpipe(21, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"mat-error\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 26);\n    i0.ɵɵelementStart(25, \"mat-form-field\", 27);\n    i0.ɵɵelementStart(26, \"mat-label\", 15);\n    i0.ɵɵtext(27, \"Bill amount\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"input\", 30);\n    i0.ɵɵtemplate(29, PriceDistanceTravelledComponent_div_6_mat_error_29_Template, 2, 0, \"mat-error\", 3);\n    i0.ɵɵtemplate(30, PriceDistanceTravelledComponent_div_6_mat_error_30_Template, 2, 1, \"mat-error\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 26);\n    i0.ɵɵelementStart(32, \"mat-form-field\", 24);\n    i0.ɵɵelementStart(33, \"mat-label\", 15);\n    i0.ɵɵtext(34, \"Select currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"mat-select\", 31);\n    i0.ɵɵelementStart(36, \"mat-option\");\n    i0.ɵɵelement(37, \"ngx-mat-select-search\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(38, PriceDistanceTravelledComponent_div_6_mat_option_38_Template, 2, 3, \"mat-option\", 17);\n    i0.ɵɵpipe(39, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"mat-error\");\n    i0.ɵɵtext(41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 8);\n    i0.ɵɵelementStart(43, \"div\", 23);\n    i0.ɵɵelementStart(44, \"div\", 8);\n    i0.ɵɵelementStart(45, \"div\", 26);\n    i0.ɵɵelementStart(46, \"mat-form-field\", 27);\n    i0.ɵɵelementStart(47, \"mat-label\", 15);\n    i0.ɵɵtext(48, \"Fuel rate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(49, \"input\", 32);\n    i0.ɵɵtemplate(50, PriceDistanceTravelledComponent_div_6_mat_error_50_Template, 2, 0, \"mat-error\", 3);\n    i0.ɵɵtemplate(51, PriceDistanceTravelledComponent_div_6_mat_error_51_Template, 2, 1, \"mat-error\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"div\", 26);\n    i0.ɵɵelementStart(53, \"mat-form-field\", 24);\n    i0.ɵɵelementStart(54, \"mat-label\", 15);\n    i0.ɵɵtext(55, \"Select Numerator\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"mat-select\", 33);\n    i0.ɵɵelementStart(57, \"mat-option\");\n    i0.ɵɵelement(58, \"ngx-mat-select-search\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(59, PriceDistanceTravelledComponent_div_6_mat_option_59_Template, 2, 3, \"mat-option\", 17);\n    i0.ɵɵpipe(60, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"mat-error\");\n    i0.ɵɵtext(62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"div\", 26);\n    i0.ɵɵelementStart(64, \"mat-form-field\", 27);\n    i0.ɵɵelementStart(65, \"mat-label\", 15);\n    i0.ɵɵtext(66, \"Select Denominator\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"mat-select\", 34);\n    i0.ɵɵtemplate(68, PriceDistanceTravelledComponent_div_6_mat_option_68_Template, 3, 3, \"mat-option\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"mat-error\");\n    i0.ɵɵtext(70);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"div\", 8);\n    i0.ɵɵelementStart(72, \"div\", 26);\n    i0.ɵɵelementStart(73, \"mat-form-field\", 35);\n    i0.ɵɵelementStart(74, \"mat-label\", 15);\n    i0.ɵɵtext(75, \"Distance travelled\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(76, \"input\", 36);\n    i0.ɵɵtemplate(77, PriceDistanceTravelledComponent_div_6_mat_error_77_Template, 2, 0, \"mat-error\", 3);\n    i0.ɵɵtemplate(78, PriceDistanceTravelledComponent_div_6_mat_error_78_Template, 2, 1, \"mat-error\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(79, \"div\", 26);\n    i0.ɵɵelementStart(80, \"mat-form-field\", 35);\n    i0.ɵɵelementStart(81, \"mat-label\", 15);\n    i0.ɵɵtext(82, \"Select unit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(83, \"mat-select\", 37);\n    i0.ɵɵtemplate(84, PriceDistanceTravelledComponent_div_6_mat_option_84_Template, 3, 3, \"mat-option\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(85, \"mat-error\");\n    i0.ɵɵtext(86);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(87, \"div\", 8);\n    i0.ɵɵelementStart(88, \"div\", 23);\n    i0.ɵɵelementStart(89, \"div\", 8);\n    i0.ɵɵelementStart(90, \"div\", 26);\n    i0.ɵɵelementStart(91, \"mat-form-field\", 35);\n    i0.ɵɵelementStart(92, \"mat-label\", 15);\n    i0.ɵɵtext(93, \"Mileage\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(94, \"input\", 38);\n    i0.ɵɵtemplate(95, PriceDistanceTravelledComponent_div_6_mat_error_95_Template, 2, 0, \"mat-error\", 3);\n    i0.ɵɵtemplate(96, PriceDistanceTravelledComponent_div_6_mat_error_96_Template, 2, 1, \"mat-error\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(97, \"div\", 26);\n    i0.ɵɵelementStart(98, \"mat-form-field\", 35);\n    i0.ɵɵelementStart(99, \"mat-label\", 15);\n    i0.ɵɵtext(100, \"Select numerator\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(101, \"mat-select\", 39);\n    i0.ɵɵtemplate(102, PriceDistanceTravelledComponent_div_6_mat_option_102_Template, 3, 3, \"mat-option\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(103, \"mat-error\");\n    i0.ɵɵtext(104);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(105, \"div\", 26);\n    i0.ɵɵelementStart(106, \"mat-form-field\", 35);\n    i0.ɵɵelementStart(107, \"mat-label\", 15);\n    i0.ɵɵtext(108, \"Select denominator\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(109, \"mat-select\", 40);\n    i0.ɵɵtemplate(110, PriceDistanceTravelledComponent_div_6_mat_option_110_Template, 3, 3, \"mat-option\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(111, \"mat-error\");\n    i0.ɵɵtext(112);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(113, PriceDistanceTravelledComponent_div_6_ng_container_113_Template, 19, 6, \"ng-container\", 3);\n    i0.ɵɵtemplate(114, PriceDistanceTravelledComponent_div_6_ng_container_114_Template, 18, 6, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const formGroup_r29 = ctx.$implicit;\n    const i_r30 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroupName\", i_r30);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isSource);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"locale\", i0.ɵɵpureFunction0(54, _c2))(\"drops\", \"down\")(\"opens\", \"right\")(\"alwaysShowCalendars\", true)(\"keepCalendarOpeningWithRange\", true)(\"showDropdowns\", true)(\"showCancel\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.fuelTypeSearchUtil.filterFC);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(21, 48, ctx_r1.fuelTypeSearchUtil.filteredEntities));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.FormErrorEnum.REQUIRED, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"billAmount\").hasError(\"min\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"billAmount\").hasError(\"required\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.currencyTypeSearchUtil.filterFC);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(39, 50, ctx_r1.currencyTypeSearchUtil.filteredEntities));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.FormErrorEnum.REQUIRED, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"fuelRate\").hasError(\"min\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"fuelRate\").hasError(\"required\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.currencyTypeSearchUtil.filterFC);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(60, 52, ctx_r1.currencyTypeSearchUtil.filteredEntities));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.FormErrorEnum.REQUIRED, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.volumnUnitList);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.FormErrorEnum.REQUIRED, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"distanceTravelled\").hasError(\"min\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"distanceTravelled\").hasError(\"required\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.distanceUnitlist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.FormErrorEnum.REQUIRED, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"mileage\").hasError(\"min\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"mileage\").hasError(\"required\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.distanceUnitlist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.FormErrorEnum.REQUIRED, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"appearance\", ctx_r1.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.volumnUnitList);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.FormErrorEnum.REQUIRED, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"docPath\").value == null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", formGroup_r29.get(\"docPath\").value != null);\n  }\n}\nfunction PriceDistanceTravelledComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵelementStart(1, \"div\", 60);\n    i0.ɵɵelement(2, \"img\", 61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", ctx_r3.billFileName);\n  }\n}\n// tsc-library.\nexport let PriceDistanceTravelledComponent = /*#__PURE__*/(() => {\n  class PriceDistanceTravelledComponent {\n    constructor(dialog, formBuilder, activatedRoute, unitService, currencyService, fuelService, storageService, toastrService, carbonDocumentController) {\n      this.dialog = dialog;\n      this.formBuilder = formBuilder;\n      this.activatedRoute = activatedRoute;\n      this.unitService = unitService;\n      this.currencyService = currencyService;\n      this.fuelService = fuelService;\n      this.storageService = storageService;\n      this.toastrService = toastrService;\n      this.carbonDocumentController = carbonDocumentController;\n      this.allVechile = [];\n      this.docUploadChange = new EventEmitter();\n      this.formGroupChange = new EventEmitter();\n      this.CARBON_CONSTANT = CARBON_CONSTANT;\n      this.MaterialFormFieldAppearance = MaterialFormFieldAppearance;\n      this.FormErrorEnum = FormErrorEnum;\n      this.noOfVeh = 0;\n      this.action = 'create';\n      this.currencyFlag = false;\n      this.distanceFlag = false;\n      this.milageNumFlag = false;\n      this.milagedenumFlag = false;\n      this.submit = false;\n      this.filled = false;\n      this.isSource = false;\n      this.isEqual = true;\n      this.dataSource = [];\n      this.sourceTypeArray = [];\n      this.unitM = [];\n      this.massUnitList = [];\n      this.fuelUnitList = [];\n      this.distanceUnitlist = [];\n      this.volumnUnitList = [];\n      this.unitIdList = [];\n      this.currencyList = [];\n      this.billFile = null;\n      this.fuelTypeSearchUtil = new MatSelectSearchService(['fuelSourceName']);\n      this.currencyTypeSearchUtil = new MatSelectSearchService(['currencyName']);\n      this.fileInputArr = [];\n    }\n    ngOnChanges() {\n      this.activatedRoute.queryParams.subscribe(queryParam => {\n        this.action = queryParam.action;\n      });\n      this.vechileTypeID = this.activityConfig.activityConfigData.vehicleTypeID;\n      this.activityDataInit();\n      this.getConfiguration(this.activityConfig);\n    }\n    ngOnInit() {\n      this.vechileTypeID = this.activityConfig.activityConfigData.vehicleTypeID;\n      this.currentOrgID = this.storageService.getStorage('currentOrgID');\n      this.getUnitList();\n      this.getCurrency();\n    }\n    activityDataInit() {\n      this.activityDataFG = this.formBuilder.group({\n        activityDataDetails: this.formBuilder.array([])\n      });\n      this.addFormControls();\n    }\n    get activityDataDetailsFA() {\n      return this.activityDataFG.get('activityDataDetails');\n    }\n    toggleFlag(checked, flag) {\n      switch (flag) {\n        case 'currencyFlag':\n          this.currencyFlag = checked;\n          break;\n        case 'distanceFlag':\n          this.distanceFlag = checked;\n          break;\n        case 'milageNumFlag':\n          this.milageNumFlag = checked;\n          break;\n        case 'milagedenumFlag':\n          this.milagedenumFlag = checked;\n          break;\n        default:\n      }\n    }\n    selectedvalue(value, dropdownType) {\n      switch (dropdownType) {\n        case 'currency':\n          this.currency = value;\n        case 'distanceUnit':\n          this.distanceUnit = value;\n          break;\n        case 'milageNumerator':\n          this.milageNum = value;\n          break;\n        case 'milageDenumerator':\n          this.milageDenum = value;\n          break;\n      }\n      this.updateFormControls();\n    }\n    updateFormControls() {\n      this.activityDataDetailsFA.controls.forEach(formGroup => {\n        if (this.currency) {\n          formGroup.get('billCurrencyID').setValue(this.currency);\n        }\n        if (this.distanceUnit) {\n          formGroup.get('distanceTravelledUnitID').setValue(this.distanceUnit);\n        }\n        if (this.milageNum) {\n          formGroup.get('mileageNumeratorUnitID').setValue(this.milageNum);\n        }\n        if (this.milageDenum) {\n          formGroup.get('mileageDenominatorUnitID').setValue(this.milageDenum);\n        }\n      });\n    }\n    addFormControls() {\n      this.activityDataDetailsFA.clear();\n      this.dataSource.forEach(ds => {\n        var _a, _b, _c;\n        let name = \"\";\n        this.sourceTypeArray.forEach(res => {\n          if (ds.id == res.id) {\n            name = res.name;\n          }\n        });\n        const formGroup = this.formBuilder.group({\n          recordID: [],\n          sourceTypeID: this.activityConfig.activityConfigSource.sourceTypeID,\n          sourceID: [ds.id],\n          dateRange: [],\n          startDate: [],\n          endDate: [],\n          fuelTypeID: [],\n          billAmount: [],\n          billCurrencyID: [],\n          fuelRate: [],\n          fuelRateNumeratorUnitID: [],\n          fuelRateDenominatorUnitID: [],\n          distanceTravelled: [],\n          distanceTravelledUnitID: [],\n          mileage: [],\n          mileageNumeratorUnitID: [],\n          mileageDenominatorUnitID: [],\n          docID: [],\n          docType: [],\n          docName: [],\n          docSize: [],\n          docPath: [],\n          activityID: this.activityID,\n          activityDataID: []\n        });\n        (_a = formGroup.get('billCurrencyID')) === null || _a === void 0 ? void 0 : _a.valueChanges.subscribe(value => {\n          var _a;\n          (_a = formGroup.get('fuelRateNumeratorUnitID')) === null || _a === void 0 ? void 0 : _a.setValue(value);\n        });\n        const initialBillCurrencyID = (_b = formGroup.get('billCurrencyID')) === null || _b === void 0 ? void 0 : _b.value;\n        if (initialBillCurrencyID) {\n          (_c = formGroup.get('fuelRateNumeratorUnitID')) === null || _c === void 0 ? void 0 : _c.setValue(initialBillCurrencyID);\n        }\n        this.activityDataDetailsFA.push(formGroup);\n      });\n      this.updateValidators();\n    }\n    updateValidators() {\n      this.currentFormArr = this.activityDataFG.get('activityDataDetails');\n      for (let i = 0; i < this.currentFormArr.controls.length; ++i) {\n        let item = this.currentFormArr.controls[i];\n        this.removeValidators(item);\n        item.valueChanges.subscribe(() => {\n          this.removeValidators(item);\n          this.isFormFilled(item);\n          this.submit = false;\n          if (this.filled) {\n            this.submit = true;\n            this.addValidators(item);\n          }\n          this.filled = false;\n        });\n      }\n      this.formGroupChange.emit(this.activityDataFG);\n    }\n    isFormFilled(formGroup) {\n      if (formGroup.get('dateRange').value != null) this.filled = true;\n      if (formGroup.get('billAmount').value != null) this.filled = true;\n      if (formGroup.get('billCurrencyID').value != null) this.filled = true;\n      if (formGroup.get('fuelTypeID').value != null) this.filled = true;\n      if (formGroup.get('fuelRate').value != null) this.filled = true;\n      if (formGroup.get('fuelRateNumeratorUnitID').value != null) this.filled = true;\n      if (formGroup.get('fuelRateDenominatorUnitID').value != null) this.filled = true;\n      if (formGroup.get('distanceTravelled').value != null) this.filled = true;\n      if (formGroup.get('distanceTravelledUnitID').value != null) this.filled = true;\n      if (formGroup.get('mileage').value != null) this.filled = true;\n      if (formGroup.get('mileageNumeratorUnitID').value != null) this.filled = true;\n      if (formGroup.get('mileageDenominatorUnitID').value != null) this.filled = true;\n    }\n    addValidators(formGroup) {\n      formGroup.get('dateRange').addValidators([Validators.required]);\n      formGroup.get('billAmount').addValidators([Validators.required, Validators.min(0)]);\n      formGroup.get('billCurrencyID').addValidators([Validators.required]);\n      formGroup.get('fuelTypeID').addValidators([Validators.required]);\n      formGroup.get('fuelRate').addValidators([Validators.required, Validators.min(0)]);\n      formGroup.get('fuelRateNumeratorUnitID').addValidators([Validators.required]);\n      formGroup.get('fuelRateDenominatorUnitID').addValidators([Validators.required]);\n      formGroup.get('distanceTravelled').addValidators([Validators.required, Validators.min(0)]);\n      formGroup.get('distanceTravelledUnitID').addValidators([Validators.required]);\n      formGroup.get('mileage').addValidators([Validators.required, Validators.min(0)]);\n      formGroup.get('mileageNumeratorUnitID').addValidators([Validators.required]);\n      formGroup.get('mileageDenominatorUnitID').addValidators([Validators.required]);\n      const fuelRate = formGroup.get('fuelRate').value;\n      const distanceTravelled = formGroup.get('distanceTravelled').value;\n      const mileage = formGroup.get('mileage').value;\n      const billAmount = formGroup.get('billAmount').value;\n      if (fuelRate != null && distanceTravelled != null) {\n        formGroup.get('mileage').clearValidators();\n        formGroup.get('mileageNumeratorUnitID').clearValidators();\n        formGroup.get('mileageDenominatorUnitID').clearValidators();\n        formGroup.get('billAmount').clearValidators();\n        formGroup.get('billCurrencyID').clearValidators();\n      } else if (distanceTravelled != null && mileage != null) {\n        formGroup.get('billAmount').clearValidators();\n        formGroup.get('billCurrencyID').clearValidators();\n        formGroup.get('fuelRate').clearValidators();\n        formGroup.get('fuelRateNumeratorUnitID').clearValidators();\n        formGroup.get('fuelRateDenominatorUnitID').clearValidators();\n      } else if (billAmount != null && fuelRate != null && distanceTravelled != null) {\n        formGroup.get('mileage').clearValidators();\n        formGroup.get('mileageNumeratorUnitID').clearValidators();\n        formGroup.get('mileageDenominatorUnitID').clearValidators();\n      } else if (billAmount != null && fuelRate != null && mileage != null) {\n        formGroup.get('distanceTravelled').clearValidators();\n        formGroup.get('distanceTravelledUnitID').clearValidators();\n      }\n      this.updateValueAndValidity(formGroup);\n    }\n    removeValidators(formGroup) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n      (_a = formGroup.get('dateRange')) === null || _a === void 0 ? void 0 : _a.clearValidators();\n      (_b = formGroup.get('fuelTypeID')) === null || _b === void 0 ? void 0 : _b.clearValidators();\n      (_c = formGroup.get('billAmount')) === null || _c === void 0 ? void 0 : _c.clearValidators();\n      (_d = formGroup.get('billCurrencyID')) === null || _d === void 0 ? void 0 : _d.clearValidators();\n      (_e = formGroup.get('fuelRate')) === null || _e === void 0 ? void 0 : _e.clearValidators();\n      (_f = formGroup.get('fuelRateNumeratorUnitID')) === null || _f === void 0 ? void 0 : _f.clearValidators();\n      (_g = formGroup.get('fuelRateDenominatorUnitID')) === null || _g === void 0 ? void 0 : _g.clearValidators();\n      (_h = formGroup.get('distanceTravelled')) === null || _h === void 0 ? void 0 : _h.clearValidators();\n      (_j = formGroup.get('distanceTravelledUnitID')) === null || _j === void 0 ? void 0 : _j.clearValidators();\n      (_k = formGroup.get('mileage')) === null || _k === void 0 ? void 0 : _k.clearValidators();\n      (_l = formGroup.get('mileageNumeratorUnitID')) === null || _l === void 0 ? void 0 : _l.clearValidators();\n      (_m = formGroup.get('mileageDenominatorUnitID')) === null || _m === void 0 ? void 0 : _m.clearValidators();\n      this.updateValueAndValidity(formGroup);\n    }\n    updateValueAndValidity(formGroup) {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n      (_a = formGroup.get('dateRange')) === null || _a === void 0 ? void 0 : _a.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_b = formGroup.get('fuelTypeID')) === null || _b === void 0 ? void 0 : _b.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_c = formGroup.get('billAmount')) === null || _c === void 0 ? void 0 : _c.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_d = formGroup.get('billCurrencyID')) === null || _d === void 0 ? void 0 : _d.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_e = formGroup.get('fuelRate')) === null || _e === void 0 ? void 0 : _e.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_f = formGroup.get('fuelRateNumeratorUnitID')) === null || _f === void 0 ? void 0 : _f.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_g = formGroup.get('fuelRateDenominatorUnitID')) === null || _g === void 0 ? void 0 : _g.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_h = formGroup.get('distanceTravelled')) === null || _h === void 0 ? void 0 : _h.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_j = formGroup.get('distanceTravelledUnitID')) === null || _j === void 0 ? void 0 : _j.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_k = formGroup.get('mileage')) === null || _k === void 0 ? void 0 : _k.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_l = formGroup.get('mileageNumeratorUnitID')) === null || _l === void 0 ? void 0 : _l.updateValueAndValidity({\n        emitEvent: false\n      });\n      (_m = formGroup.get('mileageDenominatorUnitID')) === null || _m === void 0 ? void 0 : _m.updateValueAndValidity({\n        emitEvent: false\n      });\n    }\n    getConfiguration(configuration) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.noOfVeh = configuration.activityConfigSource.sourceID.length;\n        if (this.action == 'create') {\n          const sourceID = configuration.activityConfigSource.sourceID;\n          if (sourceID != null && sourceID.length > 0) {\n            this.isSource = true;\n            this.dataSource = [];\n            sourceID.forEach(res => {\n              const vehicle = this.allVechile.find(item => item.id == res);\n              this.dataSource.push({\n                id: res,\n                name: vehicle.vehicleName\n              });\n            });\n          } else {\n            this.isSource = false;\n          }\n          this.dataSourceLength = 0;\n          this.addFormControls();\n        }\n      });\n    }\n    patchData() {\n      var _a, _b, _c, _d, _e, _f, _g, _h;\n      this.activityDataDetailsFA.push(this.formBuilder.group({\n        recordID: this.activityData.recordID,\n        sourceTypeID: this.activityData.sourceTypeID,\n        sourceID: this.activityData.sourceID,\n        startDate: this.activityData.startDate,\n        endDate: this.activityData.endDate,\n        dateRange: {\n          startDate: moment(this.activityData['startDate']),\n          endDate: moment(this.activityData['endDate'])\n        },\n        fuelTypeID: this.activityData.fuelTypeID,\n        billAmount: this.activityData.billAmount,\n        billCurrencyID: this.activityData.billCurrencyID,\n        fuelRate: this.activityData.fuelRate,\n        fuelRateNumeratorUnitID: this.activityData.fuelRateNumeratorUnitID,\n        fuelRateDenominatorUnitID: this.activityData.fuelRateDenominatorUnitID,\n        distanceTravelled: this.activityData.distanceTravelled,\n        distanceTravelledUnitID: this.activityData.distanceTravelledUnitID,\n        mileage: this.activityData.mileage,\n        mileageNumeratorUnitID: this.activityData.mileageNumeratorUnitID,\n        mileageDenominatorUnitID: this.activityData.mileageDenominatorUnitID,\n        docID: [(_b = (_a = this.activityData) === null || _a === void 0 ? void 0 : _a.file) === null || _b === void 0 ? void 0 : _b.id],\n        docType: [(_c = this.activityData) === null || _c === void 0 ? void 0 : _c.docType],\n        docName: [(_e = (_d = this.activityData) === null || _d === void 0 ? void 0 : _d.file) === null || _e === void 0 ? void 0 : _e.name],\n        docPath: [(_g = (_f = this.activityData) === null || _f === void 0 ? void 0 : _f.file) === null || _g === void 0 ? void 0 : _g.path],\n        docSize: [(_h = this.activityData) === null || _h === void 0 ? void 0 : _h.docSize],\n        activityID: this.activityID,\n        activityDataID: this.activityData.id\n      }));\n      if (this.activityData.sourceName != null) {\n        this.vehicleName = this.activityData.sourceName;\n        this.isSource = true;\n      }\n      this.updateValidators();\n    }\n    formatDate(index) {\n      let date = this.activityDataDetailsFA.controls[index].get('dateRange').value;\n      let startDate = moment(date.startDate).format(\"YYYY-MM-DD\");\n      let endDate = moment(date.endDate).format(\"YYYY-MM-DD\");\n      this.activityDataDetailsFA.controls[index].get('startDate').patchValue(startDate);\n      this.activityDataDetailsFA.controls[index].get('endDate').patchValue(endDate);\n    }\n    isValidForm() {\n      this.activityDataFG.markAllAsTouched();\n      if (this.action == 'create') {\n        if (this.activityDataFG.invalid || this.submit == false) {\n          this.toastrService.openToast('Error', 'Fill at least one record detail', 'error');\n          return;\n        }\n      } else if (this.action == 'update') {\n        console.log(this.activityDataFG, this.isEqual);\n        if (!this.isEqual && (this.activityDataFG.invalid || this.submit == false)) {\n          this.toastrService.openToast(InvalidForm.INVALID_FORM_TITLE, InvalidForm.INVALID_FORM_MESSAGE, ToastrColor.ERROR);\n          return;\n        }\n      }\n      this.activityData = {};\n      const validControls = [];\n      const formArray = this.activityDataFG.get('activityDataDetails');\n      formArray.controls.forEach(control => {\n        if (control.get('fuelTypeID').value != null) {\n          validControls.push(control);\n        }\n      });\n      const newFormArray = new FormArray(validControls);\n      this.activityData = JSON.parse(JSON.stringify(newFormArray.value));\n      return true;\n    }\n    getCurrency() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.currencyList = yield this.currencyService.getCurrency();\n        this.currencyTypeSearchUtil.entityArr = this.currencyList;\n        this.currencyTypeSearchUtil.createSubscription();\n      });\n    }\n    getUnitList() {\n      forkJoin([this.fuelService.getFuelSource(), this.unitService.getUnit([])]).subscribe(([fuelUnitM, unitM]) => {\n        this.fuelUnitList = fuelUnitM;\n        this.unitM = unitM;\n        this.massUnitList = this.unitService.filterUnit(this.unitM, [UnitTypeKeyID.MASS]);\n        this.distanceUnitlist = this.unitService.filterUnit(this.unitM, [UnitTypeKeyID.LENGTH]);\n        this.volumnUnitList = this.unitService.filterUnit(this.unitM, [UnitTypeKeyID.VOLUME]);\n        // ngx mat select search\n        this.fuelTypeSearchUtil.entityArr = this.fuelUnitList;\n        this.fuelTypeSearchUtil.createSubscription();\n        if (this.action == 'update') {\n          this.activityData = this.activityConfig.activityData;\n          this.patchData();\n        }\n      }, error => {\n        console.error('error in getUnitList -', error);\n      });\n    }\n    fileUpload(event, formGroup, index) {\n      let file = event.target.files[0];\n      if (file) {\n        if (file.type !== 'application/pdf') {\n          this.toastrService.error(NocFileUploadEnum.INVALID_FILE_TYPE_ERROR);\n          return;\n        }\n        if (file.size > NocFileUploadEnum.MAX_FILE_SIZE) {\n          this.toastrService.error(NocFileUploadEnum.INVAID_FILE_SIZE_ERROR);\n          return;\n        }\n        let reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = e => {};\n        this.billFile = file;\n        this.billFileName = file['name'];\n        formGroup.get('docName').patchValue(file['name']);\n        formGroup.get('docSize').patchValue(this.getFileSizeWithUnit(file['size']));\n        this.docFileList[index] = file;\n        if (this.action == 'update') {\n          this.fileCreateUpdate(formGroup);\n        }\n      } else {\n        this.toastrService.error('Please upload a file!');\n        return;\n      }\n    }\n    getFileSizeWithUnit(billFileSize) {\n      const fileSizeInKB = Math.round(billFileSize / 1024);\n      const fileSizeInMB = Math.round(fileSizeInKB / 1024);\n      const fileSizeInGB = Math.round(fileSizeInMB / 1024);\n      if (fileSizeInGB > 1) {\n        return fileSizeInGB + ' GB';\n      } else if (fileSizeInMB > 1) {\n        return fileSizeInMB + ' MB';\n      } else {\n        return fileSizeInKB + ' KB';\n      }\n    }\n    removeFile(formGroup, index) {\n      if (this.action == 'create') {\n        this.fileInputArr[index].nativeElement.value = null;\n      }\n      this.billFile = null;\n      this.billFileName = '';\n      formGroup.get('docName').reset();\n      formGroup.get('docSize').reset();\n      formGroup.get('docPath').reset(null);\n      formGroup.get('docID').reset();\n      this.docFileList[index] = this.billFile;\n    }\n    toFormData() {\n      const formData = new FormData();\n      formData.append('payload', this.billFile);\n      return formData;\n    }\n    fileCreateUpdate(formGroup) {\n      if (formGroup.get('docID').value == null) {\n        this.carbonDocumentController.createDocument(this.currentOrgID, formGroup.get('activityDataID').value, ActivityKeyIDEnum.MOBILE_COMBUSTION, this.toFormData()).subscribe(response => {\n          this.file = response['response'];\n          this.updateFileFormControl(formGroup);\n        }, error => {\n          console.log(\"error in fileCreate -\", error);\n        });\n      } else {\n        this.carbonDocumentController.updateDocument(this.currentOrgID, formGroup.get('docID').value, this.toFormData()).subscribe(response => {\n          this.file = response['response'];\n          this.updateFileFormControl(formGroup);\n        }, error => {\n          console.log(\"error in fileUpdate -\", error);\n        });\n      }\n    }\n    updateFileFormControl(formGroup) {\n      formGroup.get('docID').patchValue(this.file.id);\n      formGroup.get('docName').patchValue(this.file.name);\n      formGroup.get('docPath').patchValue(this.file.path);\n    }\n    deleteConfirmation(formGroup, index) {\n      const dialogRef = this.dialog.open(TypeConfirmationDialog, {\n        minWidth: '650px',\n        maxWidth: '600px',\n        data: {\n          icon: 'delete',\n          header: 'Are you sure you want to delete ?',\n          body: '<p class = \"ps-1\"><strong class=\"pe-1\"> Note:</strong>This file will be deleted permanently and you won`t be able to track it`s progress.</p><span class=\"fw-bold ps-1\">Are you sure you want to delete?</span>',\n          confirmationInput: 'DELETE',\n          buttonOne: 'Cancel',\n          buttonTwo: 'Delete'\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.deleteDocument(formGroup.get('docID').value, formGroup, index);\n        } else {\n          dialogRef.close();\n        }\n      });\n    }\n    deleteDocument(docID, formGroup, index) {\n      this.carbonDocumentController.deleteDocument(this.currentOrgID, docID).subscribe(res => {\n        this.removeFile(formGroup, index);\n      }, error => {\n        console.log(\"error in deleteDocument -\", error);\n      });\n    }\n    uploadDoc(index) {\n      this.fileInputArr[index].nativeElement.click();\n    }\n  }\n  PriceDistanceTravelledComponent.ɵfac = function PriceDistanceTravelledComponent_Factory(t) {\n    return new (t || PriceDistanceTravelledComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.UnitService), i0.ɵɵdirectiveInject(i5.CurrencyService), i0.ɵɵdirectiveInject(i6.FuelService), i0.ɵɵdirectiveInject(i7.StorageService), i0.ɵɵdirectiveInject(i8.ToastrService), i0.ɵɵdirectiveInject(i9.CarbonDocumentController));\n  };\n  PriceDistanceTravelledComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PriceDistanceTravelledComponent,\n    selectors: [[\"price-distance-travelled\"]],\n    viewQuery: function PriceDistanceTravelledComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fileInput = _t);\n      }\n    },\n    inputs: {\n      activityConfig: \"activityConfig\",\n      allVechile: \"allVechile\",\n      activityID: \"activityID\",\n      docFileList: \"docFileList\"\n    },\n    outputs: {\n      docUploadChange: \"docUploadChange\",\n      formGroupChange: \"formGroupChange\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 9,\n    vars: 3,\n    consts: [[1, \"cardOverwrite\", \"border\"], [1, \"cardTitle\", \"pb-2\"], [1, \"overflowX\", 3, \"formGroup\"], [4, \"ngIf\"], [\"formArrayName\", \"activityDataDetails\"], [3, \"formGroupName\", 4, \"ngFor\", \"ngForOf\"], [\"docImg\", \"\"], [1, \"border\", \"cardOverwrite\", \"mt-3\"], [1, \"row\"], [1, \"col-sm-3\"], [1, \"ps-2\", 3, \"change\"], [\"class\", \"ps-2 pt-3\", 4, \"ngIf\"], [3, \"change\"], [1, \"ps-2\", \"pt-3\"], [1, \"col-sm-12\", 3, \"appearance\"], [1, \"formLabel\"], [3, \"selectionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"d-flex\", \"justify-content-between\"], [\"placeholderLabel\", \"Search by currency name\", \"noEntriesFoundLabel\", \"No matching found.\", 3, \"formControl\"], [3, \"formGroupName\"], [\"class\", \"col-sm-4 mb-3\", 4, \"ngIf\"], [1, \"col-sm-8\"], [1, \"matFieldWidth100\", \"cursorPointer\", 3, \"appearance\"], [\"type\", \"text\", \"matInput\", \"\", \"ngxDaterangepickerMd\", \"\", \"autocomplete\", \"off\", \"name\", \"dateRange\", \"formControlName\", \"dateRange\", \"readonly\", \"\", 3, \"locale\", \"drops\", \"opens\", \"alwaysShowCalendars\", \"keepCalendarOpeningWithRange\", \"showDropdowns\", \"showCancel\", \"ngModelChange\"], [1, \"col-sm-4\"], [1, \"matFieldWidth100\", \"col-sm-4\", 3, \"appearance\"], [\"formControlName\", \"fuelTypeID\"], [\"placeholderLabel\", \"Search by unit name\", \"noEntriesFoundLabel\", \"No matching found.\", 3, \"formControl\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"billAmount\", \"placeholder\", \"0.00\", \"min\", \"0\"], [\"formControlName\", \"billCurrencyID\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"fuelRate\", \"placeholder\", \"0.00\", \"min\", \"0\"], [\"formControlName\", \"fuelRateNumeratorUnitID\"], [\"formControlName\", \"fuelRateDenominatorUnitID\"], [1, \"matFieldWidth100\", 3, \"appearance\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"distanceTravelled\", \"placeholder\", \"0.00\", \"min\", \"0\"], [\"formControlName\", \"distanceTravelledUnitID\"], [\"matInput\", \"\", \"type\", \"number\", \"formControlName\", \"mileage\", \"placeholder\", \"0.00\", \"min\", \"0\"], [\"formControlName\", \"mileageNumeratorUnitID\"], [\"formControlName\", \"mileageDenominatorUnitID\"], [1, \"col-sm-4\", \"mb-3\"], [1, \"col-sm-8\", \"fileInput\"], [\"type\", \"file\", \"accept\", \"application/pdf\", 1, \"form-control\", 3, \"change\"], [\"fileInput\", \"\"], [1, \"row\", \"pt-2\"], [1, \"border\", \"rounded\", \"d-flex\", 3, \"ngClass\"], [1, \"p-1\"], [4, \"ngTemplateOutlet\"], [1, \"centerAlignVertical\", \"p-1\"], [1, \"ms-auto\", \"p-1\"], [\"type\", \"button\", \"mat-icon-button\", \"\", 1, \"btn\", \"p-1\", 3, \"click\"], [1, \"material-symbols-outlined\", \"text-danger\"], [1, \"border\", \"rounded\", \"d-flex\"], [1, \"centerAlignVertical\", \"p-3\"], [\"target\", \"_blank\", 3, \"href\", \"ngClass\"], [\"type\", \"button\", \"mat-icon-button\", \"\", \"matTooltip\", \"Edit\", \"matTooltipClass\", \"nameTooltip\", \"matTooltipPosition\", \"below\", 1, \"btn\", \"p-1\", 3, \"click\"], [1, \"material-symbols-outlined\", \"text-primary\", \"updateIconHover\", \"fs-5\"], [\"type\", \"file\", \"accept\", \"application/pdf\", 1, \"form-control\", 2, \"display\", \"none\", 3, \"change\"], [\"type\", \"button\", \"mat-icon-button\", \"\", \"matTooltip\", \"Delete\", \"matTooltipClass\", \"nameTooltip\", \"matTooltipPosition\", \"below\", 1, \"btn\", \"p-1\", 3, \"click\"], [\"matSuffix\", \"\", \"mat-icon-button\", \"\", \"mat-raised-button\", \"\", \"matTooltipPosition\", \"below\", 1, \"docIcon\", \"p-1\", 3, \"matTooltip\"], [\"height\", \"40px\", \"src\", \"assets/images/default-doc.ico\", \"alt\", \"bill document preview\"]],\n    template: function PriceDistanceTravelledComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2, \"Activity Data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵtemplate(4, PriceDistanceTravelledComponent_div_4_Template, 19, 4, \"div\", 3);\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵtemplate(6, PriceDistanceTravelledComponent_div_6_Template, 115, 55, \"div\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, PriceDistanceTravelledComponent_ng_template_7_Template, 3, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.activityDataFG);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.noOfVeh > 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.activityDataDetailsFA.controls);\n      }\n    },\n    directives: [i10.MatCard, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i11.NgIf, i2.FormArrayName, i11.NgForOf, i12.MatSlideToggle, i13.MatFormField, i13.MatLabel, i14.MatSelect, i13.MatError, i15.MatOption, i16.MatSelectSearchComponent, i2.NgControlStatus, i2.FormControlDirective, i2.FormGroupName, i17.MatInput, i18.DaterangepickerDirective, i2.DefaultValueAccessor, i2.FormControlName, i2.NumberValueAccessor, i2.MinValidator, i11.NgClass, i11.NgTemplateOutlet, i19.MatButton, i20.MatTooltip, i13.MatSuffix],\n    pipes: [i11.AsyncPipe],\n    styles: [\".headerWidth[_ngcontent-%COMP%]{min-width:150px!important;padding-top:12px;padding-bottom:2px;padding-left:28px}.setWidth[_ngcontent-%COMP%]{min-width:120px}\"]\n  });\n  return PriceDistanceTravelledComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}