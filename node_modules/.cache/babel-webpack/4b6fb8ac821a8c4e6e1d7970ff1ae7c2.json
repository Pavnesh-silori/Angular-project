{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { fromEvent, merge } from 'rxjs';\nimport { SchedulerWorkflowComponent } from '@report-framework/component/assignment/scheduler-workflow/scheduler-workflow.component';\nimport { WorkflowExists } from '@report-framework/model/workflow.model';\n// tsc-library\nimport { ButtonLabelEnum, DialogEnum, DialogOneComponent, DialogOneEnum, FormAction, MatSelectSearchService } from '@library/tsc-common';\nimport { MessageAlertTypeEnum } from '@library/tsc-common';\nimport { MessageAlertIconEnum } from '@library/tsc-common';\nimport { ProfileImg } from '@library/user-service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@report-framework/controller/assignment.controller\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@library/user-service\";\nimport * as i5 from \"@library/storage-service\";\nimport * as i6 from \"@library/toastr-service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@library/tsc-common\";\nimport * as i9 from \"@angular/material/expansion\";\nimport * as i10 from \"@angular/material/checkbox\";\nimport * as i11 from \"@angular/forms\";\nimport * as i12 from \"@angular/material/tooltip\";\nimport * as i13 from \"@angular/material/menu\";\nimport * as i14 from \"../../data-create-update/data-create-update.component\";\nconst _c0 = [\"searchBtn\"];\nconst _c1 = [\"refreshBtn\"];\nfunction AssignmentComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 27);\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵtext(3, \"Assignment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 29);\n    i0.ɵɵtext(5, \" The assignment template assigns questions or sections to users, which will be the same for all the chosen reporting frequency. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_9_ng_container_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const assignee_r25 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", assignee_r25[\"firstName\"], \" \", assignee_r25[\"lastName\"], \" \");\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"z-index\": a0\n  };\n};\nfunction AssignmentComponent_ng_container_25_span_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 48, 35);\n    i0.ɵɵtemplate(3, AssignmentComponent_ng_container_25_span_9_ng_container_1_span_3_Template, 2, 2, \"span\", 49);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const assignee_r25 = ctx.$implicit;\n    const index_r26 = ctx.index;\n    const section_r10 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r21 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r21.showAssigneeApprover(assignee_r25, index_r26), i0.ɵɵsanitizeUrl)(\"matTooltip\", (assignee_r25 == null ? null : assignee_r25[\"firstName\"]) ? assignee_r25[\"firstName\"] + \" \" + ((assignee_r25 == null ? null : assignee_r25[\"lastName\"]) != null ? assignee_r25 == null ? null : assignee_r25[\"lastName\"] : \"\") : \"\")(\"ngStyle\", i0.ɵɵpureFunction1(4, _c2, 80 - index_r26 * 20));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", section_r10.assignee.length == 1);\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_9_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function AssignmentComponent_ng_container_25_span_9_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const section_r10 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.showAllAssigneeApprooverDropdown(section_r10.assignee);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r23 = i0.ɵɵreference(4);\n    const section_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r22 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r23);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r22.assigneeDisplayCount(section_r10.assignee), \"\");\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_9_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 51);\n    i0.ɵɵelement(1, \"img\", 52);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r35 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", user_r35.profileImg, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r35.name, \" \");\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_span_9_ng_container_1_Template, 4, 6, \"ng-container\", 18);\n    i0.ɵɵtemplate(2, AssignmentComponent_ng_container_25_span_9_button_2_Template, 2, 2, \"button\", 44);\n    i0.ɵɵelementStart(3, \"mat-menu\", 45, 46);\n    i0.ɵɵtemplate(5, AssignmentComponent_ng_container_25_span_9_button_5_Template, 3, 2, \"button\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const section_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", section_r10.assignee.slice(0, 3));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.assigneeDisplayCount(section_r10.assignee) >= 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r14.assigneeApproverList);\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_10_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    index: a0\n  };\n};\nfunction AssignmentComponent_ng_container_25_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_span_10_ng_container_1_Template, 1, 0, \"ng-container\", 53);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    const _r6 = i0.ɵɵreference(34);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r6)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c3, ctx_r15.index));\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_11_ng_container_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const approver_r42 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", approver_r42[\"firstName\"], \" \", approver_r42[\"lastName\"], \" \");\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_11_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"img\", 54, 35);\n    i0.ɵɵtemplate(3, AssignmentComponent_ng_container_25_span_11_ng_container_1_span_3_Template, 2, 2, \"span\", 49);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const approver_r42 = ctx.$implicit;\n    const index_r43 = ctx.index;\n    const section_r10 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r38 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r38.showAssigneeApprover(approver_r42, index_r43), i0.ɵɵsanitizeUrl)(\"matTooltip\", (approver_r42 == null ? null : approver_r42[\"firstName\"]) ? approver_r42[\"firstName\"] + \" \" + ((approver_r42 == null ? null : approver_r42[\"lastName\"]) != null ? approver_r42 == null ? null : approver_r42[\"lastName\"] : \"\") : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", section_r10.approver.length == 1);\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_11_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function AssignmentComponent_ng_container_25_span_11_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const section_r10 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r48 = i0.ɵɵnextContext();\n      return ctx_r48.showAllAssigneeApprooverDropdown(section_r10.approver);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r40 = i0.ɵɵreference(4);\n    const section_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r39 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"matMenuTriggerFor\", _r40);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r39.assigneeDisplayCount(section_r10.approver), \"\");\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_11_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 51);\n    i0.ɵɵelement(1, \"img\", 52);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r52 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", user_r52.profileImg, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r52.name, \" \");\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_span_11_ng_container_1_Template, 4, 3, \"ng-container\", 18);\n    i0.ɵɵtemplate(2, AssignmentComponent_ng_container_25_span_11_button_2_Template, 2, 2, \"button\", 44);\n    i0.ɵɵelementStart(3, \"mat-menu\", 45, 46);\n    i0.ɵɵtemplate(5, AssignmentComponent_ng_container_25_span_11_button_5_Template, 3, 2, \"button\", 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const section_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", section_r10.approver.slice(0, 3));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.assigneeDisplayCount(section_r10.approver) >= 1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.assigneeApproverList);\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_12_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_span_12_ng_container_1_Template, 1, 0, \"ng-container\", 53);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    const _r6 = i0.ɵɵreference(34);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r6)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c3, ctx_r17.index));\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_13_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction AssignmentComponent_ng_container_25_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_span_13_ng_container_1_Template, 1, 0, \"ng-container\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(2);\n    const _r8 = i0.ɵɵreference(36);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r8);\n  }\n}\nfunction AssignmentComponent_ng_container_25_img_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 57, 35);\n    i0.ɵɵlistener(\"click\", function AssignmentComponent_ng_container_25_img_15_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r59);\n      const section_r10 = i0.ɵɵnextContext().$implicit;\n      const _r12 = i0.ɵɵreference(2);\n      const ctx_r57 = i0.ɵɵnextContext();\n      ctx_r57.unAssignedMetric(section_r10.id, section_r10.group, \"section\");\n      return _r12.expanded = !_r12.expanded;\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_8_span_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const assignee_r72 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", assignee_r72[\"firstName\"], \" \", assignee_r72[\"lastName\"], \" \");\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_8_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"img\", 54, 35);\n    i0.ɵɵtemplate(3, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_8_span_1_span_3_Template, 2, 2, \"span\", 49);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const assignee_r72 = ctx.$implicit;\n    const index_r73 = ctx.index;\n    const group_r60 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r71 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r71.showAssigneeApprover(assignee_r72, index_r73), i0.ɵɵsanitizeUrl)(\"matTooltip\", (assignee_r72.firstName ? assignee_r72.firstName + \" \" : \"\") + (assignee_r72.lastName ? assignee_r72.lastName : \"\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", group_r60.assignee.length == 1);\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_8_span_1_Template, 4, 3, \"span\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const group_r60 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", group_r60.assignee.slice(0, 3));\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c4 = function () {\n  return {\n    index: 0\n  };\n};\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_9_ng_container_1_Template, 1, 0, \"ng-container\", 53);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(3);\n    const _r6 = i0.ɵɵreference(34);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r6)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction0(2, _c4));\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_10_span_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const approver_r81 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", approver_r81[\"firstName\"], \" \", approver_r81[\"lastName\"], \" \");\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_10_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"img\", 54, 35);\n    i0.ɵɵtemplate(3, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_10_span_1_span_3_Template, 2, 2, \"span\", 49);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const approver_r81 = ctx.$implicit;\n    const index_r82 = ctx.index;\n    const group_r60 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r80 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r80.showAssigneeApprover(approver_r81, index_r82), i0.ɵɵsanitizeUrl)(\"matTooltip\", (approver_r81.firstName ? approver_r81.firstName + \" \" : \"\") + (approver_r81.lastName ? approver_r81.lastName : \"\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", group_r60.approver.length == 1);\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 43);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_10_span_1_Template, 4, 3, \"span\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const group_r60 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", group_r60.approver.slice(0, 3));\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_11_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 39);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_11_ng_container_1_Template, 1, 0, \"ng-container\", 53);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(3);\n    const _r6 = i0.ɵɵreference(34);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r6)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction0(2, _c4));\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_12_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 55);\n    i0.ɵɵtemplate(1, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_12_ng_container_1_Template, 1, 0, \"ng-container\", 56);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(3);\n    const _r8 = i0.ɵɵreference(36);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r8);\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_img_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r93 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 57, 35);\n    i0.ɵɵlistener(\"click\", function AssignmentComponent_ng_container_25_mat_expansion_panel_17_img_14_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r93);\n      const group_r60 = i0.ɵɵnextContext().$implicit;\n      const _r62 = i0.ɵɵreference(1);\n      const section_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r91 = i0.ɵɵnextContext();\n      ctx_r91.unAssignedMetric(section_r10.id, group_r60.id, \"group\");\n      return _r62.expanded = !_r62.expanded;\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-data-create-update\", 60);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const group_r60 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"groupID\", group_r60.id)(\"isReadOnly\", true);\n  }\n}\nfunction AssignmentComponent_ng_container_25_mat_expansion_panel_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r97 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-expansion-panel\", 58, 59);\n    i0.ɵɵlistener(\"opened\", function AssignmentComponent_ng_container_25_mat_expansion_panel_17_Template_mat_expansion_panel_opened_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r97);\n      const group_r60 = restoredCtx.$implicit;\n      const ctx_r96 = i0.ɵɵnextContext(2);\n      return ctx_r96.onSectionPanelOpen(group_r60);\n    });\n    i0.ɵɵelementStart(2, \"mat-expansion-panel-header\", 32);\n    i0.ɵɵelementStart(3, \"mat-checkbox\", 33);\n    i0.ɵɵlistener(\"change\", function AssignmentComponent_ng_container_25_mat_expansion_panel_17_Template_mat_checkbox_change_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r97);\n      const i_r61 = restoredCtx.index;\n      const _r62 = i0.ɵɵreference(1);\n      const section_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r98 = i0.ɵɵnextContext();\n      ctx_r98.selectUnselectGroup($event, section_r10.id, section_r10.group[i_r61].id, section_r10.group);\n      return _r62.expanded = !_r62.expanded;\n    });\n    i0.ɵɵelementStart(4, \"span\", 34, 35);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_8_Template, 2, 1, \"span\", 36);\n    i0.ɵɵtemplate(9, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_9_Template, 2, 3, \"span\", 37);\n    i0.ɵɵtemplate(10, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_10_Template, 2, 1, \"span\", 36);\n    i0.ɵɵtemplate(11, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_11_Template, 2, 3, \"span\", 37);\n    i0.ɵɵtemplate(12, AssignmentComponent_ng_container_25_mat_expansion_panel_17_span_12_Template, 2, 1, \"span\", 38);\n    i0.ɵɵelementStart(13, \"span\", 39);\n    i0.ɵɵtemplate(14, AssignmentComponent_ng_container_25_mat_expansion_panel_17_img_14_Template, 2, 0, \"img\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, AssignmentComponent_ng_container_25_mat_expansion_panel_17_ng_container_15_Template, 2, 2, \"ng-container\", 49);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const group_r60 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"expanded\", ctx_r20.activeAccodianGroup == group_r60);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", ctx_r20.isGroupChecked(group_r60.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", (group_r60.name == null ? null : group_r60.name.length) > 65 ? group_r60.name : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(7, 11, group_r60.name, 65), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", group_r60.assignee.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", group_r60.assignee.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", group_r60.approver.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !group_r60.isAutoApproved && group_r60.approver.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", group_r60.isAutoApproved);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", group_r60.isAssigned);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.activeAccodianGroup == group_r60);\n  }\n}\nfunction AssignmentComponent_ng_container_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r101 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-expansion-panel\", 30, 31);\n    i0.ɵɵelementStart(3, \"mat-expansion-panel-header\", 32);\n    i0.ɵɵelementStart(4, \"mat-checkbox\", 33);\n    i0.ɵɵlistener(\"change\", function AssignmentComponent_ng_container_25_Template_mat_checkbox_change_4_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r101);\n      const section_r10 = restoredCtx.$implicit;\n      const _r12 = i0.ɵɵreference(2);\n      const ctx_r100 = i0.ɵɵnextContext();\n      ctx_r100.selectUnselectSection($event, section_r10.id, section_r10.group);\n      return _r12.expanded = !_r12.expanded;\n    });\n    i0.ɵɵelementStart(5, \"span\", 34, 35);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"dotdotdot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AssignmentComponent_ng_container_25_span_9_Template, 6, 3, \"span\", 36);\n    i0.ɵɵtemplate(10, AssignmentComponent_ng_container_25_span_10_Template, 2, 4, \"span\", 37);\n    i0.ɵɵtemplate(11, AssignmentComponent_ng_container_25_span_11_Template, 6, 3, \"span\", 36);\n    i0.ɵɵtemplate(12, AssignmentComponent_ng_container_25_span_12_Template, 2, 4, \"span\", 38);\n    i0.ɵɵtemplate(13, AssignmentComponent_ng_container_25_span_13_Template, 2, 1, \"span\", 38);\n    i0.ɵɵelementStart(14, \"span\", 39);\n    i0.ɵɵtemplate(15, AssignmentComponent_ng_container_25_img_15_Template, 2, 0, \"img\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"mat-accordion\", 41);\n    i0.ɵɵtemplate(17, AssignmentComponent_ng_container_25_mat_expansion_panel_17_Template, 16, 14, \"mat-expansion-panel\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const section_r10 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"checked\", ctx_r3.isSectionChecked(section_r10.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matTooltip\", (section_r10.name == null ? null : section_r10.name.length) > 65 ? section_r10.name : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(8, 10, section_r10.name, 65), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", section_r10.assignee.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r10.assignee.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r10.approver.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !section_r10.isAutoApproved && section_r10.approver.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r10.isAutoApproved);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", section_r10.isAssigned);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", section_r10.group);\n  }\n}\nfunction AssignmentComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61);\n    i0.ɵɵtext(1, \" No section found. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AssignmentComponent_button_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r103 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function AssignmentComponent_button_30_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r103);\n      const ctx_r102 = i0.ɵɵnextContext();\n      return ctx_r102.saveBtn();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.ButtonLabelEnum.CREATE_BTN_LABEL, \" \");\n  }\n}\nfunction AssignmentComponent_ng_template_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 63);\n    i0.ɵɵtext(1, \" unassigned\\n\");\n  }\n}\nfunction AssignmentComponent_ng_template_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 64);\n    i0.ɵɵelement(1, \"path\", 65);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2, \" Auto Approved\\n\");\n  }\n}\nconst _c5 = function (a0, a1) {\n  return {\n    \"btn-success\": a0,\n    \"btn-secondary\": a1\n  };\n};\n// /tsc-library\nexport let AssignmentComponent = /*#__PURE__*/(() => {\n  class AssignmentComponent {\n    constructor(router, activatedRoute, assignmentController, dialog, userService, storageService, toastrService) {\n      this.router = router;\n      this.activatedRoute = activatedRoute;\n      this.assignmentController = assignmentController;\n      this.dialog = dialog;\n      this.userService = userService;\n      this.storageService = storageService;\n      this.toastrService = toastrService;\n      this.type = null;\n      this.reportingFrameworkID = null;\n      this.configID = null;\n      this.assignmentTempActive = false;\n      this.ButtonLabelEnum = ButtonLabelEnum;\n      this.messageAlertTypeEnum = MessageAlertTypeEnum;\n      this.messageAlertIconEnum = MessageAlertIconEnum;\n      this.DialogEnum = DialogEnum;\n      this.FormAction = FormAction;\n      this.sectionGroupDataList = [];\n      this.selectUnselectAllFC = new FormControl(false);\n      this.allSection = [];\n      this.allGroup = [];\n      this.selectedSection = [];\n      this.selectedGroup = [];\n      this.assignBtnFlag = false;\n      this.assignMetricList = [];\n      this.unAssignMetricList = [];\n      this.searchFC = new FormControl('');\n      this.searchValue = '';\n      this.searchFlag = false;\n      this.refreshFlag = false;\n      this.assigneeApproverList = [];\n      this.createBtnFlag = false;\n      this.workflowExists = new WorkflowExists();\n      this.assigneeUserList = [];\n      this.approverUserList = [];\n      this.assigneeFC = new FormControl();\n      this.approverFC = new FormControl();\n      this.assigneeSearchUtil = new MatSelectSearchService(['name']);\n      this.approverSearchUtil = new MatSelectSearchService(['name']);\n    }\n    ngOnInit() {\n      this.currentOrgID = parseInt(this.storageService.getStorage('currentOrgID'));\n      this.activatedRoute.queryParams.subscribe(queryParam => {\n        this.configIntervalID = queryParam['configIntervalID'];\n        if (this.reportingFrameworkID == null) {\n          this.reportingFrameworkID = queryParam['reportingFrameworkID'];\n          this.configID = queryParam['configID'];\n        }\n        this.workflowExist();\n        this.getSectionAndGroupList();\n        this.getAllUserList();\n      });\n    }\n    ngAfterViewInit() {\n      merge(fromEvent(this.refreshBtn.nativeElement, 'click')).subscribe(() => {\n        if (this.reportingFrameworkID != null) {\n          this.getSectionAndGroupList();\n        }\n      });\n    }\n    getSectionAndGroupList() {\n      if (this.searchFlag) {\n        var searchValue = 'name:' + this.searchValue;\n      }\n      this.assignmentController.getSectionAndGroupList(this.currentOrgID, this.reportingFrameworkID, this.searchFlag, searchValue, this.configID, this.configIntervalID).subscribe(res => {\n        this.sectionGroupDataList = res;\n        this.sectionGroupDataList.forEach(section => {\n          this.allSection.push(section.id);\n          section.group.forEach(group => {\n            this.allGroup.push(group.id);\n          });\n        });\n      }, error => {\n        console.log('Error in getSectionAndGroupList', error);\n      });\n    }\n    onSectionPanelOpen(groupName) {\n      this.activeAccodianGroup = groupName;\n    }\n    selectUnselectAll(event) {\n      this.selectedSection = [];\n      this.selectedGroup = [];\n      this.assignMetricList = [];\n      if (event.checked) {\n        this.sectionGroupDataList.forEach(section => {\n          this.selectedSection.push(section.id);\n          let groupIDs = [];\n          section.group.forEach(group => {\n            this.selectedGroup.push(group.id);\n            groupIDs.push(group.id);\n          });\n          this.createSelectedAssignMetricJson(section.id, groupIDs, 'section');\n        });\n      }\n      this.setAssigBtnValue();\n    }\n    isSectionChecked(id) {\n      return this.selectedSection.includes(id);\n    }\n    isGroupChecked(groupID) {\n      return this.selectedGroup.includes(groupID);\n    }\n    selectUnselectSection(event, id, group) {\n      if (event.checked) {\n        if (!this.selectedSection.includes(id)) {\n          this.selectedSection.push(id);\n          let groupIDs = [];\n          group.forEach(group => {\n            if (!this.selectedGroup.includes(group.id)) {\n              this.selectedGroup.push(group.id);\n              groupIDs.push(group.id);\n            }\n          });\n          this.createSelectedAssignMetricJson(id, groupIDs, 'section');\n          this.checkAllSectionAndGroupParsent();\n        }\n      } else {\n        this.selectUnselectAllFC.patchValue(false);\n        const index = this.selectedSection.indexOf(id);\n        if (index !== -1) {\n          this.selectedSection.splice(index, 1);\n        }\n        group.forEach(group => {\n          const i = this.selectedGroup.indexOf(group.id);\n          if (i !== -1) {\n            this.selectedGroup.splice(i, 1);\n          }\n        });\n        this.removeSelectedAssignMetric(id, null, 'section');\n      }\n      this.setAssigBtnValue();\n    }\n    selectUnselectGroup(event, id, groupID, group) {\n      if (event.checked) {\n        let groupIDs;\n        if (!this.selectedGroup.includes(groupID)) {\n          this.selectedGroup.push(groupID);\n          groupIDs = groupID;\n        }\n        this.createSelectedAssignMetricJson(id, groupIDs, 'group');\n        this.checkAllSectionAndGroupParsent();\n      } else {\n        this.selectUnselectAllFC.patchValue(false);\n        const i = this.selectedGroup.indexOf(groupID);\n        if (i !== -1) {\n          this.selectedGroup.splice(i, 1);\n        }\n        this.removeSelectedAssignMetric(id, groupID, 'group');\n      }\n      this.checkSectionAllGroupParsent(id, group);\n      this.setAssigBtnValue();\n    }\n    checkAllGroupCheckedInSection(group) {\n      let groupIDs = [];\n      group.forEach(g => {\n        groupIDs.push(g.id);\n      });\n      return groupIDs.every(group => this.selectedGroup.includes(group));\n    }\n    setAssigBtnValue() {\n      if (this.assignMetricList.length != 0 || this.assignMetricList.length != 0) {\n        this.assignBtnFlag = true;\n      } else {\n        this.assignBtnFlag = false;\n      }\n    }\n    createSelectedAssignMetricJson(id, groupIDs, level) {\n      const sectionIndex = this.assignMetricList.findIndex(s => s.sectionID == id);\n      if (sectionIndex !== -1) {\n        this.assignMetricList[sectionIndex].groupID.push(groupIDs);\n      } else {\n        if (level == 'section') {\n          let metric = {\n            sectionID: id,\n            groupID: groupIDs\n          };\n          this.assignMetricList.push(metric);\n        } else {\n          let metric = {\n            sectionID: id,\n            groupID: [groupIDs]\n          };\n          this.assignMetricList.push(metric);\n        }\n      }\n    }\n    removeSelectedAssignMetric(id, groupIDs, level) {\n      const sectionIndex = this.assignMetricList.findIndex(s => s.sectionID == id);\n      if (level == 'section') {\n        if (sectionIndex !== -1) {\n          this.assignMetricList.splice(sectionIndex, 1);\n        }\n      } else {\n        // for remove section\n        if (this.assignMetricList[sectionIndex].groupID.length == 0) {\n          this.assignMetricList.splice(sectionIndex, 1);\n        }\n      }\n      const groupIndex = this.assignMetricList[sectionIndex].groupID.findIndex(g => g == groupIDs);\n      // for remove group\n      if (groupIndex !== -1) {\n        this.assignMetricList[sectionIndex].groupID.splice(groupIndex, 1);\n        if (this.assignMetricList[sectionIndex].groupID.length == 0) {\n          this.assignMetricList.splice(sectionIndex, 1);\n        }\n      }\n    }\n    // check all section and group include in list\n    checkAllSectionAndGroupParsent() {\n      if (this.allSection.every(s => this.selectedSection.includes(s))) {\n        if (this.allGroup.every(g => this.selectedGroup.includes(g))) {\n          this.selectUnselectAllFC.patchValue(true);\n        }\n      } else {\n        this.selectUnselectAllFC.patchValue(false);\n      }\n    }\n    // check section all group include in list for checked and unchecked section\n    checkSectionAllGroupParsent(sectionID, group) {\n      if (group.every(g => this.selectedGroup.includes(g.id))) {\n        if (!this.selectedSection.includes(sectionID)) {\n          this.selectedSection.push(sectionID);\n        }\n      } else {\n        const index = this.selectedSection.indexOf(sectionID);\n        if (index !== -1) {\n          this.selectedSection.splice(index, 1);\n        }\n      }\n    }\n    searchFn($event) {\n      this.searchValue = $event;\n      if (this.searchValue.length > 0) {\n        this.searchFlag = true;\n      } else {\n        this.searchFlag = false;\n      }\n      this.refreshBtn.nativeElement.click();\n    }\n    assigneeDisplayCount(assignee) {\n      if (assignee.length > 3) {\n        const assigneeCount = assignee.length - 3;\n        return `+${assigneeCount}`;\n      }\n    }\n    showAssigneeApprover(assigneeApprover, index) {\n      if (index <= 2) {\n        return assigneeApprover['profileImgUrl'] || this.userService.defaultImage((assigneeApprover.firstName ? assigneeApprover.firstName + ' ' : '') + (assigneeApprover.lastName ? assigneeApprover.lastName : ''), ProfileImg.PROFILE_IMAGE_DROPDOWN_NAME_VIEW);\n      } else {\n        console.log('else --');\n        return '';\n      }\n    }\n    showAllAssigneeApprooverDropdown(assigneeApproverList) {\n      this.assigneeApproverList = [];\n      assigneeApproverList.forEach(assApp => {\n        let metric = {\n          profileImg: assApp.profileImgUrl || this.userService.defaultImage((assApp.firstName ? assApp.firstName + ' ' : '') + (assApp.lastName ? assApp.lastName : ''), ProfileImg.PROFILE_IMAGE_DROPDOWN_NAME_VIEW),\n          name: assApp.firstName ? assApp.firstName + ' ' + (assApp.lastName != null ? assApp.lastName : '') : ''\n        };\n        this.assigneeApproverList.push(metric);\n      });\n    }\n    // for send list to assign btn\n    sendSectionGroupListToAssign(operation) {\n      console.log('this.assignMetricList --', this.assignMetricList);\n      let dialogRef;\n      if (operation == FormAction.CREATE) {\n        dialogRef = this.dialog.open(SchedulerWorkflowComponent, {\n          data: {\n            action: operation,\n            assignMetric: this.assignMetricList,\n            configID: this.configID,\n            configIntervalID: this.configIntervalID\n          },\n          height: '100vh',\n          width: '800px',\n          position: {\n            right: '-2px',\n            top: '0px'\n          },\n          disableClose: true,\n          panelClass: 'matDialogContainerOverride'\n        });\n      }\n      // i removed these case if i confirm all functionality\n      else {\n        dialogRef = this.dialog.open(SchedulerWorkflowComponent, {\n          data: {\n            action: operation,\n            assignMetric: this.assignMetricList,\n            configID: this.configID,\n            configIntervalID: this.configIntervalID\n          },\n          height: '100vh',\n          width: '800px',\n          position: {\n            right: '-2px',\n            top: '0px'\n          },\n          disableClose: true,\n          panelClass: 'matDialogContainerOverride'\n        });\n      }\n      dialogRef.afterClosed().subscribe(result => {\n        if (result == DialogEnum.SUCCESS_DR) {\n          this.getSectionAndGroupList();\n          this.assignMetricList = [];\n          this.selectedGroup = [];\n          this.selectedSection = [];\n          this.selectUnselectAllFC.reset(false);\n          this.assignBtnFlag = false;\n        }\n      });\n    }\n    // for unassignedSectionOrGroup\n    unAssignedMetric(id, group, level) {\n      this.unAssignMetricList = [];\n      let groupIDs = [];\n      if (level == 'section') {\n        group.forEach(g => {\n          groupIDs.push(g.id);\n        });\n      } else {\n        groupIDs.push(group);\n      }\n      let metric = {\n        sectionID: id,\n        groupID: groupIDs\n      };\n      this.unAssignMetricList.push(metric);\n      this.confirmationDialog();\n    }\n    confirmationDialog() {\n      const dialogRef = this.dialog.open(DialogOneComponent, {\n        minWidth: '450px',\n        maxWidth: '700px',\n        data: {\n          type: DialogOneEnum.DELETE,\n          icon: 'dangerous',\n          header: 'Unassign section or group',\n          body: 'These changes will be applied for section or group.\\n Are you sure to unassign?',\n          buttonOne: 'Cancel',\n          buttonTwo: 'Unassign'\n        }\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.unassignedFun();\n        }\n      });\n    }\n    unassignedFun() {\n      this.assignmentController.unassingedSectionOrgGroup(this.currentOrgID, this.configID, null, this.unAssignMetricList).subscribe(response => {\n        this.getSectionAndGroupList();\n      }, error => {\n        console.log('error in updateReportingPreference() -', error);\n      });\n    }\n    workflowExist() {\n      this.assignmentController.workflowExist(this.currentOrgID, this.configID).subscribe(res => {\n        this.workflowExists = res;\n        if (this.workflowExists.workflowExists) {\n          this.createBtnFlag = false;\n        } else if (this.workflowExists.workFlowExistsForPreviousConfig) {\n          this.createBtnFlag = true;\n        }\n      }, error => {\n        console.log('error in workflowExist', error);\n      });\n    }\n    saveBtn() {\n      this.assignmentController.saveWorkflow(this.currentOrgID, this.configID, this.workflowExists.previousConfigIntervalID).subscribe(res => {\n        this.router.navigate(['/reporting-framework/tracking/page']);\n      }, error => {\n        console.log('error in save workflow', error);\n      });\n    }\n    getAllUserList() {\n      this.userService.getCurrentOrgUserAccess(this.currentOrgID).then(allUser => {\n        allUser.forEach(user => {\n          let metric = {\n            id: user.id,\n            profileImg: user.profileImgUrl || this.userService.defaultImage((user.firstName ? user.firstName + ' ' : '') + (user.lastName ? user.lastName : ''), ProfileImg.PROFILE_IMAGE_DROPDOWN_NAME_VIEW),\n            name: user.firstName ? user.firstName + ' ' + (user.lastName != null ? user.lastName : '') : ''\n          };\n          this.assigneeUserList.push(metric);\n          this.approverUserList.push(metric);\n        });\n        let unassigne = {\n          profileImg: \"../assets/images/default-profile-img.jpg\",\n          name: \"unassigned\"\n        };\n        this.assigneeUserList.push(unassigne);\n        this.assigneeSearchUtil.entityArr = this.assigneeUserList;\n        this.assigneeSearchUtil.createSubscription();\n        let autoApproved = {\n          profileImg: \"../assets/images/default-profile-img.jpg\",\n          name: \"Auto Approved\"\n        };\n        this.approverUserList.push(autoApproved);\n        this.approverSearchUtil.entityArr = this.approverUserList;\n        this.approverSearchUtil.createSubscription();\n      }).catch(error => {\n        console.error('Error fetching user access:', error);\n      });\n    }\n  }\n  AssignmentComponent.ɵfac = function AssignmentComponent_Factory(t) {\n    return new (t || AssignmentComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AssignmentController), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i4.UserService), i0.ɵɵdirectiveInject(i5.StorageService), i0.ɵɵdirectiveInject(i6.ToastrService));\n  };\n  AssignmentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AssignmentComponent,\n    selectors: [[\"app-assignment\"]],\n    viewQuery: function AssignmentComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n        i0.ɵɵviewQuery(_c1, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.searchBtn = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.refreshBtn = _t.first);\n      }\n    },\n    inputs: {\n      type: \"type\",\n      reportingFrameworkID: \"reportingFrameworkID\",\n      configID: \"configID\",\n      assignmentTempActive: \"assignmentTempActive\"\n    },\n    decls: 37,\n    vars: 13,\n    consts: [[1, \"card\", \"main-card\", \"cardOverwrite\", \"h100\"], [\"class\", \"headerContainer\", 4, \"ngIf\"], [1, \"headerContainer\"], [\"contentInp\", \"Assignment can be done with a focus on either section-specific and metric-specific levels.\", 3, \"messageAlertTypeInp\", \"messageAlertIconInp\"], [1, \"headerRightContainer\", \"me-2\"], [1, \"headerRightContainerInner\"], [\"searchBy\", \"section name\", 3, \"emitSearch\"], [\"searchBar\", \"\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"ps-2\", \"pe-2\", \"mb-1\", 3, \"disabled\", \"ngClass\", \"click\"], [\"type\", \"button\", 1, \"d-none\"], [\"refreshBtn\", \"\"], [\"displayMode\", \"flat\", \"multi\", \"\", 1, \"mat-table\", \"cardOverwrite\"], [\"matSort\", \"\", 1, \"mat-header-row\", \"header\", \"ms-2\"], [1, \"mat-header-cell\", \"sectionWidth\"], [1, \"pb-1\", 3, \"formControl\", \"change\"], [1, \"mat-header-cell\", \"ms-3\"], [1, \"mat-header-cell\", \"ms-2\"], [1, \"mat-header-cell\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"mat-cell text-center mx-auto mt-3\", 4, \"ngIf\"], [1, \"row\", \"m-2\"], [1, \"col-sm-12\"], [1, \"float-end\"], [\"class\", \"btn btn-sm btn-success me-2\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"routerLink\", \"/reporting-framework/tab/tracking\", 1, \"btn\", \"btn-sm\", \"btn-warning\"], [\"unassigned\", \"\"], [\"autoApproved\", \"\"], [1, \"headerLeftContainer\"], [1, \"pageTitle\"], [1, \"pageSubtitle\"], [1, \"cardOverwrite\", \"matAccordion\", \"m-2\"], [\"panel\", \"\"], [1, \"mat-row\"], [1, \"sectionWidth\", \"me-2\", \"pt-2\", 3, \"checked\", \"change\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 3, \"matTooltip\"], [\"tooltip\", \"matTooltip\"], [\"class\", \"mat-cell pt-2 users\", 4, \"ngIf\"], [\"class\", \"mat-cell pt-2\", 4, \"ngIf\"], [\"class\", \"mat-cell pt-2 ps-2\", 4, \"ngIf\"], [1, \"mat-cell\", \"pt-2\"], [\"class\", \"profileImageHeaderView rounded-circle border\", \"src\", \"../assets/images/default-profile-img.jpg\", \"alt\", \"profile-image\", \"matTooltipPosition\", \"above\", \"matTooltip\", \"Unassigned\", \"matTooltipClass\", \"nameTooltip\", 3, \"click\", 4, \"ngIf\"], [\"displayMode\", \"flat\", \"multi\", \"\"], [\"class\", \"cardOverwrite m-2\", 3, \"expanded\", \"opened\", 4, \"ngFor\", \"ngForOf\"], [1, \"mat-cell\", \"pt-2\", \"users\"], [\"class\", \"btn btn-sm rounded-circle circleBtn\", 3, \"matMenuTriggerFor\", \"click\", 4, \"ngIf\"], [1, \"menuWidth\"], [\"menu\", \"matMenu\"], [\"mat-menu-item\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"alt\", \"profile-image\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 1, \"profileImg\", \"rounded-circle\", \"border\", 3, \"src\", \"matTooltip\", \"ngStyle\"], [4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"rounded-circle\", \"circleBtn\", 3, \"matMenuTriggerFor\", \"click\"], [\"mat-menu-item\", \"\"], [1, \"profileImg\", \"rounded-circle\", \"border\", \"me-1\", 3, \"src\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"alt\", \"profile-image\", \"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 1, \"profileImg\", \"rounded-circle\", \"border\", \"userImg\", 3, \"src\", \"matTooltip\"], [1, \"mat-cell\", \"pt-2\", \"ps-2\"], [4, \"ngTemplateOutlet\"], [\"src\", \"../assets/images/default-profile-img.jpg\", \"alt\", \"profile-image\", \"matTooltipPosition\", \"above\", \"matTooltip\", \"Unassigned\", \"matTooltipClass\", \"nameTooltip\", 1, \"profileImageHeaderView\", \"rounded-circle\", \"border\", 3, \"click\"], [1, \"cardOverwrite\", \"m-2\", 3, \"expanded\", \"opened\"], [\"groupPanel\", \"\"], [\"pageType\", \"assignment\", 3, \"groupID\", \"isReadOnly\"], [1, \"mat-cell\", \"text-center\", \"mx-auto\", \"mt-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-success\", \"me-2\", 3, \"click\"], [\"src\", \"../assets/images/default-profile-img.jpg\", \"alt\", \"profile-image\", 1, \"profileImageHeaderView\", \"ms-0\", \"rounded-circle\", \"border\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", \"role\", \"img\", \"aria-label\", \"Success:\", 1, \"check-circle-fill\", \"flex-shrink-0\", \"dialogHeaderIcon\", \"textActiveStatus\"], [\"d\", \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z\"]],\n    template: function AssignmentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AssignmentComponent_div_1_Template, 6, 0, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\");\n        i0.ɵɵelement(4, \"lib-message-alert\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"lib-search-bar-one\", 6, 7);\n        i0.ɵɵlistener(\"emitSearch\", function AssignmentComponent_Template_lib_search_bar_one_emitSearch_7_listener($event) {\n          return ctx.searchFn($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵelementStart(10, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function AssignmentComponent_Template_button_click_10_listener() {\n          return ctx.sendSectionGroupListToAssign(ctx.FormAction.CREATE);\n        });\n        i0.ɵɵtext(11, \" Assign \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 9, 10);\n        i0.ɵɵtext(14, \"refresh\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-accordion\", 11);\n        i0.ɵɵelementStart(16, \"section\", 12);\n        i0.ɵɵelementStart(17, \"span\", 13);\n        i0.ɵɵelementStart(18, \"mat-checkbox\", 14);\n        i0.ɵɵlistener(\"change\", function AssignmentComponent_Template_mat_checkbox_change_18_listener($event) {\n          return ctx.selectUnselectAll($event);\n        });\n        i0.ɵɵtext(19, \" Section name \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"span\", 15);\n        i0.ɵɵtext(21, \"Assignee\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"span\", 16);\n        i0.ɵɵtext(23, \"Approver\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(24, \"span\", 17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(25, AssignmentComponent_ng_container_25_Template, 18, 13, \"ng-container\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, AssignmentComponent_div_26_Template, 2, 0, \"div\", 19);\n        i0.ɵɵelementStart(27, \"div\", 20);\n        i0.ɵɵelementStart(28, \"div\", 21);\n        i0.ɵɵelementStart(29, \"div\", 22);\n        i0.ɵɵtemplate(30, AssignmentComponent_button_30_Template, 2, 1, \"button\", 23);\n        i0.ɵɵelementStart(31, \"button\", 24);\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(33, AssignmentComponent_ng_template_33_Template, 2, 0, \"ng-template\", null, 25, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(35, AssignmentComponent_ng_template_35_Template, 3, 0, \"ng-template\", null, 26, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.type == null);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"messageAlertTypeInp\", ctx.messageAlertTypeEnum.INFO)(\"messageAlertIconInp\", ctx.messageAlertIconEnum.INFO_ICON);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", !ctx.assignBtnFlag)(\"ngClass\", i0.ɵɵpureFunction2(10, _c5, ctx.assignBtnFlag, !ctx.assignBtnFlag));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"formControl\", ctx.selectUnselectAllFC);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sectionGroupDataList);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.sectionGroupDataList.length == 0);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.createBtnFlag);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", \"Next\", \" \");\n      }\n    },\n    directives: [i7.NgIf, i8.MessageAlertComponent, i8.SearchBarOneComponent, i7.NgClass, i9.MatAccordion, i10.MatCheckbox, i11.NgControlStatus, i11.FormControlDirective, i7.NgForOf, i1.RouterLink, i9.MatExpansionPanel, i9.MatExpansionPanelHeader, i12.MatTooltip, i13.MatMenu, i7.NgStyle, i13.MatMenuTrigger, i13.MatMenuItem, i7.NgTemplateOutlet, i14.DataCreateUpdateComponent],\n    pipes: [i8.EllipsisPipeService],\n    styles: [\".matAccordion[_ngcontent-%COMP%]{box-shadow:none!important;background:whitesmoke;border-radius:16px!important}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-indicator[_ngcontent-%COMP%]:after{border-style:none!important;display:none!important}.panelDescription[_ngcontent-%COMP%]{width:98%;justify-content:space-between}.unassignedBtn[_ngcontent-%COMP%]{background-color:#d3d3d3}.mat-panel-description[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.headerContainerFlex[_ngcontent-%COMP%]{flex:.5}.header[_ngcontent-%COMP%]{border-bottom-style:solid;border-color:#959494}.mat-table[_ngcontent-%COMP%]{display:block}.mat-header-row[_ngcontent-%COMP%]{min-height:56px}.mat-row[_ngcontent-%COMP%]{min-height:48px}.mat-row[_ngcontent-%COMP%], .mat-header-row[_ngcontent-%COMP%]{display:flex;border-bottom-width:.5px;align-items:center;padding:0 24px;box-sizing:border-box}.mat-row[_ngcontent-%COMP%]:after, .mat-header-row[_ngcontent-%COMP%]:after{display:inline-block;min-height:inherit;content:\\\"\\\"}.mat-cell[_ngcontent-%COMP%], .mat-header-cell[_ngcontent-%COMP%]{flex:1;word-wrap:break-word;min-width:13vw!important;max-width:13vw!important}.sectionWidth[_ngcontent-%COMP%]{min-width:35vw!important;max-width:35vw!important}.profileImgContainer[_ngcontent-%COMP%]{width:60px;min-height:60px;max-height:auto;float:left;margin:3px;padding:3px;display:flex;align-items:center;justify-content:center}.profileImg[_ngcontent-%COMP%]{position:relative;border-color:#666565!important;width:25px;margin-left:-10px;transition:transform .25s}.profileImg[_ngcontent-%COMP%]:hover{z-index:100!important;transform:scale(1.2)}.dropDownUserImg[_ngcontent-%COMP%]{position:relative;border-color:#666565!important;width:25px;transition:transform .25s}.dropDownUserImg[_ngcontent-%COMP%]:hover{z-index:100!important;transform:scale(1.2)}.users[_ngcontent-%COMP%]   .profileImg[_ngcontent-%COMP%]:first-child{margin-left:0}.circleBtn[_ngcontent-%COMP%]{background-color:#d3d3d3;height:29px;width:29px;font-size:9px;font-weight:bold}.funnelFilterDD[_ngcontent-%COMP%]{width:0;height:0}\"]\n  });\n  return AssignmentComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}