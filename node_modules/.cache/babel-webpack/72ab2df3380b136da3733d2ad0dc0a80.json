{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { FormGroup, Validators } from '@angular/forms';\n/* tsc-library */\nimport { DATE_CONSTANT } from '@library/date';\nimport { OrgType } from '@library/organization-service';\nimport { MatSelectSearchService, MaterialFormFieldAppearance } from '@library/tsc-common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@library/netzero\";\nimport * as i4 from \"@library/toastr-service\";\nimport * as i5 from \"@library/storage-service\";\nimport * as i6 from \"@netzero/controller/asset.controller\";\nimport * as i7 from \"@carbon/controller/fuel.controller\";\nimport * as i8 from \"@library/organization-service\";\nimport * as i9 from \"@angular/material/card\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@angular/material/form-field\";\nimport * as i12 from \"@angular/material/input\";\nimport * as i13 from \"@angular/material/select\";\nimport * as i14 from \"@angular/material/core\";\nimport * as i15 from \"ngx-mat-select-search\";\nimport * as i16 from \"@angular/material/tooltip\";\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_3_mat_error_5_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validators_r15 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", validators_r15[\"error\"], \" \");\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_3_mat_error_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtemplate(1, MobileCombustionComponent_ng_container_7_ng_container_9_div_3_mat_error_5_ng_container_1_Template, 2, 1, \"ng-container\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const validators_r15 = ctx.$implicit;\n    const field_r8 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.errorHandling(field_r8[\"control\"], validators_r15[\"validator\"]));\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"d-none\": a0\n  };\n};\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 22);\n    i0.ɵɵelementStart(2, \"mat-label\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 24);\n    i0.ɵɵtemplate(5, MobileCombustionComponent_ng_container_7_ng_container_9_div_3_mat_error_5_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(field_r8[\"width\"] + \" row\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, !field_r8[\"view\"]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appearance\", ctx_r9.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r8[\"label\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", field_r8[\"type\"])(\"formControlName\", field_r8[\"control\"])(\"placeholder\", field_r8[\"placeholder\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", field_r8[\"validators\"]);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\");\n    i0.ɵɵelement(1, \"ngx-mat-select-search\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r8 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControl\", ctx_r20.getSearchUtil(field_r8[\"searchUtil\"][\"name\"])[\"filterFC\"])(\"placeholderLabel\", field_r8[\"searchUtil\"][\"placeholderLabel\"])(\"noEntriesFoundLabel\", field_r8[\"searchUtil\"][\"noEntriesFoundLabel\"]);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-option\", 28);\n    i0.ɵɵlistener(\"click\", function MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_option_6_Template_mat_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const entity_r24 = restoredCtx.$implicit;\n      const field_r8 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return ctx_r25.selectionChange(field_r8[\"key\"], entity_r24);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const entity_r24 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", entity_r24[\"id\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", entity_r24[\"name\"], \" \");\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_error_8_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const validators_r28 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", validators_r28[\"error\"], \" \");\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtemplate(1, MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_error_8_ng_container_1_Template, 2, 1, \"ng-container\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const validators_r28 = ctx.$implicit;\n    const field_r8 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r22.errorHandling(field_r8[\"control\"], validators_r28[\"validator\"]));\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"mat-form-field\", 22);\n    i0.ɵɵelementStart(2, \"mat-label\", 23);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-select\", 25);\n    i0.ɵɵlistener(\"selectionChange\", function MobileCombustionComponent_ng_container_7_ng_container_9_div_5_Template_mat_select_selectionChange_4_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const field_r8 = i0.ɵɵnextContext().$implicit;\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return ctx_r32.selectionChange(field_r8[\"control\"]);\n    });\n    i0.ɵɵtemplate(5, MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_option_5_Template, 2, 3, \"mat-option\", 19);\n    i0.ɵɵtemplate(6, MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_option_6_Template, 2, 2, \"mat-option\", 26);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, MobileCombustionComponent_ng_container_7_ng_container_9_div_5_mat_error_8_Template, 2, 1, \"mat-error\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(field_r8[\"width\"] + \" row\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c0, !field_r8[\"view\"]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"appearance\", ctx_r10.MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(field_r8[\"label\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", field_r8[\"control\"])(\"mulitple\", field_r8[\"multiple\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", field_r8[\"search\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", field_r8[\"search\"] ? i0.ɵɵpipeBind1(7, 10, ctx_r10.getSearchUtil(field_r8[\"searchUtil\"][\"name\"])[\"filteredEntities\"]) : field_r8[\"entityList\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", field_r8[\"validators\"]);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_6_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 29);\n    i0.ɵɵtemplate(2, MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_6_ng_container_2_Template, 1, 0, \"ng-container\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(3);\n    const _r3 = i0.ɵɵreference(11);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r3);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_7_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 29);\n    i0.ɵɵtemplate(2, MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_7_ng_container_2_Template, 1, 0, \"ng-container\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(3);\n    const _r5 = i0.ɵɵreference(13);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"div\", 31);\n    i0.ɵɵelementStart(2, \"div\", 32);\n    i0.ɵɵelementStart(3, \"div\", 33);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 34);\n    i0.ɵɵelementStart(6, \"div\", 35);\n    i0.ɵɵelementStart(7, \"span\", 36);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const field_r8 = i0.ɵɵnextContext().$implicit;\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(field_r8[\"width\"]);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, !field_r8[\"view\"]));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", field_r8[\"title\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matTooltip\", (field_r8[\"value\"] == null ? null : field_r8[\"value\"].length) > ctx_r13.wordLength ? field_r8[\"value\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", field_r8[\"value\"].length, \" \");\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementContainerStart(1, 17);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵtemplate(3, MobileCombustionComponent_ng_container_7_ng_container_9_div_3_Template, 6, 11, \"div\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 10);\n    i0.ɵɵtemplate(5, MobileCombustionComponent_ng_container_7_ng_container_9_div_5_Template, 9, 14, \"div\", 18);\n    i0.ɵɵtemplate(6, MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_6_Template, 3, 1, \"ng-container\", 19);\n    i0.ɵɵtemplate(7, MobileCombustionComponent_ng_container_7_ng_container_9_ng_container_7_Template, 3, 1, \"ng-container\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, MobileCombustionComponent_ng_container_7_ng_container_9_div_8_Template, 9, 8, \"div\", 20);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const field_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", field_r8[\"input\"]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"input\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"select\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", field_r8[\"key\"] == \"vehicleID\" && !ctx_r7.haveVehicles);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", field_r8[\"key\"] == \"facility\" && !ctx_r7.haveFacilities);\n  }\n}\nfunction MobileCombustionComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(4, \"svg\", 13);\n    i0.ɵɵelement(5, \"use\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(6, \"div\", 15);\n    i0.ɵɵtext(7, \" Choose a vehicle or vehicle category along with your preferred fuel type. Feel free to provide additional details if desired. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 10);\n    i0.ɵɵtemplate(9, MobileCombustionComponent_ng_container_7_ng_container_9_Template, 9, 5, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.viewFields);\n  }\n}\nfunction MobileCombustionComponent_ng_template_8_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 21);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵelementStart(3, \"div\", 32);\n    i0.ɵɵelementStart(4, \"div\", 38);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 34);\n    i0.ɵɵelementStart(7, \"div\", 35);\n    i0.ɵɵelementStart(8, \"span\", 36);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const viewField_r40 = ctx.$implicit;\n    const ctx_r39 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", viewField_r40[\"width\"]);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", viewField_r40[\"title\"], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"matTooltip\", (viewField_r40[\"value\"] == null ? null : viewField_r40[\"value\"].length) && viewField_r40[\"value\"].length > 20 ? viewField_r40[\"value\"] : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (viewField_r40 == null ? null : viewField_r40[\"value\"]) && (viewField_r40[\"value\"] != null || (viewField_r40[\"value\"] == null ? null : viewField_r40[\"value\"].length)) ? viewField_r40[\"value\"] : ctx_r39.globalConstant[\"HYPHEN\"], \" \");\n  }\n}\nfunction MobileCombustionComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 37);\n    i0.ɵɵtemplate(2, MobileCombustionComponent_ng_template_8_ng_container_2_Template, 10, 4, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.viewFields);\n  }\n}\nfunction MobileCombustionComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 40);\n    i0.ɵɵelement(2, \"use\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"div\", 15);\n    i0.ɵɵtext(4, \" You have not created any vehicle. Please create one \");\n    i0.ɵɵelementStart(5, \"a\", 41);\n    i0.ɵɵtext(6, \"here\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \". \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MobileCombustionComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 40);\n    i0.ɵɵelement(2, \"use\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"div\", 15);\n    i0.ɵɵtext(4, \" You have not created any facility. Please create one \");\n    i0.ɵɵelementStart(5, \"a\", 42);\n    i0.ɵɵtext(6, \"here\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \". \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"border-danger\": a0\n  };\n};\n/* tsc-library */\nexport let MobileCombustionComponent = /*#__PURE__*/(() => {\n  class MobileCombustionComponent {\n    constructor(activatedRoute, formBuilder, vehicleService, toastrService, storageService, assetController, fuelController, organizationController) {\n      this.activatedRoute = activatedRoute;\n      this.formBuilder = formBuilder;\n      this.vehicleService = vehicleService;\n      this.toastrService = toastrService;\n      this.assetController = assetController;\n      this.fuelController = fuelController;\n      this.organizationController = organizationController;\n      this.OrgType = OrgType;\n      this.MaterialFormFieldAppearance = MaterialFormFieldAppearance;\n      this.fields = [{\n        view: true,\n        width: 'col-sm-8',\n        key: 'vehicleID',\n        label: 'Select vehicle',\n        control: 'vehicleID',\n        value: null,\n        input: 'select',\n        type: 'select',\n        multiple: false,\n        search: true,\n        searchUtil: {\n          name: 'vehicleSearchUtil',\n          placeholderLabel: 'Search by vehicle name',\n          noEntriesFoundLabel: 'No matching vehicle found',\n          searchBy: 'name'\n        },\n        entityList: [],\n        validators: [{\n          validator: 'required',\n          error: 'Select a vehicle'\n        }]\n      }, {\n        view: true,\n        width: 'col-sm-8',\n        key: 'vehicleCategory',\n        label: 'Vehicle category',\n        control: 'vehicleCategoryID',\n        input: 'select',\n        type: 'select',\n        multiple: false,\n        search: true,\n        searchUtil: {\n          name: 'categorySearchUtil',\n          placeholderLabel: 'Search by vehicle category',\n          noEntriesFoundLabel: 'No matching category found',\n          searchBy: 'name'\n        },\n        entityList: [],\n        validators: [{\n          validator: 'required',\n          error: 'Select a vehicle category'\n        }]\n      }, {\n        view: true,\n        width: 'col-sm-8',\n        key: 'fuelType',\n        label: 'Fuel type',\n        control: 'fuelTypeID',\n        input: 'select',\n        type: 'select',\n        multiple: false,\n        search: true,\n        searchUtil: {\n          name: 'fuelTypeSearchUtil',\n          placeholderLabel: 'Search by fuel type',\n          noEntriesFoundLabel: 'No matching fuel found',\n          searchBy: 'name'\n        },\n        entityList: [],\n        validators: [{\n          validator: 'required',\n          error: 'Select a fuel type'\n        }]\n      }, {\n        view: true,\n        width: 'col-sm-8',\n        key: 'year',\n        label: 'Year',\n        control: 'vehicleYear',\n        value: null,\n        placeholder: 'vehicle year',\n        input: 'input',\n        type: 'number',\n        validators: [{\n          validator: 'min',\n          value: 1980,\n          error: 'Vehicle year cannot be smaller than 1980'\n        }, {\n          validator: 'max',\n          value: DATE_CONSTANT.CURRENT_YEAR,\n          error: `Vehicle year cannot be greater than ${DATE_CONSTANT.CURRENT_YEAR}`\n        }]\n      }, {\n        view: true,\n        width: 'col-sm-8',\n        key: 'engineStroke',\n        label: 'Engine stroke',\n        control: 'engineStrokeID',\n        input: 'select',\n        type: 'select',\n        multiple: false,\n        search: false,\n        entityList: [],\n        validators: []\n      }, {\n        view: true,\n        width: 'col-sm-8',\n        key: 'facility',\n        label: 'Facility',\n        control: 'orgID',\n        input: 'select',\n        type: 'select',\n        multiple: false,\n        search: true,\n        searchUtil: {\n          name: 'facilitySearchUtil',\n          placeholderLabel: 'Search by facility name',\n          noEntriesFoundLabel: 'No matching facility found',\n          searchBy: 'orgName'\n        },\n        entityList: [],\n        validators: []\n      }, {\n        view: true,\n        width: 'col-sm-6',\n        key: 'view',\n        control: 'name',\n        title: 'Vehicle',\n        value: 'Vehicle'\n      }, {\n        view: true,\n        width: 'col-sm-6',\n        key: 'view',\n        control: 'vehicleYear',\n        title: 'Vehicle year',\n        value: 'Vehicle year'\n      }, {\n        view: true,\n        width: 'col-sm-6',\n        key: 'view',\n        control: 'category',\n        title: 'Vehicle category',\n        value: 'Vehicle category'\n      }, {\n        view: true,\n        width: 'col-sm-6',\n        key: 'view',\n        control: 'fuelType',\n        title: 'Fuel type',\n        value: 'Fuel type'\n      }, {\n        view: true,\n        width: 'col-sm-6',\n        key: 'view',\n        control: 'engineStroke',\n        title: 'Engine stroke',\n        value: 'Engine stroke'\n      }, {\n        view: true,\n        width: 'col-sm-6',\n        key: 'view',\n        control: 'location',\n        title: 'Location',\n        value: 'Location'\n      }];\n      this.searchUtility = {};\n      this.isFactor = true;\n      this.referenceDataFG = new FormGroup({});\n      this.haveFacilities = true;\n      this.haveVehicles = true;\n      this.inValidFrom = false;\n      this.errorHandling = (control, error) => {\n        return this.referenceDataFG.get(control).hasError(error);\n      };\n      this.currentOrgID = parseInt(storageService.getStorage(['currentOrgID']));\n      this.currentOrgType = storageService.getStorage(['currentOrgType']);\n    }\n    setEntityList(key, list) {\n      this.fields.find(f => (f === null || f === void 0 ? void 0 : f.key) == key)['entityList'] = list;\n    }\n    getField(key) {\n      return this.fields.find(f => (f === null || f === void 0 ? void 0 : f.key) == key);\n    }\n    get vehicle() {\n      return this.referenceDataFG.get('vehicleID');\n    }\n    createSearchUtilities() {\n      this.fields.forEach(ff => {\n        if (ff['input'] == 'select' && ff['search']) {\n          let searchUtil = ff['searchUtil'];\n          let name = searchUtil['name'];\n          this.searchUtility[name] = new MatSelectSearchService([searchUtil['searchBy']]);\n        }\n      });\n    }\n    getSearchUtil(util) {\n      return this.searchUtility[util];\n    }\n    ngOnInit() {\n      this.activatedRoute.parent.params.subscribe(params => {\n        if (params['factorID']) {\n          this.isFactor = false;\n        } else {\n          this.createSearchUtilities();\n        }\n        this.initFormGroup();\n      });\n    }\n    initFormGroup() {\n      this.referenceDataFG = this.formBuilder.group(this.createFormGroup());\n    }\n    createFormGroup() {\n      let formGroup = {};\n      if (this.isFactor) {\n        let formFields = this.fields.filter(ff => ff['key'] != 'view');\n        formFields.forEach(ff => {\n          formGroup[ff['control']] = this.formBuilder.control(null, Validators.compose(ff['control'] != 'vehicleYear' ? null : ff['validators'].map(v => (v === null || v === void 0 ? void 0 : v.value) ? Validators[v['validator']](v['value']) : Validators[v['validator']])));\n        });\n        this.getFuelType();\n        this.getVehicleList();\n        this.getVehicleCategory();\n        this.getEngineStroke();\n        if (this.currentOrgType == OrgType.ORGANIZATION) {\n          this.getOrganizationList();\n        } else if (this.currentOrgType == OrgType.SITE) {\n          this.getField('facility')['view'] = false;\n          formGroup['orgID'].patchValue(this.currentOrgID);\n        }\n        this.viewFields = this.fields.filter(ff => ff['key'] != 'view');\n      } else {\n        this.viewFields = this.fields.filter(ff => ff['key'] == 'view');\n      }\n      return formGroup;\n    }\n    getVehicleList() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let vehicleList = yield this.vehicleService.getAllVehicle(this.currentOrgID);\n        this.haveVehicles = (vehicleList === null || vehicleList === void 0 ? void 0 : vehicleList.length) > 0;\n        let entityArr = vehicleList.map(({\n          id,\n          vehicleName\n        }) => ({\n          id,\n          name: vehicleName\n        }));\n        this.searchUtility['vehicleSearchUtil'].entityArr = entityArr;\n        this.searchUtility['vehicleSearchUtil'].createSubscription();\n      });\n    }\n    getVehicleCategory() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let category = yield this.vehicleService.getVehicleCategory();\n        this.searchUtility['categorySearchUtil'].entityArr = category;\n        this.searchUtility['categorySearchUtil'].createSubscription();\n      });\n    }\n    getFuelType() {\n      this.fuelController.getFuelSource().subscribe(response => {\n        let entityArr = response.map(({\n          fuelSourceID,\n          fuelSourceName\n        }) => ({\n          id: fuelSourceID,\n          name: fuelSourceName\n        }));\n        this.searchUtility['fuelTypeSearchUtil'].entityArr = entityArr;\n        this.searchUtility['fuelTypeSearchUtil'].createSubscription();\n      }, error => {\n        console.log('error in getFuelType() -', error);\n        this.toastrService.openToast(error.error['title'], error.error['message'], error.error['result']);\n      });\n    }\n    getEngineStroke() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.setEntityList('engineStroke', yield this.vehicleService.getEngineStroke());\n      });\n    }\n    getOrganizationList() {\n      this.organizationController.getOrganizationsByType(this.currentOrgID, OrgType.SITE).subscribe(facilityRes => {\n        this.haveFacilities = (facilityRes === null || facilityRes === void 0 ? void 0 : facilityRes.length) > 0;\n        this.searchUtility['facilitySearchUtil'].entityArr = facilityRes;\n        this.searchUtility['facilitySearchUtil'].createSubscription();\n      }, error => {\n        console.log('error in getOrganizationList() -', error);\n        this.toastrService.openToast(error.error['title'], error.error['message'], error.error['result']);\n      });\n    }\n    selectionChange(key) {\n      this.inValidFrom = false;\n      switch (key) {\n        case 'vehicleID':\n          this.resetAndClearValidators(['vehicleID', 'vehicleYear']);\n          this.referenceDataFG.get('vehicleYear').reset();\n          this.referenceDataFG.get('vehicleID').addValidators(Validators.required);\n          this.referenceDataFG.get('vehicleID').updateValueAndValidity();\n          break;\n        case 'fuelTypeID':\n        case 'vehicleCategoryID':\n          this.referenceDataFG.get('vehicleYear').reset();\n          this.resetAndClearValidators(['fuelTypeID', 'vehicleCategoryID', 'vehicleYear']);\n          this.referenceDataFG.get('fuelTypeID').addValidators(Validators.required);\n          this.referenceDataFG.get('fuelTypeID').updateValueAndValidity();\n          this.referenceDataFG.get('vehicleCategoryID').addValidators(Validators.required);\n          this.referenceDataFG.get('vehicleCategoryID').updateValueAndValidity();\n        default:\n          console.log('default');\n      }\n    }\n    resetAndClearValidators(key) {\n      let controls;\n      if (typeof key == 'object') controls = Object.keys(this.referenceDataFG.controls).filter(c => !key.includes(c));else controls = Object.keys(this.referenceDataFG.controls).filter(c => c != key);\n      controls.forEach(control => {\n        this.referenceDataFG.get(control).reset();\n        this.referenceDataFG.get(control).clearValidators();\n        this.referenceDataFG.get(control).updateValueAndValidity();\n      });\n    }\n    patchReference(reference) {\n      this.fields.forEach(ff => {\n        if (ff['key'] == 'view') {\n          ff['value'] = reference[ff['control']];\n        }\n      });\n    }\n    isValidForm() {\n      if (this.isFactor) {\n        let value = this.referenceDataFG.value;\n        if (!(value['vehicleID'] || value['fuelTypeID'] && value['vehicleCategoryID'])) {\n          console.log('invalid form -', this.referenceDataFG);\n          this.referenceDataFG.markAllAsTouched();\n          this.inValidFrom = true;\n          return false;\n        }\n      }\n      if (this.currentOrgType == OrgType.SITE) {\n        this.referenceDataFG.get('orgID').patchValue(this.currentOrgID);\n      }\n      return true;\n    }\n  }\n  MobileCombustionComponent.ɵfac = function MobileCombustionComponent_Factory(t) {\n    return new (t || MobileCombustionComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.VehicleService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.StorageService), i0.ɵɵdirectiveInject(i6.AssetController), i0.ɵɵdirectiveInject(i7.FuelController), i0.ɵɵdirectiveInject(i8.OrganizationController));\n  };\n  MobileCombustionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MobileCombustionComponent,\n    selectors: [[\"app-mobile-combustion\"]],\n    decls: 14,\n    vars: 6,\n    consts: [[\"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"d-none\"], [\"id\", \"info-fill\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\"], [\"d\", \"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"], [1, \"border\", \"cardOverwrite\", 3, \"ngClass\"], [1, \"cardTitle\", \"pb-2\"], [3, \"formGroup\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"noVehicle\", \"\"], [\"noFacilities\", \"\"], [1, \"row\"], [1, \"col-sm-12\"], [\"role\", \"alert\", 1, \"alert\", \"alert-primary\", \"centerAlignVertical\", \"cardOverwrite\"], [\"role\", \"img\", \"aria-label\", \"Info:\", 1, \"bi\", \"flex-shrink-0\", \"me-2\", \"dialogHeaderIcon\"], [0, \"xlink\", \"href\", \"#info-fill\"], [1, \"extraInfoCardText\", \"ps-3\", \"fs-6\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSwitch\"], [3, \"class\", \"ngClass\", 4, \"ngSwitchCase\"], [4, \"ngIf\"], [3, \"class\", \"ngClass\", 4, \"ngSwitchDefault\"], [3, \"ngClass\"], [1, \"matFieldWidth100\", 3, \"appearance\"], [1, \"formLabel\"], [\"matInput\", \"\", 1, \"formPlaceholder\", 3, \"type\", \"formControlName\", \"placeholder\"], [3, \"formControlName\", \"mulitple\", \"selectionChange\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"formControl\", \"placeholderLabel\", \"noEntriesFoundLabel\"], [3, \"value\", \"click\"], [1, \"col-sm-4\"], [4, \"ngTemplateOutlet\"], [1, \"row\", \"pb-3\", \"w-100\"], [1, \"col-sm-5\", \"centerAlignVertical\"], [1, \"col-form-label\", \"ms-1\", \"fs-5\", \"fw-bold\"], [1, \"col-sm-7\", \"centerAlignVertical\"], [1, \"form-control-plaintext\", \"fw-bold\"], [\"matTooltipPosition\", \"above\", \"matTooltipClass\", \"nameTooltip\", 3, \"matTooltip\"], [1, \"row\", \"pb-3\"], [1, \"col-form-label\", \"ms-1\"], [1, \"alert\", \"alert-primary\", \"centerAlignVertical\", \"roundedBorder\"], [1, \"extraInfoCardIcon\"], [\"routerLink\", \"/source/vehicle\", \"target\", \"_blank\"], [\"target\", \"_blank\"]],\n    template: function MobileCombustionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(0, \"svg\", 0);\n        i0.ɵɵelementStart(1, \"symbol\", 1);\n        i0.ɵɵelement(2, \"path\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(3, \"mat-card\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtext(5, \" Reference data \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"form\", 5);\n        i0.ɵɵtemplate(7, MobileCombustionComponent_ng_container_7_Template, 10, 1, \"ng-container\", 6);\n        i0.ɵɵtemplate(8, MobileCombustionComponent_ng_template_8_Template, 3, 1, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, MobileCombustionComponent_ng_template_10_Template, 8, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(12, MobileCombustionComponent_ng_template_12_Template, 8, 0, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(9);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c1, ctx.inValidFrom));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.referenceDataFG);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isFactor)(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i9.MatCard, i10.NgClass, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i10.NgIf, i10.NgForOf, i10.NgSwitch, i10.NgSwitchCase, i10.NgSwitchDefault, i11.MatFormField, i11.MatLabel, i12.MatInput, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i11.MatError, i13.MatSelect, i14.MatOption, i15.MatSelectSearchComponent, i2.FormControlDirective, i10.NgTemplateOutlet, i16.MatTooltip, i1.RouterLinkWithHref],\n    pipes: [i10.AsyncPipe],\n    encapsulation: 2\n  });\n  return MobileCombustionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}