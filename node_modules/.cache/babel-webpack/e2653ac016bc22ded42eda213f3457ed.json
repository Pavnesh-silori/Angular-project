{"ast":null,"code":"import { LOADING_GRAPHIC, NO_DATA_GRAPHIC } from '@library/echart';\n// /tsc-library/\nimport { CommonModule } from '@angular/common';\nimport { NgxEchartsModule } from 'ngx-echarts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-echarts\";\nexport let HorizontalBarChartComponent = /*#__PURE__*/(() => {\n  class HorizontalBarChartComponent {\n    constructor() {\n      this.renderFlag = 'LOADING';\n    }\n    ngOnInit() {\n      this.noDataOption = {\n        title: {\n          text: this.chartMetaData.title,\n          textStyle: {\n            color: this.chartMetaData.titleColor\n          },\n          padding: [7, 0, 0, 20]\n        },\n        graphic: NO_DATA_GRAPHIC,\n        xAxis: {\n          show: false\n        },\n        yAxis: {\n          show: false\n        }\n      };\n      this.chartDataCheck();\n    }\n    ngOnChanges() {\n      this.chartDataCheck();\n    }\n    chartDataCheck() {\n      if (this.renderFlag == 'LOADING') {\n        this.chartDataOption = LOADING_GRAPHIC;\n      } else if (this.renderFlag == 'DATA') {\n        this.drawChart();\n      } else {\n        this.chartDataOption = this.noDataOption;\n      }\n    }\n    drawChart() {\n      this.chartDataOption = {\n        color: this.chartMetaData.color,\n        toolbox: {\n          feature: {\n            // dataView: { show: true, readOnly: true },\n            saveAsImage: {\n              show: true\n            }\n          }\n        },\n        title: {\n          show: true,\n          text: `${this.chartMetaData.title} (${this.chartData.uomName})`,\n          textStyle: {\n            color: this.chartMetaData.titleColor\n          },\n          padding: [7, 0, 0, 20]\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'line'\n          },\n          // axisPointer: {\n          //     type: 'line',\n          // },\n          formatter: '{c} ' + this.chartData.uomName\n        },\n        xAxis: {\n          type: 'value',\n          axisLabel: {\n            show: true\n          },\n          name: this.chartMetaData.xAxisName,\n          nameTextStyle: {\n            align: 'right',\n            verticalAlign: 'top',\n            padding: [30, 0, 0, 0]\n          }\n        },\n        yAxis: {\n          type: 'category',\n          data: this.chartData.data.map(m => ({\n            value: m.name\n          })),\n          axisLabel: {\n            show: false\n          },\n          name: this.chartMetaData.yAxisName,\n          nameTextStyle: {\n            align: 'right',\n            verticalAlign: 'bottom',\n            padding: [30, 0, 0, 0]\n          }\n        },\n        series: [{\n          data: this.chartData.data.map(m => ({\n            value: m.value\n          })),\n          type: 'bar',\n          colorBy: 'data',\n          label: {\n            position: [5, -11],\n            formatter: '{b}',\n            show: true\n          },\n          barMaxWidth: 25,\n          barCategoryGap: 15\n        }]\n      };\n    }\n  }\n  HorizontalBarChartComponent.ɵfac = function HorizontalBarChartComponent_Factory(t) {\n    return new (t || HorizontalBarChartComponent)();\n  };\n  HorizontalBarChartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HorizontalBarChartComponent,\n    selectors: [[\"app-horizontal-bar-chart\"]],\n    inputs: {\n      renderFlag: \"renderFlag\",\n      chartData: \"chartData\",\n      chartMetaData: \"chartMetaData\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 3,\n    vars: 1,\n    consts: [[1, \"card\", \"main-card\", \"cardOverwrite\"], [1, \"card-body\"], [\"echarts\", \"\", 3, \"options\"]],\n    template: function HorizontalBarChartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"options\", ctx.chartDataOption);\n      }\n    },\n    directives: [i1.NgxEchartsDirective],\n    encapsulation: 2\n  });\n  return HorizontalBarChartComponent;\n})();\nexport let HorizontalBarChartModule = /*#__PURE__*/(() => {\n  class HorizontalBarChartModule {}\n  HorizontalBarChartModule.ɵfac = function HorizontalBarChartModule_Factory(t) {\n    return new (t || HorizontalBarChartModule)();\n  };\n  HorizontalBarChartModule.ɵmod = /*@__PURE__*/i0.ɵɵdefineNgModule({\n    type: HorizontalBarChartModule\n  });\n  HorizontalBarChartModule.ɵinj = /*@__PURE__*/i0.ɵɵdefineInjector({\n    imports: [[CommonModule, NgxEchartsModule.forRoot({\n      echarts: () => import('echarts')\n    })]]\n  });\n  return HorizontalBarChartModule;\n})();","map":null,"metadata":{},"sourceType":"module"}