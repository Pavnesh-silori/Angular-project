<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
    </symbol>
    <symbol id="check-circle-fill" fill="#6c757d" viewBox="0 0 16 16">
        <path
            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
    </symbol>
</svg>
<div class="container">
    <div class="card main-card appPagesLayoutMain d-flex justify-content-center cardOverwrite">
        <div class="row">
            <div class="col-sm-6 px-5 py-5 d-flex justify-content-center align-items-center">
                <img class="resetPasswordImg" src="/assets/images/reset-password.jpg" alt="Reset Password" />
            </div>

            <div class="col-sm-6 px-5 py-5 d-flex justify-content-center align-items-center text-center">
                <mat-card class="mat-elevation-z0 border rounded-3 w-100">
                    <div class="card-body">

                        <img class="logo-img mb-3" src="assets/images/tsc-logo-png.png" />
                        <div class="pb-3">
                            <h4>
                                Reset Password
                            </h4>
                        </div>

                        <form [formGroup]="newPasswordFG" (ngSubmit)="resetPassword()">
                            <mat-form-field class="matFieldWidth100"
                            [appearance]="MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE">
                                <mat-label>New Password</mat-label>
                                <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" autocomplete="off" required />
                                <button class="text-secondary" type="button" mat-icon-button matSuffix (click)="hide = !hide">
                                    <mat-icon matIcon>
                                        {{hide ? 'visibility_off' : 'visibility'}}
                                    </mat-icon>
                                </button>
                            </mat-form-field>

                            <mat-form-field class="matFieldWidth100"
                            [appearance]="MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE">
                                <mat-label>Confirm Password</mat-label>
                                <input matInput [type]="confirmHide ? 'password' : 'text'"
                                    formControlName="confirmPassword" autocomplete="off" required />
                                <button class="text-secondary" type="button" mat-icon-button matSuffix (click)="confirmHide = !confirmHide">
                                    <mat-icon matIcon>
                                        {{confirmHide ? 'visibility_off' : 'visibility'}}
                                    </mat-icon>
                                </button>
                                <mat-error *ngIf="errorHandling('confirmPassword', 'passwordMismatch')">
                                    Password mismatch.
                                </mat-error>
                            </mat-form-field>

                            <div class="row">
                                <div class="col-sm-6" *ngFor="let policy of passwordPolicyList">
                                    <div class="d-flex align-items-center mt-2">
                                        <svg *ngIf="!isPasswordPolicyMatch(policy)" fill="#6c757d"
                                            class="check-circle-fill flex-shrink-0 fs-5 dialogHeaderIcon verifiedIcon me-2"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
                                        </svg>
                                        <svg *ngIf="isPasswordPolicyMatch(policy)" fill="currentColor"
                                            class="check-circle-fill flex-shrink-0 fs-5 dialogHeaderIcon verifiedIcon me-2"
                                            viewBox="0 0 16 16">
                                            <path
                                                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
                                        </svg>
                                        <span
                                            [ngClass]="{'text-dark': isPasswordPolicyMatch(policy), 'text-secondary': !isPasswordPolicyMatch(policy)}">
                                            {{ policy.name }}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-sm-12">
                                    <div class="float-end">
                                        <a class="btn btn-link" routerLink="/login">
                                            Back to Login
                                        </a>
                                        <button type="submit" class="btn" [ngClass]="{
                                            'btn-secondary': newPasswordFG.invalid,
                                            'btn-success': newPasswordFG.valid
                                            }" [disabled]="newPasswordFG.invalid">
                                            Submit
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>

                        <div class="divider mt-0"></div>

                        <div>
                            <a class="btn btn-link text-secondary font-size-2" [href]="COMMON_CONSTANT.PRIVACY"
                                target="_blank">Privacy</a>
                            <a class="btn btn-link text-secondary font-size-2" [href]="COMMON_CONSTANT.TERMS" target="_blank">Terms</a>
                            <!-- <a class="btn btn-link text-secondary font-size-2" target="_blank" href="http://www.freepik.com">Image by Freepik</a> -->
                        </div>
                        <div class="font-size-1">
                            Copyright Â© LogicLadder
                        </div>

                    </div>
                    <!-- </div> -->
                </mat-card>
            </div>

        </div>
    </div>
</div>
