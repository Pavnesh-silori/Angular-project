<div #header>
    <div class="headerContainer p-0">
        <div class="headerLeftContainer">
            <div class="pageTitle">Select an activity form</div>
            <div class="pageSubtitle"></div>
        </div>

        <div class="headerRightContainer">
            <div class="headerRightContainerInner">
                <button class="btn btn-sm centerAlign py-1 iconBtn">
                    <span class="material-symbols-outlined" (click)="checkFalseCase()">
                        close
                    </span>
                </button>
            </div>
        </div>
    </div>

    <div class="headerRightContainer pt-3">
        <div class="headerRightContainerInner">
            <lib-search-bar-one #searchBar [searchBy]="'name'" class="float-end" [emitValueOnChange]="emitValueOnChange"
                (emitSearch)="searchFn($event)">
            </lib-search-bar-one>
        </div>
    </div>
</div>

<!-- </div> -->

<!-- <button type="button" class="d-none" #refreshBtn>refresh</button> -->
<mat-dialog-content class="mat-typography customScrollBar pt-2" #body>
    <table mat-table [dataSource]="dataSource" matSort matSortActive="id" matSortDisableClear matSortDirection="desc"
        class="sticky-header">

        <ng-container matColumnDef="id">
            <th class="columnWidth" mat-header-cell *matHeaderCellDef mat-sort-header disableClear
                [hidden]="!(origin == ActivityConfigEnum.PFF)"> Form ID </th>
            <td mat-cell *matCellDef="let row" [hidden]="!(origin == ActivityConfigEnum.PFF)">{{row.id}}
            </td>
        </ng-container>

        <ng-container matColumnDef="formName">
            <th class="columnWidth" mat-header-cell *matHeaderCellDef> Form Name</th>
            <td mat-cell *matCellDef="let row" [matTooltip]="row.name.length > 25 ? row.name : ''">
                {{ row.name.length > 18 ? row.name.slice(0, 18) + '...' : row.name }}
            </td>
        </ng-container>

        <ng-container>
            <ng-container matColumnDef="activityType">
                <th class="col-sm-1 reportingFrameWork" mat-header-cell *matHeaderCellDef> Activity</th>
                <td class="cursorPointer" mat-cell *matCellDef="let row"
                    [matTooltip]="row.activity.name.length > 25 ? row.activity.name : ''"
                    (click)="navigateToViewPage(row.id, row.name)">
                    {{ row.activity.name.length > 18 ? row.activity.name.slice(0, 18) + '...' : row.activity.name }}
                </td>
            </ng-container>
        </ng-container>


        <ng-container matColumnDef="useActivityConfig">
            <th class="ps-5" mat-header-cell *matHeaderCellDef class="isChecked">
            </th>
            <td class="ps-5" mat-cell *matCellDef="let row; let i = index;" class="text-start"
                [hidden]="(origin == ActivityConfigEnum.PFF)">
                <mat-checkbox (change)="selection.toggle(row.id)"
                    [checked]="selection.isSelected(row['id'])"></mat-checkbox>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell text-center" [attr.colspan]="displayedColumns.length">
                {{ TABLE_CONSTANT.TABLE_NO_DATA }}
            </td>
        </tr>
    </table>
</mat-dialog-content>

<div class="tscDialogFooter" #footer [ngClass]="{'d-none': disabledOK}">
    <button class="btn btn-primary" (click)="closedDialog()">
        OK
    </button>
</div>
<!-- </div> -->