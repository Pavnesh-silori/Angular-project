<div class="card main-card cardOverwrite h100">
    <div class="headerContainer">
        <div class="headerLeftContainer centerAlignVertical">
            <div class="orgViewLogo">
                <img class="orgViewLogo rounded border"
                    [src]="receiveEmissionRequest?.['requester']['logoImageUrl'] || '/assets/images/corporate_fare.png'"
                    alt="organization-logo" />
            </div>
            <div class="row endAlignVertical ms-5">
                <div class="">
                    <span class="fw-bold fs-5"> {{ receiveEmissionRequest?.['requester']['name'] }} </span>
                    <div><span class="fw-bold">Organization ID: </span>{{ receiveEmissionRequest?.['requester']['id'] }}
                    </div>
                    <div><span class="fw-bold">Request ID: </span>{{ receiveEmissionRequest?.['id'] }}</div>
                    <div><span class="fw-bold">Requested by: </span>{{ receiveEmissionRequest?.['requester']['user'] }}
                    </div>
                    <div><span class="fw-bold">Accouting period: </span> {{ receiveEmissionRequest?.['accountingPeriod']}}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="card-body overflowX">
        <div class="col-sm-12 py-3">
            <form [formGroup]="formDataFG">
                <app-emission-data #emissionDataComp [consolidationApproachKeyIDList]="formDataFG.get('consolidationApproachKeyID').value" [emissionData]="formDataFG.get('emission').value" [action]="action">

                </app-emission-data>

                <div *ngIf="orgExist == 'NO'" class="col-sm-12 m-3"
                    formGroupName="otp">
                    <div class="row">
                        <div class="col-sm-4">
                            <mat-form-field class="matFieldWidth100"
                                [appearance]="MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE">
                                <input matInput type="text" formControlName="email">
                            </mat-form-field>
                        </div>

                        <div class="col-sm-2 mt-3">
                            <button class="btn btn-primary btn-sm" type="button" (click)="sendOtpFun()">
                                Send OTP
                            </button>
                        </div>
                    </div>

                    <div *ngIf="sendOtp" class="col-sm-3">
                        <mat-form-field class="matFieldWidth100"
                            [appearance]="MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE">
                            <mat-label class="formLabel"> Enter OTP</mat-label>
                            <input matInput type="number" formControlName="otp" [required]="orgExist == 'NO'">
                        </mat-form-field>
                    </div>
                </div>

 
            </form>
        </div>
    </div>

    <div class="row me-2 mt-3 mb-2">
        <div class="col-sm-12">
            <div class="float-end">
                <button *ngIf="orgExist == 'YES'" class="btn btn-success" type="button" (click)="submitBtnClk()">
                    {{ ButtonLabelEnum.SUBMIT_BTN_LABEL }}
                </button>
                <button *ngIf="orgExist == 'NO'" class="btn btn-success" type="button" (click)="submitBtnClk()"
                    [disabled]="!formDataFG.get('otp').controls['otp'].touched">
                    {{ ButtonLabelEnum.SUBMIT_BTN_LABEL }}
                </button>
            </div>
        </div>
    </div>
</div>