<div class="headerContainer p-0" #header>
    <div class="headerLeftContainer">
        <div class="pageTitle">{{ pageTitle }}</div>
        <div class="pageSubtitle">{{ pageSubtitle }}</div>
    </div>

    <div class="headerRightContainer">
        <div class="headerRightContainerInner">
            <lib-search-bar-one class="me-3" #searchBar [searchBy]="searchByPlaceHolder"
                (emitSearch)="searchFn($event)"></lib-search-bar-one>

            <button class="btn btn-sm btn-light refreshBtn centerAlign me-3 py-1" #refreshBtn matRipple
                [matRippleCentered]="MATERIAL_CONSTANT.MAT_RIPPLE_CENTER" matTooltipPosition="below"
                [matTooltip]="ButtonTooltipEnum.REFRESH">
                <span class="material-symbols-outlined text-secondary">
                    refresh
                </span>
            </button>

            <button class="btn btn-sm centerAlign py-1 iconBtn" matRipple
                [matRippleCentered]="MATERIAL_CONSTANT.MAT_RIPPLE_CENTER" matTooltipPosition="below"
                [matTooltip]="ButtonTooltipEnum.CLOSE" mat-dialog-close>
                <span class="material-symbols-outlined">
                    close
                </span>
            </button>
        </div>
    </div>
</div>

<mat-dialog-content class="mat-typography customScrollBar pt-2" #body>

    <table class="w-100" mat-table matSort #sort="matSort" matSortActive="id" matSortDirection="desc"
        matSortDisableClear [dataSource]="dataSource">

        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Form ID</th>
            <td mat-cell *matCellDef="let row">{{ row.id ? row.id :
                COMMON_CONSTANT.HYPHEN }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header disableClear>Form Name</th>
            <td mat-cell *matCellDef="let row" [ngClass]="{'cursorPointer': showCursorPointer(row)}"
                (click)="viewActivityConfig(row); closeDialog();">
                <a [ngClass]="{'text-dark': !showCursorPointer(row)}"
                    [matTooltip]="row.name.length > 15 ? row.name : ''">{{row.name ? (row.name.length > 15 ?
                    row.name.substring(0, 15) + '...' : row.name) : COMMON_CONSTANT.HYPHEN}}</a>
            </td>
        </ng-container>

        <ng-container matColumnDef="activityType">
            <th mat-header-cell *matHeaderCellDef>Activity Type</th>
            <!-- <th class="col-sm-1 activityType" mat-header-cell *matHeaderCellDef>
                <funnel-filter #activityFilter [header]="activityFilterHeader" [active]="activityFilterFlag"
                    [showSearchBar]="activityFilterShowSearchBar" [searchByPlaceholder]="activityFiltersearchByPlaceholder"
                    [searchBy]="activityFilterSearchBy" [selectAllLabel]="activityFilterAllLabel" [entityList]="allGas"
                    [view]="activityFilterView" [value]="activityFilterValue" [type]="activityFilterType" [selectFC]="activityFilterFC"
                    [resetFlag]="activityFilterResetFlag" (multi)="activityFilterFlag = true">
                </funnel-filter>
            </th> -->
            <td mat-cell *matCellDef="let row">{{ row.activity ? row.activity.name :
                COMMON_CONSTANT.HYPHEN }}</td>
        </ng-container>

        <ng-container matColumnDef="useActivityConfig">
            <th mat-header-cell *matHeaderCellDef>
            </th>
            <td mat-cell *matCellDef="let row;" class="text-end">
                <a class="btn btn-sm btn-success" (click)="routeToPFF(row); closeDialog();"><fa-icon [icon]="faPlus"
                        class="me-1"></fa-icon>Record</a>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumn;" class="dataRow"></tr>

        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell text-center" [attr.colspan]="displayedColumn.length">
                {{ TABLE_CONSTANT.TABLE_NO_DATA }}
            </td>
        </tr>

    </table>
</mat-dialog-content>

<div class="tscDialogFooter" #footer>
    <mat-paginator class="roundedBorder" showFirstLastButtons #paginator [length]="dataSourceLength"
        [pageSize]="TABLE_CONSTANT.DEFAULT_PAGE_SIZE" [pageSizeOptions]="TABLE_CONSTANT.PAGE_SIZE_OPTION">
    </mat-paginator>
</div>