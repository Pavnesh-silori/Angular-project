<div mat-dialog-title>
    <strong class="dialogTitle">
        New Survey
    </strong>

    <button mat-icon-button mat-dialog-close cdkFocusInitial class="float-end matDialogClose" matTooltip="Close"
        matTooltipPosition="before">
        <span class="material-symbols-outlined">close</span>
    </button>
</div>

<div class="matDialogContent" mat-dialog-content>
    <form [formGroup]="createSurveyFG">
        <mat-form-field class="matFieldWidth100" [appearance]="MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE">
            <mat-label class="formLabel">Survey name
            </mat-label>
            <input matInput class="formPlaceholder" type="text" placeholder="Survey Name" formControlName="surveyName"
                required>
            <mat-error *ngIf="errorHandling('surveyName', 'required')">
                Name is required
            </mat-error>
        </mat-form-field>

        <mat-form-field (click)="openDatepicker(date)" (keydown.enter)="openDatepicker(date)"
            (keydown.arrowdown)="openDatepicker(date)" class="matFieldWidth100 cursorPointer"
            [appearance]="MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE" appDateMonthYearFormat>
            <mat-label class="formLabel"> Date</mat-label>
            <input matInput class="noFocus" (dateInput)="formatDate('accountingStartDate')" [matDatepicker]="date"
                formControlName="accountingStartDate" [readonly]="true" required />
            <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
            <mat-datepicker #date disabled="false"></mat-datepicker>

            <mat-error *ngIf="errorHandling('accountingStartDate', 'required')">
                Date is required
            </mat-error>
        </mat-form-field>

        <div class="form-group row">
            <label class="col-sm-6 col-form-label">Total Employees</label>
            <div class="col-sm-6">
                <input type="number" class="form-control-plaintext" value="NonEditableContent" readonly
                    formControlName="totalEmployee">
            </div>
        </div>

        <mat-form-field class="matFieldWidth100" [appearance]="MaterialFormFieldAppearance.FORM_FIELD_APPEARANCE">
            <mat-label class="formLabel">Select sample set
            </mat-label>
            <mat-select formControlName="sampleSetPercentage" required>
                <mat-option *ngFor="let sample of sampleSetFrequency" [value]="sample['key']">
                    {{ sample.value }}
                </mat-option>
            </mat-select>
            <mat-error *ngIf="errorHandling('sampleSetPercentage', 'required')">
                Sample set is required
            </mat-error>
        </mat-form-field>

        <!-- <div class="row">
            <div class="justify-content-end centerAlignVertical">
                <button class="btn btn-sm btn-success text-white " type="submit">Create Survey</button>
            </div>
        </div> -->
    </form>
</div>

<div mat-dialog-footer align="end">
    <div  class="d-inline">
        <button  type="submit" class="button btn btn-success" (click)="onSubmit()">
            {{ ButtonLabelEnum.CREATE_BTN_LABEL }}
        </button>
    </div>
</div>