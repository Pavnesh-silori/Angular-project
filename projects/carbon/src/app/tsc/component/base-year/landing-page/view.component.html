<div class="card main-card cardOverwrite h100">
    <div class="headerContainer">
        <div class="headerLeftContainer">
            <div class="pageTitle">Base year</div>
        </div>
        <div class="headerRightContainer">
            <div class="headerRightContainerInner">
            </div>
        </div>
    </div>
    <ng-container *ngIf="isPreferenceSet; else noPreference;">
        <div class="row mx-2 mt-4">
            <div class="col-sm-6">
                <div class="col-sm-10">
                    <mat-card class="cardOverwrite bg-light border">
                        <mat-card-header>
                            <mat-card-title>
                                <div class="fs-4">
                                    <fa-icon [icon]="faGlobe"></fa-icon>
                                    {{ isBaseYearSameAsGHG == CARBON_CONSTANT.YES? 'GHG and SBTi' : 'GHG' }} base
                                    year
                                    <ng-container *ngIf="isGhgBaseYearSetup">
                                        <div class="btn-group float-end" ngbDropdown placement="left-top">
                                            <button type="button" ngbDropdownToggle
                                                class="dropdown-after dropdownAfter btn">
                                                <fa-icon [icon]="faEllipsisV"></fa-icon>
                                            </button>
                                            <div ngbDropdownMenu>
                                                <button class="dropdown-item btn-outline-danger"
                                                    (click)="confirmDeleteBaseYear(BaseYear['GHG_BASE_YEAR'])">
                                                    {{ ButtonLabelEnum.DELETE_BTN_LABEL }}
                                                </button>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </mat-card-title>
                            <mat-card-subtitle class="mt-1">
                                GHG, or Greenhouse Gas, base year refers to a specific reference year against which
                                emissions reductions or changes in greenhouse gas emissions are measured. It serves as a
                                benchmark for assessing the progress in reducing greenhouse gas emissions or achieving
                                climate goals, such as those set in international agreements like the Paris Agreement.
                            </mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                        </mat-card-content>
                        <mat-card-actions class="me-2" align="end">
                            <button *ngIf="!isGhgBaseYearSetup" class="btn btn-sm btn-success" [routerLink]="['ghg']">
                                {{ ButtonLabelEnum.CREATE_BTN_LABEL }}
                            </button>
                            <button *ngIf="isGhgBaseYearSetup" class="btn btn-sm btn-success" [routerLink]="['ghg']">
                                {{ ButtonLabelEnum.READ_BTN_LABEL }}
                            </button>
                        </mat-card-actions>
                    </mat-card>
                </div>
            </div>
            <div class="col-sm-6 " *ngIf="isBaseYearSameAsGHG == CARBON_CONSTANT.NO">
                <div class="col-sm-10">
                    <mat-card class="cardOverwrite bg-light border">
                        <mat-card-header>
                            <mat-card-title>
                                <div class="fs-4">
                                    <fa-icon [icon]="faBullseye"></fa-icon>
                                    SBTi base year
                                    <ng-container *ngIf="isSBTiBaseYearSetup">
                                        <div class="btn-group float-end" ngbDropdown placement="left-top">
                                            <button type="button" ngbDropdownToggle
                                                class="dropdown-after dropdownAfter btn">
                                                <fa-icon [icon]="faEllipsisV"></fa-icon>
                                            </button>
                                            <div ngbDropdownMenu>
                                                <button class="dropdown-item btn-outline-danger"
                                                    (click)="confirmDeleteBaseYear(BaseYear.SBTI_BASE_YEAR)">
                                                    {{ ButtonLabelEnum.DELETE_BTN_LABEL }}
                                                </button>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </mat-card-title>
                            <mat-card-subtitle class="mt-1">
                                The base year used in the context of Science-Based Targets (SBTs). SBTs are greenhouse
                                gas
                                emissions reduction targets that are set by companies or organizations to align with the
                                goals of the Paris Agreement, which aims to limit global warming to well below 2 degrees
                                Celsius above pre-industrial levels, with efforts to limit the increase to 1.5 degrees
                                Celsius.
                            </mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content>
                        </mat-card-content>
                        <mat-card-actions class="me-2" align="end">
                            <button *ngIf="!isSBTiBaseYearSetup" class="btn btn-sm btn-success" [routerLink]="['sbti']">
                                {{ ButtonLabelEnum.CREATE_BTN_LABEL }}
                            </button>
                            <button *ngIf="isSBTiBaseYearSetup" class="btn btn-sm btn-success" [routerLink]="['sbti']">
                                {{ ButtonLabelEnum.READ_BTN_LABEL }}
                            </button>
                        </mat-card-actions>
                    </mat-card>
                </div>
            </div>
        </div>
    </ng-container>
</div>
<ng-template #noPreference>
    <ng-container *ngIf="!loading">
        <div class="infoCardContainer">
            <div class="extraInfoCard px-3">
                <div class="alert alert-warning m-0 centerAlignVertical justify-content-between roundedBorder"
                    role="alert">
                    <div class="d-flex align-items-center">
                        <svg class="bi flex-shrink-0 me-3 extraInfoCardHeaderIcon">
                            <use xlink:href="#exclamation-triangle-fill" />
                        </svg>
                        <div class="endAlignVertical">
                            <div><strong>Calculation preferences have not been configured on the system yet.</strong>
                            </div>
                            <div class="mt-2">
                                Configuring calculation preferences are necessary to establish a base year.
                                To configure preferences, follow this link: <a
                                    routerLink="/carbon-setting/preference/calculation">Calculation Preference</a>.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="centerAlign">
                        <img class="noPreference" src="/assets/images/preference3.jpg" alt="">
                    </div>
                </div>
            </div>
        </div>
    </ng-container>
</ng-template>

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path
            d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
    </symbol>
</svg>